var fv=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var BE=fv((y2,ra)=>{function pv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},El={},jp={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),gv=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),_v=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),Cv=Symbol.for("react.memo"),Tv=Symbol.for("react.lazy"),Fd=Symbol.iterator;function Ev(t){return t===null||typeof t!="object"?null:(t=Fd&&t[Fd]||t["@@iterator"],typeof t=="function"?t:null)}var Fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lp=Object.assign,Kp={};function Ni(t,e,n){this.props=t,this.context=e,this.refs=Kp,this.updater=n||Fp}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vp(){}Vp.prototype=Ni.prototype;function Yu(t,e,n){this.props=t,this.context=e,this.refs=Kp,this.updater=n||Fp}var Xu=Yu.prototype=new Vp;Xu.constructor=Yu;Lp(Xu,Ni.prototype);Xu.isPureReactComponent=!0;var Ld=Array.isArray,Bp=Object.prototype.hasOwnProperty,Zu={current:null},zp={key:!0,ref:!0,__self:!0,__source:!0};function Up(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Bp.call(e,r)&&!zp.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Ls,type:t,key:i,ref:a,props:o,_owner:Zu.current}}function bv(t,e){return{$$typeof:Ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ju(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ls}function Nv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kd=/\/+/g;function lc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nv(""+t.key):e.toString(36)}function Ea(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ls:case gv:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+lc(a,0):r,Ld(o)?(n="",t!=null&&(n=t.replace(Kd,"$&/")+"/"),Ea(o,e,n,"",function(h){return h})):o!=null&&(Ju(o)&&(o=bv(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Kd,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",Ld(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+lc(i,l);a+=Ea(i,e,n,c,o)}else if(c=Ev(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+lc(i,l++),a+=Ea(i,e,n,c,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function oa(t,e,n){if(t==null)return t;var r=[],o=0;return Ea(t,r,"","",function(i){return e.call(n,i,o++)}),r}function Ov(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},ba={transition:null},Av={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:ba,ReactCurrentOwner:Zu};function Wp(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:oa,forEach:function(t,e,n){oa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oa(t,function(){e++}),e},toArray:function(t){return oa(t,function(e){return e})||[]},only:function(t){if(!Ju(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Ni;Ve.Fragment=yv;Ve.Profiler=_v;Ve.PureComponent=Yu;Ve.StrictMode=vv;Ve.Suspense=xv;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Av;Ve.act=Wp;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lp({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Zu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Bp.call(e,c)&&!zp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Ls,type:t.type,key:o,ref:i,props:r,_owner:a}};Ve.createContext=function(t){return t={$$typeof:kv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wv,_context:t},t.Consumer=t};Ve.createElement=Up;Ve.createFactory=function(t){var e=Up.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:Sv,render:t}};Ve.isValidElement=Ju;Ve.lazy=function(t){return{$$typeof:Tv,_payload:{_status:-1,_result:t},_init:Ov}};Ve.memo=function(t,e){return{$$typeof:Cv,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};Ve.unstable_act=Wp;Ve.useCallback=function(t,e){return en.current.useCallback(t,e)};Ve.useContext=function(t){return en.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return en.current.useEffect(t,e)};Ve.useId=function(){return en.current.useId()};Ve.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return en.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};Ve.useRef=function(t){return en.current.useRef(t)};Ve.useState=function(t){return en.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return en.current.useTransition()};Ve.version="18.3.1";jp.exports=Ve;var Y=jp.exports;const po=Dp(Y),Iv=pv({__proto__:null,default:po},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=Y,Pv=Symbol.for("react.element"),Dv=Symbol.for("react.fragment"),Rv=Object.prototype.hasOwnProperty,jv=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fv={key:!0,ref:!0,__self:!0,__source:!0};function qp(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Rv.call(e,r)&&!Fv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Pv,type:t,key:i,ref:a,props:o,_owner:jv.current}}El.Fragment=Dv;El.jsx=qp;El.jsxs=qp;Rp.exports=El;var $=Rp.exports,$p={exports:{}},kn={},Hp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,re){var j=Q.length;Q.push(re);e:for(;0<j;){var O=j-1>>>1,W=Q[O];if(0<o(W,re))Q[O]=re,Q[j]=W,j=O;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var re=Q[0],j=Q.pop();if(j!==re){Q[0]=j;e:for(var O=0,W=Q.length,te=W>>>1;O<te;){var ce=2*(O+1)-1,ie=Q[ce],y=ce+1,v=Q[y];if(0>o(ie,j))y<W&&0>o(v,ie)?(Q[O]=v,Q[y]=j,O=y):(Q[O]=ie,Q[ce]=j,O=ce);else if(y<W&&0>o(v,j))Q[O]=v,Q[y]=j,O=y;else break e}}return re}function o(Q,re){var j=Q.sortIndex-re.sortIndex;return j!==0?j:Q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,g=null,_=3,N=!1,E=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=Q)r(h),re.sortIndex=re.expirationTime,e(c,re);else break;re=n(h)}}function R(Q){if(b=!1,A(Q),!E)if(n(c)!==null)E=!0,he(M);else{var re=n(h);re!==null&&ge(R,re.startTime-Q)}}function M(Q,re){E=!1,b&&(b=!1,w(V),V=-1),N=!0;var j=_;try{for(A(re),g=n(c);g!==null&&(!(g.expirationTime>re)||Q&&!Z());){var O=g.callback;if(typeof O=="function"){g.callback=null,_=g.priorityLevel;var W=O(g.expirationTime<=re);re=t.unstable_now(),typeof W=="function"?g.callback=W:g===n(c)&&r(c),A(re)}else r(c);g=n(c)}if(g!==null)var te=!0;else{var ce=n(h);ce!==null&&ge(R,ce.startTime-re),te=!1}return te}finally{g=null,_=j,N=!1}}var L=!1,z=null,V=-1,J=5,G=-1;function Z(){return!(t.unstable_now()-G<J)}function ee(){if(z!==null){var Q=t.unstable_now();G=Q;var re=!0;try{re=z(!0,Q)}finally{re?fe():(L=!1,z=null)}}else L=!1}var fe;if(typeof T=="function")fe=function(){T(ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=ee,fe=function(){Se.postMessage(null)}}else fe=function(){I(ee,0)};function he(Q){z=Q,L||(L=!0,fe())}function ge(Q,re){V=I(function(){Q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){E||N||(E=!0,he(M))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var j=_;_=re;try{return Q()}finally{_=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var j=_;_=Q;try{return re()}finally{_=j}},t.unstable_scheduleCallback=function(Q,re,j){var O=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?O+j:O):j=O,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=j+W,Q={id:f++,callback:re,priorityLevel:Q,startTime:j,expirationTime:W,sortIndex:-1},j>O?(Q.sortIndex=j,e(h,Q),n(c)===null&&Q===n(h)&&(b?(w(V),V=-1):b=!0,ge(R,j-O))):(Q.sortIndex=W,e(c,Q),E||N||(E=!0,he(M))),Q},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(Q){var re=_;return function(){var j=_;_=re;try{return Q.apply(this,arguments)}finally{_=j}}}})(Gp);Hp.exports=Gp;var Lv=Hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=Y,_n=Lv;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qp=new Set,gs={};function Ao(t,e){fi(t,e),fi(t+"Capture",e)}function fi(t,e){for(gs[t]=e,t=0;t<e.length;t++)Qp.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=Object.prototype.hasOwnProperty,Vv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},Bd={};function Bv(t){return Kc.call(Bd,t)?!0:Kc.call(Vd,t)?!1:Vv.test(t)?Bd[t]=!0:(Vd[t]=!0,!1)}function zv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Uv(t,e,n,r){if(e===null||typeof e>"u"||zv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var eh=/[\-:]([a-z])/g;function th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eh,th);Kt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eh,th);Kt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eh,th);Kt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function nh(t,e,n,r){var o=Kt.hasOwnProperty(e)?Kt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Uv(e,n,o,r)&&(n=null),r||o===null?Bv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=Kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Xp=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),Bc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Zp=Symbol.for("react.offscreen"),zd=Symbol.iterator;function zi(t){return t===null||typeof t!="object"?null:(t=zd&&t[zd]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,cc;function Ji(t){if(cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cc=e&&e[1]||""}return`
`+cc+t}var uc=!1;function hc(t,e){if(!t||uc)return"";uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var c=`
`+o[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{uc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ji(t):""}function Wv(t){switch(t.tag){case 5:return Ji(t.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 2:case 15:return t=hc(t.type,!1),t;case 11:return t=hc(t.type.render,!1),t;case 1:return t=hc(t.type,!0),t;default:return""}}function Uc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Wo:return"Portal";case Vc:return"Profiler";case rh:return"StrictMode";case Bc:return"Suspense";case zc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xp:return(t.displayName||"Context")+".Consumer";case Yp:return(t._context.displayName||"Context")+".Provider";case oh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ih:return e=t.displayName||null,e!==null?e:Uc(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return Uc(t(e))}catch{}}return null}function qv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uc(e);case 8:return e===rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $v(t){var e=Jp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sa(t){t._valueTracker||(t._valueTracker=$v(t))}function em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wc(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ud(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tm(t,e){e=e.checked,e!=null&&nh(t,"checked",e,!1)}function qc(t,e){tm(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$c(t,e.type,n):e.hasOwnProperty("defaultValue")&&$c(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $c(t,e,n){(e!=="number"||za(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var es=Array.isArray;function ii(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(es(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function nm(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $d(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var aa,om=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=aa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hv=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(t){Hv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),is[e]=is[t]})});function im(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||is.hasOwnProperty(t)&&is[t]?(""+e).trim():e+"px"}function sm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=im(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var Gv=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qc(t,e){if(e){if(Gv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Yc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=null;function sh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zc=null,si=null,ai=null;function Hd(t){if(t=Bs(t)){if(typeof Zc!="function")throw Error(de(280));var e=t.stateNode;e&&(e=Il(e),Zc(t.stateNode,t.type,e))}}function am(t){si?ai?ai.push(t):ai=[t]:si=t}function lm(){if(si){var t=si,e=ai;if(ai=si=null,Hd(t),e)for(t=0;t<e.length;t++)Hd(e[t])}}function cm(t,e){return t(e)}function um(){}var dc=!1;function hm(t,e,n){if(dc)return t(e,n);dc=!0;try{return cm(t,e,n)}finally{dc=!1,(si!==null||ai!==null)&&(um(),lm())}}function vs(t,e){var n=t.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Jc=!1;if(yr)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Jc=!1}function Qv(t,e,n,r,o,i,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var ss=!1,Ua=null,Wa=!1,eu=null,Yv={onError:function(t){ss=!0,Ua=t}};function Xv(t,e,n,r,o,i,a,l,c){ss=!1,Ua=null,Qv.apply(Yv,arguments)}function Zv(t,e,n,r,o,i,a,l,c){if(Xv.apply(this,arguments),ss){if(ss){var h=Ua;ss=!1,Ua=null}else throw Error(de(198));Wa||(Wa=!0,eu=h)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gd(t){if(Io(t)!==t)throw Error(de(188))}function Jv(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Gd(o),t;if(i===r)return Gd(o),e;i=i.sibling}throw Error(de(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function fm(t){return t=Jv(t),t!==null?pm(t):null}function pm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pm(t);if(e!==null)return e;t=t.sibling}return null}var mm=_n.unstable_scheduleCallback,Qd=_n.unstable_cancelCallback,e0=_n.unstable_shouldYield,t0=_n.unstable_requestPaint,yt=_n.unstable_now,n0=_n.unstable_getCurrentPriorityLevel,ah=_n.unstable_ImmediatePriority,gm=_n.unstable_UserBlockingPriority,qa=_n.unstable_NormalPriority,r0=_n.unstable_LowPriority,ym=_n.unstable_IdlePriority,bl=null,tr=null;function o0(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(bl,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:a0,i0=Math.log,s0=Math.LN2;function a0(t){return t>>>=0,t===0?32:31-(i0(t)/s0|0)|0}var la=64,ca=4194304;function ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $a(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~o;l!==0?r=ts(l):(i&=a,i!==0&&(r=ts(i)))}else a=n&~o,a!==0?r=ts(a):i!==0&&(r=ts(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),o=1<<n,r|=t[n],e&=~o;return r}function l0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Un(i),l=1<<a,c=o[a];c===-1?(!(l&n)||l&r)&&(o[a]=l0(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function tu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vm(){var t=la;return la<<=1,!(la&4194240)&&(la=64),t}function fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ks(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function u0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Un(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function lh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Qe=0;function _m(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wm,ch,km,Sm,xm,nu=!1,ua=[],Br=null,zr=null,Ur=null,_s=new Map,ws=new Map,jr=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":_s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(e.pointerId)}}function Wi(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Bs(e),e!==null&&ch(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function d0(t,e,n,r,o){switch(e){case"focusin":return Br=Wi(Br,t,e,n,r,o),!0;case"dragenter":return zr=Wi(zr,t,e,n,r,o),!0;case"mouseover":return Ur=Wi(Ur,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return _s.set(i,Wi(_s.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ws.set(i,Wi(ws.get(i)||null,t,e,n,r,o)),!0}return!1}function Cm(t){var e=mo(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=dm(n),e!==null){t.blockedOn=e,xm(t.priority,function(){km(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Na(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ru(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xc=r,n.target.dispatchEvent(r),Xc=null}else return e=Bs(n),e!==null&&ch(e),t.blockedOn=n,!1;e.shift()}return!0}function Xd(t,e,n){Na(t)&&n.delete(e)}function f0(){nu=!1,Br!==null&&Na(Br)&&(Br=null),zr!==null&&Na(zr)&&(zr=null),Ur!==null&&Na(Ur)&&(Ur=null),_s.forEach(Xd),ws.forEach(Xd)}function qi(t,e){t.blockedOn===e&&(t.blockedOn=null,nu||(nu=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,f0)))}function ks(t){function e(o){return qi(o,t)}if(0<ua.length){qi(ua[0],t);for(var n=1;n<ua.length;n++){var r=ua[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&qi(Br,t),zr!==null&&qi(zr,t),Ur!==null&&qi(Ur,t),_s.forEach(e),ws.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)Cm(n),n.blockedOn===null&&jr.shift()}var li=Sr.ReactCurrentBatchConfig,Ha=!0;function p0(t,e,n,r){var o=Qe,i=li.transition;li.transition=null;try{Qe=1,uh(t,e,n,r)}finally{Qe=o,li.transition=i}}function m0(t,e,n,r){var o=Qe,i=li.transition;li.transition=null;try{Qe=4,uh(t,e,n,r)}finally{Qe=o,li.transition=i}}function uh(t,e,n,r){if(Ha){var o=ru(t,e,n,r);if(o===null)xc(t,e,r,Ga,n),Yd(t,r);else if(d0(o,t,e,n,r))r.stopPropagation();else if(Yd(t,r),e&4&&-1<h0.indexOf(t)){for(;o!==null;){var i=Bs(o);if(i!==null&&wm(i),i=ru(t,e,n,r),i===null&&xc(t,e,r,Ga,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else xc(t,e,r,null,n)}}var Ga=null;function ru(t,e,n,r){if(Ga=null,t=sh(r),t=mo(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ga=t,null}function Tm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n0()){case ah:return 1;case gm:return 4;case qa:case r0:return 16;case ym:return 536870912;default:return 16}default:return 16}}var Lr=null,hh=null,Oa=null;function Em(){if(Oa)return Oa;var t,e=hh,n=e.length,r,o="value"in Lr?Lr.value:Lr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return Oa=o.slice(t,1<r?1-r:void 0)}function Aa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ha(){return!0}function Zd(){return!1}function Sn(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ha:Zd,this.isPropagationStopped=Zd,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=Sn(Oi),Vs=dt({},Oi,{view:0,detail:0}),g0=Sn(Vs),pc,mc,$i,Nl=dt({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(pc=t.screenX-$i.screenX,mc=t.screenY-$i.screenY):mc=pc=0,$i=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),Jd=Sn(Nl),y0=dt({},Nl,{dataTransfer:0}),v0=Sn(y0),_0=dt({},Vs,{relatedTarget:0}),gc=Sn(_0),w0=dt({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=Sn(w0),S0=dt({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x0=Sn(S0),C0=dt({},Oi,{data:0}),ef=Sn(C0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b0[t])?!!e[t]:!1}function fh(){return N0}var O0=dt({},Vs,{key:function(t){if(t.key){var e=T0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(t){return t.type==="keypress"?Aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A0=Sn(O0),I0=dt({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Sn(I0),M0=dt({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),P0=Sn(M0),D0=dt({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=Sn(D0),j0=dt({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F0=Sn(j0),L0=[9,13,27,32],ph=yr&&"CompositionEvent"in window,as=null;yr&&"documentMode"in document&&(as=document.documentMode);var K0=yr&&"TextEvent"in window&&!as,bm=yr&&(!ph||as&&8<as&&11>=as),nf=" ",rf=!1;function Nm(t,e){switch(t){case"keyup":return L0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function V0(t,e){switch(t){case"compositionend":return Om(e);case"keypress":return e.which!==32?null:(rf=!0,nf);case"textInput":return t=e.data,t===nf&&rf?null:t;default:return null}}function B0(t,e){if($o)return t==="compositionend"||!ph&&Nm(t,e)?(t=Em(),Oa=hh=Lr=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bm&&e.locale!=="ko"?null:e.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z0[t.type]:e==="textarea"}function Am(t,e,n,r){am(r),e=Qa(e,"onChange"),0<e.length&&(n=new dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ls=null,Ss=null;function U0(t){Bm(t,0)}function Ol(t){var e=Qo(t);if(em(e))return t}function W0(t,e){if(t==="change")return e}var Im=!1;if(yr){var yc;if(yr){var vc="oninput"in document;if(!vc){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),vc=typeof sf.oninput=="function"}yc=vc}else yc=!1;Im=yc&&(!document.documentMode||9<document.documentMode)}function af(){ls&&(ls.detachEvent("onpropertychange",Mm),Ss=ls=null)}function Mm(t){if(t.propertyName==="value"&&Ol(Ss)){var e=[];Am(e,Ss,t,sh(t)),hm(U0,e)}}function q0(t,e,n){t==="focusin"?(af(),ls=e,Ss=n,ls.attachEvent("onpropertychange",Mm)):t==="focusout"&&af()}function $0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(Ss)}function H0(t,e){if(t==="click")return Ol(e)}function G0(t,e){if(t==="input"||t==="change")return Ol(e)}function Q0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:Q0;function xs(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Kc.call(e,o)||!$n(t[o],e[o]))return!1}return!0}function lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cf(t,e){var n=lf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lf(n)}}function Pm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dm(){for(var t=window,e=za();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=za(t.document)}return e}function mh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y0(t){var e=Dm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pm(n.ownerDocument.documentElement,n)){if(r!==null&&mh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=cf(n,i);var a=cf(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X0=yr&&"documentMode"in document&&11>=document.documentMode,Ho=null,ou=null,cs=null,iu=!1;function uf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Ho==null||Ho!==za(r)||(r=Ho,"selectionStart"in r&&mh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cs&&xs(cs,r)||(cs=r,r=Qa(ou,"onSelect"),0<r.length&&(e=new dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function da(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},_c={},Rm={};yr&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Al(t){if(_c[t])return _c[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rm)return _c[t]=e[n];return t}var jm=Al("animationend"),Fm=Al("animationiteration"),Lm=Al("animationstart"),Km=Al("transitionend"),Vm=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){Vm.set(t,e),Ao(e,[t])}for(var wc=0;wc<hf.length;wc++){var kc=hf[wc],Z0=kc.toLowerCase(),J0=kc[0].toUpperCase()+kc.slice(1);no(Z0,"on"+J0)}no(jm,"onAnimationEnd");no(Fm,"onAnimationIteration");no(Lm,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(Km,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function df(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zv(r,e,void 0,t),t.currentTarget=null}function Bm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&o.isPropagationStopped())break e;df(o,l,h),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&o.isPropagationStopped())break e;df(o,l,h),i=c}}}if(Wa)throw t=eu,Wa=!1,eu=null,t}function nt(t,e){var n=e[uu];n===void 0&&(n=e[uu]=new Set);var r=t+"__bubble";n.has(r)||(zm(e,t,2,!1),n.add(r))}function Sc(t,e,n){var r=0;e&&(r|=4),zm(n,t,r,e)}var fa="_reactListening"+Math.random().toString(36).slice(2);function Cs(t){if(!t[fa]){t[fa]=!0,Qp.forEach(function(n){n!=="selectionchange"&&(e1.has(n)||Sc(n,!1,t),Sc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fa]||(e[fa]=!0,Sc("selectionchange",!1,e))}}function zm(t,e,n,r){switch(Tm(e)){case 1:var o=p0;break;case 4:o=m0;break;default:o=uh}n=o.bind(null,e,n,t),o=void 0,!Jc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function xc(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=mo(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}hm(function(){var h=i,f=sh(n),g=[];e:{var _=Vm.get(t);if(_!==void 0){var N=dh,E=t;switch(t){case"keypress":if(Aa(n)===0)break e;case"keydown":case"keyup":N=A0;break;case"focusin":E="focus",N=gc;break;case"focusout":E="blur",N=gc;break;case"beforeblur":case"afterblur":N=gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=P0;break;case jm:case Fm:case Lm:N=k0;break;case Km:N=R0;break;case"scroll":N=g0;break;case"wheel":N=F0;break;case"copy":case"cut":case"paste":N=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=tf}var b=(e&4)!==0,I=!b&&t==="scroll",w=b?_!==null?_+"Capture":null:_;b=[];for(var T=h,A;T!==null;){A=T;var R=A.stateNode;if(A.tag===5&&R!==null&&(A=R,w!==null&&(R=vs(T,w),R!=null&&b.push(Ts(T,R,A)))),I)break;T=T.return}0<b.length&&(_=new N(_,E,null,n,f),g.push({event:_,listeners:b}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",_&&n!==Xc&&(E=n.relatedTarget||n.fromElement)&&(mo(E)||E[vr]))break e;if((N||_)&&(_=f.window===f?f:(_=f.ownerDocument)?_.defaultView||_.parentWindow:window,N?(E=n.relatedTarget||n.toElement,N=h,E=E?mo(E):null,E!==null&&(I=Io(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(N=null,E=h),N!==E)){if(b=Jd,R="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=tf,R="onPointerLeave",w="onPointerEnter",T="pointer"),I=N==null?_:Qo(N),A=E==null?_:Qo(E),_=new b(R,T+"leave",N,n,f),_.target=I,_.relatedTarget=A,R=null,mo(f)===h&&(b=new b(w,T+"enter",E,n,f),b.target=A,b.relatedTarget=I,R=b),I=R,N&&E)t:{for(b=N,w=E,T=0,A=b;A;A=Lo(A))T++;for(A=0,R=w;R;R=Lo(R))A++;for(;0<T-A;)b=Lo(b),T--;for(;0<A-T;)w=Lo(w),A--;for(;T--;){if(b===w||w!==null&&b===w.alternate)break t;b=Lo(b),w=Lo(w)}b=null}else b=null;N!==null&&ff(g,_,N,b,!1),E!==null&&I!==null&&ff(g,I,E,b,!0)}}e:{if(_=h?Qo(h):window,N=_.nodeName&&_.nodeName.toLowerCase(),N==="select"||N==="input"&&_.type==="file")var M=W0;else if(of(_))if(Im)M=G0;else{M=$0;var L=q0}else(N=_.nodeName)&&N.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(M=H0);if(M&&(M=M(t,h))){Am(g,M,n,f);break e}L&&L(t,_,h),t==="focusout"&&(L=_._wrapperState)&&L.controlled&&_.type==="number"&&$c(_,"number",_.value)}switch(L=h?Qo(h):window,t){case"focusin":(of(L)||L.contentEditable==="true")&&(Ho=L,ou=h,cs=null);break;case"focusout":cs=ou=Ho=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,uf(g,n,f);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":uf(g,n,f)}var z;if(ph)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else $o?Nm(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(bm&&n.locale!=="ko"&&($o||V!=="onCompositionStart"?V==="onCompositionEnd"&&$o&&(z=Em()):(Lr=f,hh="value"in Lr?Lr.value:Lr.textContent,$o=!0)),L=Qa(h,V),0<L.length&&(V=new ef(V,t,null,n,f),g.push({event:V,listeners:L}),z?V.data=z:(z=Om(n),z!==null&&(V.data=z)))),(z=K0?V0(t,n):B0(t,n))&&(h=Qa(h,"onBeforeInput"),0<h.length&&(f=new ef("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:h}),f.data=z))}Bm(g,e)})}function Ts(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qa(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=vs(t,n),i!=null&&r.unshift(Ts(t,i,o)),i=vs(t,e),i!=null&&r.push(Ts(t,i,o))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ff(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,o?(c=vs(n,i),c!=null&&a.unshift(Ts(n,c,l))):o||(c=vs(n,i),c!=null&&a.push(Ts(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var t1=/\r\n?/g,n1=/\u0000|\uFFFD/g;function pf(t){return(typeof t=="string"?t:""+t).replace(t1,`
`).replace(n1,"")}function pa(t,e,n){if(e=pf(e),pf(t)!==e&&n)throw Error(de(425))}function Ya(){}var su=null,au=null;function lu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(t){return mf.resolve(null).then(t).catch(i1)}:cu;function i1(t){setTimeout(function(){throw t})}function Cc(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),ks(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ks(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),er="__reactFiber$"+Ai,Es="__reactProps$"+Ai,vr="__reactContainer$"+Ai,uu="__reactEvents$"+Ai,s1="__reactListeners$"+Ai,a1="__reactHandles$"+Ai;function mo(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gf(t);t!==null;){if(n=t[er])return n;t=gf(t)}return e}t=n,n=t.parentNode}return null}function Bs(t){return t=t[er]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function Il(t){return t[Es]||null}var hu=[],Yo=-1;function ro(t){return{current:t}}function ot(t){0>Yo||(t.current=hu[Yo],hu[Yo]=null,Yo--)}function et(t,e){Yo++,hu[Yo]=t.current,t.current=e}var Zr={},$t=ro(Zr),ln=ro(!1),So=Zr;function pi(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function cn(t){return t=t.childContextTypes,t!=null}function Xa(){ot(ln),ot($t)}function yf(t,e,n){if($t.current!==Zr)throw Error(de(168));et($t,e),et(ln,n)}function Um(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(de(108,qv(t)||"Unknown",o));return dt({},n,r)}function Za(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,So=$t.current,et($t,t),et(ln,ln.current),!0}function vf(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=Um(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,ot(ln),ot($t),et($t,t)):ot(ln),et(ln,n)}var dr=null,Ml=!1,Tc=!1;function Wm(t){dr===null?dr=[t]:dr.push(t)}function l1(t){Ml=!0,Wm(t)}function oo(){if(!Tc&&dr!==null){Tc=!0;var t=0,e=Qe;try{var n=dr;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Ml=!1}catch(o){throw dr!==null&&(dr=dr.slice(t+1)),mm(ah,oo),o}finally{Qe=e,Tc=!1}}return null}var Xo=[],Zo=0,Ja=null,el=0,Cn=[],Tn=0,xo=null,fr=1,pr="";function co(t,e){Xo[Zo++]=el,Xo[Zo++]=Ja,Ja=t,el=e}function qm(t,e,n){Cn[Tn++]=fr,Cn[Tn++]=pr,Cn[Tn++]=xo,xo=t;var r=fr;t=pr;var o=32-Un(r)-1;r&=~(1<<o),n+=1;var i=32-Un(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,fr=1<<32-Un(e)+o|n<<o|r,pr=i+t}else fr=1<<i|n<<o|r,pr=t}function gh(t){t.return!==null&&(co(t,1),qm(t,1,0))}function yh(t){for(;t===Ja;)Ja=Xo[--Zo],Xo[Zo]=null,el=Xo[--Zo],Xo[Zo]=null;for(;t===xo;)xo=Cn[--Tn],Cn[Tn]=null,pr=Cn[--Tn],Cn[Tn]=null,fr=Cn[--Tn],Cn[Tn]=null}var vn=null,yn=null,lt=!1,Vn=null;function $m(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _f(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,yn=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,yn=null,!0):!1;default:return!1}}function du(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fu(t){if(lt){var e=yn;if(e){var n=e;if(!_f(t,e)){if(du(t))throw Error(de(418));e=Wr(n.nextSibling);var r=vn;e&&_f(t,e)?$m(r,n):(t.flags=t.flags&-4097|2,lt=!1,vn=t)}}else{if(du(t))throw Error(de(418));t.flags=t.flags&-4097|2,lt=!1,vn=t}}}function wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function ma(t){if(t!==vn)return!1;if(!lt)return wf(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lu(t.type,t.memoizedProps)),e&&(e=yn)){if(du(t))throw Hm(),Error(de(418));for(;e;)$m(t,e),e=Wr(e.nextSibling)}if(wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=vn?Wr(t.stateNode.nextSibling):null;return!0}function Hm(){for(var t=yn;t;)t=Wr(t.nextSibling)}function mi(){yn=vn=null,lt=!1}function vh(t){Vn===null?Vn=[t]:Vn.push(t)}var c1=Sr.ReactCurrentBatchConfig;function Hi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=o.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function ga(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kf(t){var e=t._init;return e(t._payload)}function Gm(t){function e(w,T){if(t){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function n(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function o(w,T){return w=Gr(w,T),w.index=0,w.sibling=null,w}function i(w,T,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=2,T):A):(w.flags|=2,T)):(w.flags|=1048576,T)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,T,A,R){return T===null||T.tag!==6?(T=Mc(A,w.mode,R),T.return=w,T):(T=o(T,A),T.return=w,T)}function c(w,T,A,R){var M=A.type;return M===qo?f(w,T,A.props.children,R,A.key):T!==null&&(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mr&&kf(M)===T.type)?(R=o(T,A.props),R.ref=Hi(w,T,A),R.return=w,R):(R=Fa(A.type,A.key,A.props,null,w.mode,R),R.ref=Hi(w,T,A),R.return=w,R)}function h(w,T,A,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Pc(A,w.mode,R),T.return=w,T):(T=o(T,A.children||[]),T.return=w,T)}function f(w,T,A,R,M){return T===null||T.tag!==7?(T=wo(A,w.mode,R,M),T.return=w,T):(T=o(T,A),T.return=w,T)}function g(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Mc(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ia:return A=Fa(T.type,T.key,T.props,null,w.mode,A),A.ref=Hi(w,null,T),A.return=w,A;case Wo:return T=Pc(T,w.mode,A),T.return=w,T;case Mr:var R=T._init;return g(w,R(T._payload),A)}if(es(T)||zi(T))return T=wo(T,w.mode,A,null),T.return=w,T;ga(w,T)}return null}function _(w,T,A,R){var M=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return M!==null?null:l(w,T,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ia:return A.key===M?c(w,T,A,R):null;case Wo:return A.key===M?h(w,T,A,R):null;case Mr:return M=A._init,_(w,T,M(A._payload),R)}if(es(A)||zi(A))return M!==null?null:f(w,T,A,R,null);ga(w,A)}return null}function N(w,T,A,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(A)||null,l(T,w,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ia:return w=w.get(R.key===null?A:R.key)||null,c(T,w,R,M);case Wo:return w=w.get(R.key===null?A:R.key)||null,h(T,w,R,M);case Mr:var L=R._init;return N(w,T,A,L(R._payload),M)}if(es(R)||zi(R))return w=w.get(A)||null,f(T,w,R,M,null);ga(T,R)}return null}function E(w,T,A,R){for(var M=null,L=null,z=T,V=T=0,J=null;z!==null&&V<A.length;V++){z.index>V?(J=z,z=null):J=z.sibling;var G=_(w,z,A[V],R);if(G===null){z===null&&(z=J);break}t&&z&&G.alternate===null&&e(w,z),T=i(G,T,V),L===null?M=G:L.sibling=G,L=G,z=J}if(V===A.length)return n(w,z),lt&&co(w,V),M;if(z===null){for(;V<A.length;V++)z=g(w,A[V],R),z!==null&&(T=i(z,T,V),L===null?M=z:L.sibling=z,L=z);return lt&&co(w,V),M}for(z=r(w,z);V<A.length;V++)J=N(z,w,V,A[V],R),J!==null&&(t&&J.alternate!==null&&z.delete(J.key===null?V:J.key),T=i(J,T,V),L===null?M=J:L.sibling=J,L=J);return t&&z.forEach(function(Z){return e(w,Z)}),lt&&co(w,V),M}function b(w,T,A,R){var M=zi(A);if(typeof M!="function")throw Error(de(150));if(A=M.call(A),A==null)throw Error(de(151));for(var L=M=null,z=T,V=T=0,J=null,G=A.next();z!==null&&!G.done;V++,G=A.next()){z.index>V?(J=z,z=null):J=z.sibling;var Z=_(w,z,G.value,R);if(Z===null){z===null&&(z=J);break}t&&z&&Z.alternate===null&&e(w,z),T=i(Z,T,V),L===null?M=Z:L.sibling=Z,L=Z,z=J}if(G.done)return n(w,z),lt&&co(w,V),M;if(z===null){for(;!G.done;V++,G=A.next())G=g(w,G.value,R),G!==null&&(T=i(G,T,V),L===null?M=G:L.sibling=G,L=G);return lt&&co(w,V),M}for(z=r(w,z);!G.done;V++,G=A.next())G=N(z,w,V,G.value,R),G!==null&&(t&&G.alternate!==null&&z.delete(G.key===null?V:G.key),T=i(G,T,V),L===null?M=G:L.sibling=G,L=G);return t&&z.forEach(function(ee){return e(w,ee)}),lt&&co(w,V),M}function I(w,T,A,R){if(typeof A=="object"&&A!==null&&A.type===qo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ia:e:{for(var M=A.key,L=T;L!==null;){if(L.key===M){if(M=A.type,M===qo){if(L.tag===7){n(w,L.sibling),T=o(L,A.props.children),T.return=w,w=T;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mr&&kf(M)===L.type){n(w,L.sibling),T=o(L,A.props),T.ref=Hi(w,L,A),T.return=w,w=T;break e}n(w,L);break}else e(w,L);L=L.sibling}A.type===qo?(T=wo(A.props.children,w.mode,R,A.key),T.return=w,w=T):(R=Fa(A.type,A.key,A.props,null,w.mode,R),R.ref=Hi(w,T,A),R.return=w,w=R)}return a(w);case Wo:e:{for(L=A.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(w,T.sibling),T=o(T,A.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else e(w,T);T=T.sibling}T=Pc(A,w.mode,R),T.return=w,w=T}return a(w);case Mr:return L=A._init,I(w,T,L(A._payload),R)}if(es(A))return E(w,T,A,R);if(zi(A))return b(w,T,A,R);ga(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(n(w,T.sibling),T=o(T,A),T.return=w,w=T):(n(w,T),T=Mc(A,w.mode,R),T.return=w,w=T),a(w)):n(w,T)}return I}var gi=Gm(!0),Qm=Gm(!1),tl=ro(null),nl=null,Jo=null,_h=null;function wh(){_h=Jo=nl=null}function kh(t){var e=tl.current;ot(tl),t._currentValue=e}function pu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ci(t,e){nl=t,_h=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(_h!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(nl===null)throw Error(de(308));Jo=t,nl.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var go=null;function Sh(t){go===null?go=[t]:go.push(t)}function Ym(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Sh(e)):(n.next=o.next,o.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,_r(t,n)}return o=r.interleaved,o===null?(e.next=e,Sh(r)):(e.next=o.next,o.next=e),r.interleaved=e,_r(t,n)}function Ia(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}function Sf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rl(t,e,n,r){var o=t.updateQueue;Pr=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?i=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(i!==null){var g=o.baseState;a=0,f=h=c=null,l=i;do{var _=l.lane,N=l.eventTime;if((r&_)===_){f!==null&&(f=f.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,b=l;switch(_=e,N=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){g=E.call(N,g,_);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,_=typeof E=="function"?E.call(N,g,_):E,_==null)break e;g=dt({},g,_);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=o.effects,_===null?o.effects=[l]:_.push(l))}else N={eventTime:N,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=N,c=g):f=f.next=N,a|=_;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;_=l,l=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(f===null&&(c=g),o.baseState=c,o.firstBaseUpdate=h,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);To|=a,t.lanes=a,t.memoizedState=g}}function xf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(de(191,o));o.call(r)}}}var zs={},nr=ro(zs),bs=ro(zs),Ns=ro(zs);function yo(t){if(t===zs)throw Error(de(174));return t}function Ch(t,e){switch(et(Ns,e),et(bs,t),et(nr,zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gc(e,t)}ot(nr),et(nr,e)}function yi(){ot(nr),ot(bs),ot(Ns)}function Zm(t){yo(Ns.current);var e=yo(nr.current),n=Gc(e,t.type);e!==n&&(et(bs,t),et(nr,n))}function Th(t){bs.current===t&&(ot(nr),ot(bs))}var ut=ro(0);function ol(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ec=[];function Eh(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var Ma=Sr.ReactCurrentDispatcher,bc=Sr.ReactCurrentBatchConfig,Co=0,ht=null,Et=null,At=null,il=!1,us=!1,Os=0,u1=0;function Bt(){throw Error(de(321))}function bh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Nh(t,e,n,r,o,i){if(Co=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ma.current=t===null||t.memoizedState===null?p1:m1,t=n(r,o),us){i=0;do{if(us=!1,Os=0,25<=i)throw Error(de(301));i+=1,At=Et=null,e.updateQueue=null,Ma.current=g1,t=n(r,o)}while(us)}if(Ma.current=sl,e=Et!==null&&Et.next!==null,Co=0,At=Et=ht=null,il=!1,e)throw Error(de(300));return t}function Oh(){var t=Os!==0;return Os=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ht.memoizedState=At=t:At=At.next=t,At}function Pn(){if(Et===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=At===null?ht.memoizedState:At.next;if(e!==null)At=e,Et=t;else{if(t===null)throw Error(de(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?ht.memoizedState=At=t:At=At.next=t}return At}function As(t,e){return typeof e=="function"?e(t):e}function Nc(t){var e=Pn(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=Et,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=a=null,c=null,h=i;do{var f=h.lane;if((Co&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,a=r):c=c.next=g,ht.lanes|=f,To|=f}h=h.next}while(h!==null&&h!==i);c===null?a=r:c.next=l,$n(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ht.lanes|=i,To|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oc(t){var e=Pn(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);$n(i,e.memoizedState)||(an=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Jm(){}function eg(t,e){var n=ht,r=Pn(),o=e(),i=!$n(r.memoizedState,o);if(i&&(r.memoizedState=o,an=!0),r=r.queue,Ah(rg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Is(9,ng.bind(null,n,r,o,e),void 0,null),It===null)throw Error(de(349));Co&30||tg(n,e,o)}return o}function tg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ng(t,e,n,r){e.value=n,e.getSnapshot=r,og(e)&&ig(t)}function rg(t,e,n){return n(function(){og(e)&&ig(t)})}function og(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function ig(t){var e=_r(t,1);e!==null&&Wn(e,t,1,-1)}function Cf(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},e.queue=t,t=t.dispatch=f1.bind(null,ht,t),[e.memoizedState,t]}function Is(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sg(){return Pn().memoizedState}function Pa(t,e,n,r){var o=Jn();ht.flags|=t,o.memoizedState=Is(1|e,n,void 0,r===void 0?null:r)}function Pl(t,e,n,r){var o=Pn();r=r===void 0?null:r;var i=void 0;if(Et!==null){var a=Et.memoizedState;if(i=a.destroy,r!==null&&bh(r,a.deps)){o.memoizedState=Is(e,n,i,r);return}}ht.flags|=t,o.memoizedState=Is(1|e,n,i,r)}function Tf(t,e){return Pa(8390656,8,t,e)}function Ah(t,e){return Pl(2048,8,t,e)}function ag(t,e){return Pl(4,2,t,e)}function lg(t,e){return Pl(4,4,t,e)}function cg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ug(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4,4,cg.bind(null,e,t),n)}function Ih(){}function hg(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dg(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fg(t,e,n){return Co&21?($n(n,e)||(n=vm(),ht.lanes|=n,To|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function h1(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=bc.transition;bc.transition={};try{t(!1),e()}finally{Qe=n,bc.transition=r}}function pg(){return Pn().memoizedState}function d1(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mg(t))gg(e,n);else if(n=Ym(t,e,n,r),n!==null){var o=Jt();Wn(n,t,r,o),yg(n,e,r)}}function f1(t,e,n){var r=Hr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mg(t))gg(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,$n(l,a)){var c=e.interleaved;c===null?(o.next=o,Sh(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=Ym(t,e,o,r),n!==null&&(o=Jt(),Wn(n,t,r,o),yg(n,e,r))}}function mg(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function gg(t,e){us=il=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}var sl={readContext:Mn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},p1={readContext:Mn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:Tf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pa(4194308,4,cg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pa(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d1.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:Cf,useDebugValue:Ih,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=Cf(!1),e=t[0];return t=h1.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,o=Jn();if(lt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),It===null)throw Error(de(349));Co&30||tg(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Tf(rg.bind(null,r,i,t),[t]),r.flags|=2048,Is(9,ng.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jn(),e=It.identifierPrefix;if(lt){var n=pr,r=fr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Os++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m1={readContext:Mn,useCallback:hg,useContext:Mn,useEffect:Ah,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:dg,useReducer:Nc,useRef:sg,useState:function(){return Nc(As)},useDebugValue:Ih,useDeferredValue:function(t){var e=Pn();return fg(e,Et.memoizedState,t)},useTransition:function(){var t=Nc(As)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:Jm,useSyncExternalStore:eg,useId:pg,unstable_isNewReconciler:!1},g1={readContext:Mn,useCallback:hg,useContext:Mn,useEffect:Ah,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:dg,useReducer:Oc,useRef:sg,useState:function(){return Oc(As)},useDebugValue:Ih,useDeferredValue:function(t){var e=Pn();return Et===null?e.memoizedState=t:fg(e,Et.memoizedState,t)},useTransition:function(){var t=Oc(As)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:Jm,useSyncExternalStore:eg,useId:pg,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dl={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),o=Hr(t),i=mr(r,o);i.payload=e,n!=null&&(i.callback=n),e=qr(t,i,o),e!==null&&(Wn(e,t,o,r),Ia(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),o=Hr(t),i=mr(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qr(t,i,o),e!==null&&(Wn(e,t,o,r),Ia(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=Hr(t),o=mr(n,r);o.tag=2,e!=null&&(o.callback=e),e=qr(t,o,r),e!==null&&(Wn(e,t,r,n),Ia(e,t,r))}};function Ef(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!xs(n,r)||!xs(o,i):!0}function vg(t,e,n){var r=!1,o=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=Mn(i):(o=cn(e)?So:$t.current,r=e.contextTypes,i=(r=r!=null)?pi(t,o):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function bf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dl.enqueueReplaceState(e,e.state,null)}function gu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},xh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Mn(i):(i=cn(e)?So:$t.current,o.context=pi(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mu(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Dl.enqueueReplaceState(o,o.state,null),rl(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function vi(t,e){try{var n="",r=e;do n+=Wv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y1=typeof WeakMap=="function"?WeakMap:Map;function _g(t,e,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ll||(ll=!0,bu=r),yu(t,e)},n}function wg(t,e,n){n=mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){yu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yu(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Nf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y1;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=I1.bind(null,t,e,n),e.then(t,t))}function Of(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Af(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mr(-1,1),e.tag=2,qr(n,e,1))),n.lanes|=1),t)}var v1=Sr.ReactCurrentOwner,an=!1;function Qt(t,e,n,r){e.child=t===null?Qm(e,null,n,r):gi(e,t.child,n,r)}function If(t,e,n,r,o){n=n.render;var i=e.ref;return ci(e,o),r=Nh(t,e,n,r,i,o),n=Oh(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,wr(t,e,o)):(lt&&n&&gh(e),e.flags|=1,Qt(t,e,r,o),e.child)}function Mf(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Kh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kg(t,e,i,r,o)):(t=Fa(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(a,r)&&t.ref===e.ref)return wr(t,e,o)}return e.flags|=1,t=Gr(i,r),t.ref=e.ref,t.return=e,e.child=t}function kg(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(xs(i,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,wr(t,e,o)}return vu(t,e,n,r,o)}function Sg(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ti,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(ti,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,et(ti,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,et(ti,mn),mn|=r;return Qt(t,e,o,n),e.child}function xg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vu(t,e,n,r,o){var i=cn(n)?So:$t.current;return i=pi(e,i),ci(e,o),n=Nh(t,e,n,r,i,o),r=Oh(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,wr(t,e,o)):(lt&&r&&gh(e),e.flags|=1,Qt(t,e,n,o),e.child)}function Pf(t,e,n,r,o){if(cn(n)){var i=!0;Za(e)}else i=!1;if(ci(e,o),e.stateNode===null)Da(t,e),vg(e,n,r),gu(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Mn(h):(h=cn(n)?So:$t.current,h=pi(e,h));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&bf(e,a,r,h),Pr=!1;var _=e.memoizedState;a.state=_,rl(e,r,a,o),c=e.memoizedState,l!==r||_!==c||ln.current||Pr?(typeof f=="function"&&(mu(e,n,f,r),c=e.memoizedState),(l=Pr||Ef(e,n,l,r,_,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Xm(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ln(e.type,l),a.props=h,g=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=cn(n)?So:$t.current,c=pi(e,c));var N=n.getDerivedStateFromProps;(f=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||_!==c)&&bf(e,a,r,c),Pr=!1,_=e.memoizedState,a.state=_,rl(e,r,a,o);var E=e.memoizedState;l!==g||_!==E||ln.current||Pr?(typeof N=="function"&&(mu(e,n,N,r),E=e.memoizedState),(h=Pr||Ef(e,n,h,r,_,E,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return _u(t,e,n,r,i,o)}function _u(t,e,n,r,o,i){xg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&vf(e,n,!1),wr(t,e,i);r=e.stateNode,v1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=gi(e,t.child,null,i),e.child=gi(e,null,l,i)):Qt(t,e,l,i),e.memoizedState=r.state,o&&vf(e,n,!0),e.child}function Cg(t){var e=t.stateNode;e.pendingContext?yf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yf(t,e.context,!1),Ch(t,e.containerInfo)}function Df(t,e,n,r,o){return mi(),vh(o),e.flags|=256,Qt(t,e,n,r),e.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function ku(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tg(t,e,n){var r=e.pendingProps,o=ut.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(o&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),et(ut,o&1),t===null)return fu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Fl(a,r,0,null),t=wo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ku(n),e.memoizedState=wu,t):Mh(e,a));if(o=t.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return _1(t,e,a,r,l,o,n);if(i){i=r.fallback,a=e.mode,o=t.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Gr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Gr(l,i):(i=wo(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?ku(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=wu,r}return i=t.child,t=i.sibling,r=Gr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mh(t,e){return e=Fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ya(t,e,n,r){return r!==null&&vh(r),gi(e,t.child,null,n),t=Mh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _1(t,e,n,r,o,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ac(Error(de(422))),ya(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Fl({mode:"visible",children:r.children},o,0,null),i=wo(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&gi(e,t.child,null,a),e.child.memoizedState=ku(a),e.memoizedState=wu,i);if(!(e.mode&1))return ya(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(de(419)),r=Ac(i,r,void 0),ya(t,e,a,r)}if(l=(a&t.childLanes)!==0,an||l){if(r=It,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,_r(t,o),Wn(r,t,o,-1))}return Lh(),r=Ac(Error(de(421))),ya(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=M1.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,yn=Wr(o.nextSibling),vn=e,lt=!0,Vn=null,t!==null&&(Cn[Tn++]=fr,Cn[Tn++]=pr,Cn[Tn++]=xo,fr=t.id,pr=t.overflow,xo=e),e=Mh(e,r.children),e.flags|=4096,e)}function Rf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pu(t.return,e,n)}function Ic(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Eg(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Qt(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rf(t,n,e);else if(t.tag===19)Rf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ut,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&ol(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ic(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ol(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ic(e,!0,n,null,i);break;case"together":Ic(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),To|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w1(t,e,n){switch(e.tag){case 3:Cg(e),mi();break;case 5:Zm(e);break;case 1:cn(e.type)&&Za(e);break;case 4:Ch(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;et(tl,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?Tg(t,e,n):(et(ut,ut.current&1),t=wr(t,e,n),t!==null?t.sibling:null);et(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Eg(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),et(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,Sg(t,e,n)}return wr(t,e,n)}var bg,Su,Ng,Og;bg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};Ng=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,yo(nr.current);var i=null;switch(n){case"input":o=Wc(t,o),r=Wc(t,r),i=[];break;case"select":o=dt({},o,{value:void 0}),r=dt({},r,{value:void 0}),i=[];break;case"textarea":o=Hc(t,o),r=Hc(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ya)}Qc(n,r);var a;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(gs.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(l=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(gs.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&nt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};Og=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gi(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k1(t,e,n){var r=e.pendingProps;switch(yh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return cn(e.type)&&Xa(),zt(e),null;case 3:return r=e.stateNode,yi(),ot(ln),ot($t),Eh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ma(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Au(Vn),Vn=null))),Su(t,e),zt(e),null;case 5:Th(e);var o=yo(Ns.current);if(n=e.type,t!==null&&e.stateNode!=null)Ng(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return zt(e),null}if(t=yo(nr.current),ma(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[er]=e,r[Es]=i,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(o=0;o<ns.length;o++)nt(ns[o],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":Ud(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":qd(r,i),nt("invalid",r)}Qc(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&pa(r.textContent,l,t),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&pa(r.textContent,l,t),o=["children",""+l]):gs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":sa(r),Wd(r,i,!0);break;case"textarea":sa(r),$d(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ya)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[er]=e,t[Es]=r,bg(t,e,!1,!1),e.stateNode=t;e:{switch(a=Yc(n,r),n){case"dialog":nt("cancel",t),nt("close",t),o=r;break;case"iframe":case"object":case"embed":nt("load",t),o=r;break;case"video":case"audio":for(o=0;o<ns.length;o++)nt(ns[o],t);o=r;break;case"source":nt("error",t),o=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),o=r;break;case"details":nt("toggle",t),o=r;break;case"input":Ud(t,r),o=Wc(t,r),nt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=dt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":qd(t,r),o=Hc(t,r),nt("invalid",t);break;default:o=r}Qc(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sm(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&om(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ys(t,c):typeof c=="number"&&ys(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nt("scroll",t):c!=null&&nh(t,i,c,a))}switch(n){case"input":sa(t),Wd(t,r,!1);break;case"textarea":sa(t),$d(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ii(t,!!r.multiple,i,!1):r.defaultValue!=null&&ii(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)Og(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=yo(Ns.current),yo(nr.current),ma(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(i=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:pa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return zt(e),null;case 13:if(ot(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&yn!==null&&e.mode&1&&!(e.flags&128))Hm(),mi(),e.flags|=98560,i=!1;else if(i=ma(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[er]=e}else mi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else Vn!==null&&(Au(Vn),Vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?bt===0&&(bt=3):Lh())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return yi(),Su(t,e),t===null&&Cs(e.stateNode.containerInfo),zt(e),null;case 10:return kh(e.type._context),zt(e),null;case 17:return cn(e.type)&&Xa(),zt(e),null;case 19:if(ot(ut),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Gi(i,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ol(t),a!==null){for(e.flags|=128,Gi(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>_i&&(e.flags|=128,r=!0,Gi(i,!1),e.lanes=4194304)}else{if(!r)if(t=ol(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!lt)return zt(e),null}else 2*yt()-i.renderingStartTime>_i&&n!==1073741824&&(e.flags|=128,r=!0,Gi(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=ut.current,et(ut,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Fh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function S1(t,e){switch(yh(e),e.tag){case 1:return cn(e.type)&&Xa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yi(),ot(ln),ot($t),Eh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Th(e),null;case 13:if(ot(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));mi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ut),null;case 4:return yi(),null;case 10:return kh(e.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var va=!1,Wt=!1,x1=typeof WeakSet=="function"?WeakSet:Set,ke=null;function ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function xu(t,e,n){try{n()}catch(r){pt(t,e,r)}}var jf=!1;function C1(t,e){if(su=Ha,t=Dm(),mh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,f=0,g=t,_=null;t:for(;;){for(var N;g!==n||o!==0&&g.nodeType!==3||(l=a+o),g!==i||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(N=g.firstChild)!==null;)_=g,g=N;for(;;){if(g===t)break t;if(_===n&&++h===o&&(l=a),_===i&&++f===r&&(c=a),(N=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=N}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(au={focusedElem:t,selectionRange:n},Ha=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,I=E.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ln(e.type,b),I);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(R){pt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return E=jf,jf=!1,E}function hs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&xu(e,n,i)}o=o.next}while(o!==r)}}function Rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ag(t){var e=t.alternate;e!==null&&(t.alternate=null,Ag(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[Es],delete e[uu],delete e[s1],delete e[a1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ig(t){return t.tag===5||t.tag===3||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ya));else if(r!==4&&(t=t.child,t!==null))for(Tu(t,e,n),t=t.sibling;t!==null;)Tu(t,e,n),t=t.sibling}function Eu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eu(t,e,n),t=t.sibling;t!==null;)Eu(t,e,n),t=t.sibling}var jt=null,Kn=!1;function Ar(t,e,n){for(n=n.child;n!==null;)Mg(t,e,n),n=n.sibling}function Mg(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:Wt||ei(n,e);case 6:var r=jt,o=Kn;jt=null,Ar(t,e,n),jt=r,Kn=o,jt!==null&&(Kn?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Kn?(t=jt,n=n.stateNode,t.nodeType===8?Cc(t.parentNode,n):t.nodeType===1&&Cc(t,n),ks(t)):Cc(jt,n.stateNode));break;case 4:r=jt,o=Kn,jt=n.stateNode.containerInfo,Kn=!0,Ar(t,e,n),jt=r,Kn=o;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&xu(n,e,a),o=o.next}while(o!==r)}Ar(t,e,n);break;case 1:if(!Wt&&(ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,e,l)}Ar(t,e,n);break;case 21:Ar(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Ar(t,e,n),Wt=r):Ar(t,e,n);break;default:Ar(t,e,n)}}function Lf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x1),e.forEach(function(r){var o=P1.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Kn=!1;break e;case 3:jt=l.stateNode.containerInfo,Kn=!0;break e;case 4:jt=l.stateNode.containerInfo,Kn=!0;break e}l=l.return}if(jt===null)throw Error(de(160));Mg(i,a,o),jt=null,Kn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(h){pt(o,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pg(e,t),e=e.sibling}function Pg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),Zn(t),r&4){try{hs(3,t,t.return),Rl(3,t)}catch(b){pt(t,t.return,b)}try{hs(5,t,t.return)}catch(b){pt(t,t.return,b)}}break;case 1:Fn(e,t),Zn(t),r&512&&n!==null&&ei(n,n.return);break;case 5:if(Fn(e,t),Zn(t),r&512&&n!==null&&ei(n,n.return),t.flags&32){var o=t.stateNode;try{ys(o,"")}catch(b){pt(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tm(o,i),Yc(l,a);var h=Yc(l,i);for(a=0;a<c.length;a+=2){var f=c[a],g=c[a+1];f==="style"?sm(o,g):f==="dangerouslySetInnerHTML"?om(o,g):f==="children"?ys(o,g):nh(o,f,g,h)}switch(l){case"input":qc(o,i);break;case"textarea":nm(o,i);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?ii(o,!!i.multiple,N,!1):_!==!!i.multiple&&(i.defaultValue!=null?ii(o,!!i.multiple,i.defaultValue,!0):ii(o,!!i.multiple,i.multiple?[]:"",!1))}o[Es]=i}catch(b){pt(t,t.return,b)}}break;case 6:if(Fn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(de(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(b){pt(t,t.return,b)}}break;case 3:if(Fn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(e.containerInfo)}catch(b){pt(t,t.return,b)}break;case 4:Fn(e,t),Zn(t);break;case 13:Fn(e,t),Zn(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Rh=yt())),r&4&&Lf(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(h=Wt)||f,Fn(e,t),Wt=h):Fn(e,t),Zn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ke=t,f=t.child;f!==null;){for(g=ke=f;ke!==null;){switch(_=ke,N=_.child,_.tag){case 0:case 11:case 14:case 15:hs(4,_,_.return);break;case 1:ei(_,_.return);var E=_.stateNode;if(typeof E.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(b){pt(r,n,b)}}break;case 5:ei(_,_.return);break;case 22:if(_.memoizedState!==null){Vf(g);continue}}N!==null?(N.return=_,ke=N):Vf(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{o=g.stateNode,h?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=im("display",a))}catch(b){pt(t,t.return,b)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(b){pt(t,t.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Fn(e,t),Zn(t),r&4&&Lf(t);break;case 21:break;default:Fn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ig(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ys(o,""),r.flags&=-33);var i=Ff(t);Eu(t,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Ff(t);Tu(t,l,a);break;default:throw Error(de(161))}}catch(c){pt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T1(t,e,n){ke=t,Dg(t)}function Dg(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var o=ke,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||va;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=va;var h=Wt;if(va=a,(Wt=c)&&!h)for(ke=o;ke!==null;)a=ke,c=a.child,a.tag===22&&a.memoizedState!==null?Bf(o):c!==null?(c.return=a,ke=c):Bf(o);for(;i!==null;)ke=i,Dg(i),i=i.sibling;ke=o,va=l,Wt=h}Kf(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ke=i):Kf(t)}}function Kf(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Rl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&xf(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xf(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&ks(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Wt||e.flags&512&&Cu(e)}catch(_){pt(e,e.return,_)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function Vf(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function Bf(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rl(4,e)}catch(c){pt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(c){pt(e,o,c)}}var i=e.return;try{Cu(e)}catch(c){pt(e,i,c)}break;case 5:var a=e.return;try{Cu(e)}catch(c){pt(e,a,c)}}}catch(c){pt(e,e.return,c)}if(e===t){ke=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ke=l;break}ke=e.return}}var E1=Math.ceil,al=Sr.ReactCurrentDispatcher,Ph=Sr.ReactCurrentOwner,On=Sr.ReactCurrentBatchConfig,qe=0,It=null,xt=null,Lt=0,mn=0,ti=ro(0),bt=0,Ms=null,To=0,jl=0,Dh=0,ds=null,on=null,Rh=0,_i=1/0,ur=null,ll=!1,bu=null,$r=null,_a=!1,Kr=null,cl=0,fs=0,Nu=null,Ra=-1,ja=0;function Jt(){return qe&6?yt():Ra!==-1?Ra:Ra=yt()}function Hr(t){return t.mode&1?qe&2&&Lt!==0?Lt&-Lt:c1.transition!==null?(ja===0&&(ja=vm()),ja):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Tm(t.type)),t):1}function Wn(t,e,n,r){if(50<fs)throw fs=0,Nu=null,Error(de(185));Ks(t,n,r),(!(qe&2)||t!==It)&&(t===It&&(!(qe&2)&&(jl|=n),bt===4&&Fr(t,Lt)),un(t,r),n===1&&qe===0&&!(e.mode&1)&&(_i=yt()+500,Ml&&oo()))}function un(t,e){var n=t.callbackNode;c0(t,e);var r=$a(t,t===It?Lt:0);if(r===0)n!==null&&Qd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qd(n),e===1)t.tag===0?l1(zf.bind(null,t)):Wm(zf.bind(null,t)),o1(function(){!(qe&6)&&oo()}),n=null;else{switch(_m(r)){case 1:n=ah;break;case 4:n=gm;break;case 16:n=qa;break;case 536870912:n=ym;break;default:n=qa}n=zg(n,Rg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rg(t,e){if(Ra=-1,ja=0,qe&6)throw Error(de(327));var n=t.callbackNode;if(ui()&&t.callbackNode!==n)return null;var r=$a(t,t===It?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ul(t,r);else{e=r;var o=qe;qe|=2;var i=Fg();(It!==t||Lt!==e)&&(ur=null,_i=yt()+500,_o(t,e));do try{O1();break}catch(l){jg(t,l)}while(!0);wh(),al.current=i,qe=o,xt!==null?e=0:(It=null,Lt=0,e=bt)}if(e!==0){if(e===2&&(o=tu(t),o!==0&&(r=o,e=Ou(t,o))),e===1)throw n=Ms,_o(t,0),Fr(t,r),un(t,yt()),n;if(e===6)Fr(t,r);else{if(o=t.current.alternate,!(r&30)&&!b1(o)&&(e=ul(t,r),e===2&&(i=tu(t),i!==0&&(r=i,e=Ou(t,i))),e===1))throw n=Ms,_o(t,0),Fr(t,r),un(t,yt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:uo(t,on,ur);break;case 3:if(Fr(t,r),(r&130023424)===r&&(e=Rh+500-yt(),10<e)){if($a(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=cu(uo.bind(null,t,on,ur),e);break}uo(t,on,ur);break;case 4:if(Fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-Un(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E1(r/1960))-r,10<r){t.timeoutHandle=cu(uo.bind(null,t,on,ur),r);break}uo(t,on,ur);break;case 5:uo(t,on,ur);break;default:throw Error(de(329))}}}return un(t,yt()),t.callbackNode===n?Rg.bind(null,t):null}function Ou(t,e){var n=ds;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=ul(t,e),t!==2&&(e=on,on=n,e!==null&&Au(e)),t}function Au(t){on===null?on=t:on.push.apply(on,t)}function b1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!$n(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fr(t,e){for(e&=~Dh,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function zf(t){if(qe&6)throw Error(de(327));ui();var e=$a(t,0);if(!(e&1))return un(t,yt()),null;var n=ul(t,e);if(t.tag!==0&&n===2){var r=tu(t);r!==0&&(e=r,n=Ou(t,r))}if(n===1)throw n=Ms,_o(t,0),Fr(t,e),un(t,yt()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uo(t,on,ur),un(t,yt()),null}function jh(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(_i=yt()+500,Ml&&oo())}}function Eo(t){Kr!==null&&Kr.tag===0&&!(qe&6)&&ui();var e=qe;qe|=1;var n=On.transition,r=Qe;try{if(On.transition=null,Qe=1,t)return t()}finally{Qe=r,On.transition=n,qe=e,!(qe&6)&&oo()}}function Fh(){mn=ti.current,ot(ti)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r1(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:yi(),ot(ln),ot($t),Eh();break;case 5:Th(r);break;case 4:yi();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:kh(r.type._context);break;case 22:case 23:Fh()}n=n.return}if(It=t,xt=t=Gr(t.current,null),Lt=mn=e,bt=0,Ms=null,Dh=jl=To=0,on=ds=null,go!==null){for(e=0;e<go.length;e++)if(n=go[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}go=null}return t}function jg(t,e){do{var n=xt;try{if(wh(),Ma.current=sl,il){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}il=!1}if(Co=0,At=Et=ht=null,us=!1,Os=0,Ph.current=null,n===null||n.return===null){bt=1,Ms=e,xt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var _=f.alternate;_?(f.updateQueue=_.updateQueue,f.memoizedState=_.memoizedState,f.lanes=_.lanes):(f.updateQueue=null,f.memoizedState=null)}var N=Of(a);if(N!==null){N.flags&=-257,Af(N,a,l,i,e),N.mode&1&&Nf(i,h,e),e=N,c=h;var E=e.updateQueue;if(E===null){var b=new Set;b.add(c),e.updateQueue=b}else E.add(c);break e}else{if(!(e&1)){Nf(i,h,e),Lh();break e}c=Error(de(426))}}else if(lt&&l.mode&1){var I=Of(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Af(I,a,l,i,e),vh(vi(c,l));break e}}i=c=vi(c,l),bt!==4&&(bt=2),ds===null?ds=[i]:ds.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=_g(i,c,e);Sf(i,w);break e;case 1:l=c;var T=i.type,A=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&($r===null||!$r.has(A)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=wg(i,l,e);Sf(i,R);break e}}i=i.return}while(i!==null)}Kg(n)}catch(M){e=M,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function Fg(){var t=al.current;return al.current=sl,t===null?sl:t}function Lh(){(bt===0||bt===3||bt===2)&&(bt=4),It===null||!(To&268435455)&&!(jl&268435455)||Fr(It,Lt)}function ul(t,e){var n=qe;qe|=2;var r=Fg();(It!==t||Lt!==e)&&(ur=null,_o(t,e));do try{N1();break}catch(o){jg(t,o)}while(!0);if(wh(),qe=n,al.current=r,xt!==null)throw Error(de(261));return It=null,Lt=0,bt}function N1(){for(;xt!==null;)Lg(xt)}function O1(){for(;xt!==null&&!e0();)Lg(xt)}function Lg(t){var e=Bg(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?Kg(t):xt=e,Ph.current=null}function Kg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=S1(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,xt=null;return}}else if(n=k1(n,e,mn),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);bt===0&&(bt=5)}function uo(t,e,n){var r=Qe,o=On.transition;try{On.transition=null,Qe=1,A1(t,e,n,r)}finally{On.transition=o,Qe=r}return null}function A1(t,e,n,r){do ui();while(Kr!==null);if(qe&6)throw Error(de(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(u0(t,i),t===It&&(xt=It=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_a||(_a=!0,zg(qa,function(){return ui(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=On.transition,On.transition=null;var a=Qe;Qe=1;var l=qe;qe|=4,Ph.current=null,C1(t,n),Pg(n,t),Y0(au),Ha=!!su,au=su=null,t.current=n,T1(n),t0(),qe=l,Qe=a,On.transition=i}else t.current=n;if(_a&&(_a=!1,Kr=t,cl=o),i=t.pendingLanes,i===0&&($r=null),o0(n.stateNode),un(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ll)throw ll=!1,t=bu,bu=null,t;return cl&1&&t.tag!==0&&ui(),i=t.pendingLanes,i&1?t===Nu?fs++:(fs=0,Nu=t):fs=0,oo(),null}function ui(){if(Kr!==null){var t=_m(cl),e=On.transition,n=Qe;try{if(On.transition=null,Qe=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,cl=0,qe&6)throw Error(de(331));var o=qe;for(qe|=4,ke=t.current;ke!==null;){var i=ke,a=i.child;if(ke.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(ke=h;ke!==null;){var f=ke;switch(f.tag){case 0:case 11:case 15:hs(8,f,i)}var g=f.child;if(g!==null)g.return=f,ke=g;else for(;ke!==null;){f=ke;var _=f.sibling,N=f.return;if(Ag(f),f===h){ke=null;break}if(_!==null){_.return=N,ke=_;break}ke=N}}}var E=i.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var I=b.sibling;b.sibling=null,b=I}while(b!==null)}}ke=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ke=a;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hs(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ke=w;break e}ke=i.return}}var T=t.current;for(ke=T;ke!==null;){a=ke;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,ke=A;else e:for(a=T;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rl(9,l)}}catch(M){pt(l,l.return,M)}if(l===a){ke=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,ke=R;break e}ke=l.return}}if(qe=o,oo(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(bl,t)}catch{}r=!0}return r}finally{Qe=n,On.transition=e}}return!1}function Uf(t,e,n){e=vi(n,e),e=_g(t,e,1),t=qr(t,e,1),e=Jt(),t!==null&&(Ks(t,1,e),un(t,e))}function pt(t,e,n){if(t.tag===3)Uf(t,t,n);else for(;e!==null;){if(e.tag===3){Uf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=vi(n,t),t=wg(e,t,1),e=qr(e,t,1),t=Jt(),e!==null&&(Ks(e,1,t),un(e,t));break}}e=e.return}}function I1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Lt&n)===n&&(bt===4||bt===3&&(Lt&130023424)===Lt&&500>yt()-Rh?_o(t,0):Dh|=n),un(t,e)}function Vg(t,e){e===0&&(t.mode&1?(e=ca,ca<<=1,!(ca&130023424)&&(ca=4194304)):e=1);var n=Jt();t=_r(t,e),t!==null&&(Ks(t,e,n),un(t,n))}function M1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vg(t,n)}function P1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),Vg(t,n)}var Bg;Bg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,w1(t,e,n);an=!!(t.flags&131072)}else an=!1,lt&&e.flags&1048576&&qm(e,el,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Da(t,e),t=e.pendingProps;var o=pi(e,$t.current);ci(e,n),o=Nh(null,e,r,t,o,n);var i=Oh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(i=!0,Za(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,xh(e),o.updater=Dl,e.stateNode=o,o._reactInternals=e,gu(e,r,t,n),e=_u(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&gh(e),Qt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Da(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=R1(r),t=Ln(r,t),o){case 0:e=vu(null,e,r,t,n);break e;case 1:e=Pf(null,e,r,t,n);break e;case 11:e=If(null,e,r,t,n);break e;case 14:e=Mf(null,e,r,Ln(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),vu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),Pf(t,e,r,o,n);case 3:e:{if(Cg(e),t===null)throw Error(de(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Xm(t,e),rl(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=vi(Error(de(423)),e),e=Df(t,e,r,n,o);break e}else if(r!==o){o=vi(Error(de(424)),e),e=Df(t,e,r,n,o);break e}else for(yn=Wr(e.stateNode.containerInfo.firstChild),vn=e,lt=!0,Vn=null,n=Qm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mi(),r===o){e=wr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return Zm(e),t===null&&fu(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,lu(r,o)?a=null:i!==null&&lu(r,i)&&(e.flags|=32),xg(t,e),Qt(t,e,a,n),e.child;case 6:return t===null&&fu(e),null;case 13:return Tg(t,e,n);case 4:return Ch(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gi(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),If(t,e,r,o,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,et(tl,r._currentValue),r._currentValue=a,i!==null)if($n(i.value,a)){if(i.children===o.children&&!ln.current){e=wr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=mr(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pu(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(de(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),pu(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Qt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,ci(e,n),o=Mn(o),r=r(o),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,o=Ln(r,e.pendingProps),o=Ln(r.type,o),Mf(t,e,r,o,n);case 15:return kg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),Da(t,e),e.tag=1,cn(r)?(t=!0,Za(e)):t=!1,ci(e,n),vg(e,r,o),gu(e,r,o,n),_u(null,e,r,!0,t,n);case 19:return Eg(t,e,n);case 22:return Sg(t,e,n)}throw Error(de(156,e.tag))};function zg(t,e){return mm(t,e)}function D1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new D1(t,e,n,r)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R1(t){if(typeof t=="function")return Kh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oh)return 11;if(t===ih)return 14}return 2}function Gr(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fa(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")Kh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qo:return wo(n.children,o,i,e);case rh:a=8,o|=8;break;case Vc:return t=bn(12,n,e,o|2),t.elementType=Vc,t.lanes=i,t;case Bc:return t=bn(13,n,e,o),t.elementType=Bc,t.lanes=i,t;case zc:return t=bn(19,n,e,o),t.elementType=zc,t.lanes=i,t;case Zp:return Fl(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yp:a=10;break e;case Xp:a=9;break e;case oh:a=11;break e;case ih:a=14;break e;case Mr:a=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=bn(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function wo(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Fl(t,e,n,r){return t=bn(22,t,r,e),t.elementType=Zp,t.lanes=n,t.stateNode={isHidden:!1},t}function Mc(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Pc(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j1(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vh(t,e,n,r,o,i,a,l,c){return t=new j1(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(i),t}function F1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ug(t){if(!t)return Zr;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(cn(n))return Um(t,n,e)}return e}function Wg(t,e,n,r,o,i,a,l,c){return t=Vh(n,r,!0,t,o,i,a,l,c),t.context=Ug(null),n=t.current,r=Jt(),o=Hr(n),i=mr(r,o),i.callback=e??null,qr(n,i,o),t.current.lanes=o,Ks(t,o,r),un(t,r),t}function Ll(t,e,n,r){var o=e.current,i=Jt(),a=Hr(o);return n=Ug(n),e.context===null?e.context=n:e.pendingContext=n,e=mr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qr(o,e,a),t!==null&&(Wn(t,o,a,i),Ia(t,o,a)),a}function hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bh(t,e){Wf(t,e),(t=t.alternate)&&Wf(t,e)}function L1(){return null}var qg=typeof reportError=="function"?reportError:function(t){console.error(t)};function zh(t){this._internalRoot=t}Kl.prototype.render=zh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Ll(t,e,null,null)};Kl.prototype.unmount=zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Ll(null,t,null,null)}),e[vr]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&Cm(t)}};function Uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qf(){}function K1(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var h=hl(a);i.call(h)}}var a=Wg(e,r,t,0,null,!1,!1,"",qf);return t._reactRootContainer=a,t[vr]=a.current,Cs(t.nodeType===8?t.parentNode:t),Eo(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var h=hl(c);l.call(h)}}var c=Vh(t,0,!1,null,null,!1,!1,"",qf);return t._reactRootContainer=c,t[vr]=c.current,Cs(t.nodeType===8?t.parentNode:t),Eo(function(){Ll(e,c,n,r)}),c}function Bl(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var c=hl(a);l.call(c)}}Ll(e,a,t,o)}else a=K1(n,e,t,o,r);return hl(a)}wm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ts(e.pendingLanes);n!==0&&(lh(e,n|1),un(e,yt()),!(qe&6)&&(_i=yt()+500,oo()))}break;case 13:Eo(function(){var r=_r(t,1);if(r!==null){var o=Jt();Wn(r,t,1,o)}}),Bh(t,1)}};ch=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Jt();Wn(e,t,134217728,n)}Bh(t,134217728)}};km=function(t){if(t.tag===13){var e=Hr(t),n=_r(t,e);if(n!==null){var r=Jt();Wn(n,t,e,r)}Bh(t,e)}};Sm=function(){return Qe};xm=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Zc=function(t,e,n){switch(e){case"input":if(qc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Il(r);if(!o)throw Error(de(90));em(r),qc(r,o)}}}break;case"textarea":nm(t,n);break;case"select":e=n.value,e!=null&&ii(t,!!n.multiple,e,!1)}};cm=jh;um=Eo;var V1={usingClientEntryPoint:!1,Events:[Bs,Qo,Il,am,lm,jh]},Qi={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fm(t),t===null?null:t.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||L1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{bl=wa.inject(B1),tr=wa}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uh(e))throw Error(de(200));return F1(t,e,null,n)};kn.createRoot=function(t,e){if(!Uh(t))throw Error(de(299));var n=!1,r="",o=qg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Vh(t,1,!1,null,null,n,!1,r,o),t[vr]=e.current,Cs(t.nodeType===8?t.parentNode:t),new zh(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=fm(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Eo(t)};kn.hydrate=function(t,e,n){if(!Vl(e))throw Error(de(200));return Bl(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!Uh(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=qg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Wg(e,null,t,1,n??null,o,!1,i,a),t[vr]=e.current,Cs(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Kl(e)};kn.render=function(t,e,n){if(!Vl(e))throw Error(de(200));return Bl(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(de(40));return t._reactRootContainer?(Eo(function(){Bl(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};kn.unstable_batchedUpdates=jh;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vl(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return Bl(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function $g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($g)}catch(t){console.error(t)}}$g(),$p.exports=kn;var z1=$p.exports,Hg,$f=z1;Hg=$f.createRoot,$f.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));const Hf="popstate";function U1(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:a,hash:l}=r.location;return Iu("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:dl(o)}return q1(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W1(){return Math.random().toString(36).substr(2,8)}function Gf(t,e){return{usr:t.state,key:t.key,idx:e}}function Iu(t,e,n,r){return n===void 0&&(n=null),Ps({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||r||W1()})}function dl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function q1(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l=Vr.Pop,c=null,h=f();h==null&&(h=0,a.replaceState(Ps({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function g(){l=Vr.Pop;let I=f(),w=I==null?null:I-h;h=I,c&&c({action:l,location:b.location,delta:w})}function _(I,w){l=Vr.Push;let T=Iu(b.location,I,w);h=f()+1;let A=Gf(T,h),R=b.createHref(T);try{a.pushState(A,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(R)}i&&c&&c({action:l,location:b.location,delta:1})}function N(I,w){l=Vr.Replace;let T=Iu(b.location,I,w);h=f();let A=Gf(T,h),R=b.createHref(T);a.replaceState(A,"",R),i&&c&&c({action:l,location:b.location,delta:0})}function E(I){let w=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof I=="string"?I:dl(I);return T=T.replace(/ $/,"%20"),vt(w,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,w)}let b={get action(){return l},get location(){return t(o,a)},listen(I){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Hf,g),c=I,()=>{o.removeEventListener(Hf,g),c=null}},createHref(I){return e(o,I)},createURL:E,encodeLocation(I){let w=E(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:N,go(I){return a.go(I)}};return b}var Qf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qf||(Qf={}));function $1(t,e,n){return n===void 0&&(n="/"),H1(t,e,n,!1)}function H1(t,e,n,r){let o=typeof e=="string"?Ii(e):e,i=Wh(o.pathname||"/",n);if(i==null)return null;let a=Qg(t);G1(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=i_(i);l=r_(a[c],h,r)}return l}function Qg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Qr([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Qg(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:t_(h,i.index),routesMeta:f})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,a);else for(let c of Yg(i.path))o(i,a,c)}),e}function Yg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=Yg(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),o&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function G1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q1=/^:[\w-]+$/,Y1=3,X1=2,Z1=1,J1=10,e_=-2,Yf=t=>t==="*";function t_(t,e){let n=t.split("/"),r=n.length;return n.some(Yf)&&(r+=e_),e&&(r+=X1),n.filter(o=>!Yf(o)).reduce((o,i)=>o+(Q1.test(i)?Y1:i===""?Z1:J1),r)}function n_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function r_(t,e,n){let{routesMeta:r}=t,o={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",g=Xf({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),_=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Xf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(o,g.params),a.push({params:o,pathname:Qr([i,g.pathname]),pathnameBase:c_(Qr([i,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(i=Qr([i,g.pathnameBase]))}return a}function Xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o_(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((h,f,g)=>{let{paramName:_,isOptional:N}=f;if(_==="*"){let b=l[g]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const E=l[g];return N&&!E?h[_]=void 0:h[_]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function o_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function i_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function s_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:a_(n,e):e,search:u_(r),hash:h_(o)}}function a_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qh(t,e){let n=l_(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $h(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Ii(t):(o=Ps({},t),vt(!o.pathname||!o.pathname.includes("?"),Dc("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Dc("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Dc("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;o.pathname=_.join("/")}l=g>=0?e[g]:"/"}let c=s_(o,l),h=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),c_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function d_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xg=["post","put","patch","delete"];new Set(Xg);const f_=["get",...Xg];new Set(f_);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(this,arguments)}const Hh=Y.createContext(null),p_=Y.createContext(null),io=Y.createContext(null),zl=Y.createContext(null),xr=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),Zg=Y.createContext(null);function m_(t,e){let{relative:n}=e===void 0?{}:e;Mi()||vt(!1);let{basename:r,navigator:o}=Y.useContext(io),{hash:i,pathname:a,search:l}=ey(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Qr([r,a])),o.createHref({pathname:c,search:l,hash:i})}function Mi(){return Y.useContext(zl)!=null}function Us(){return Mi()||vt(!1),Y.useContext(zl).location}function Jg(t){Y.useContext(io).static||Y.useLayoutEffect(t)}function Gh(){let{isDataRoute:t}=Y.useContext(xr);return t?O_():g_()}function g_(){Mi()||vt(!1);let t=Y.useContext(Hh),{basename:e,future:n,navigator:r}=Y.useContext(io),{matches:o}=Y.useContext(xr),{pathname:i}=Us(),a=JSON.stringify(qh(o,n.v7_relativeSplatPath)),l=Y.useRef(!1);return Jg(()=>{l.current=!0}),Y.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=$h(h,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qr([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,a,i,t])}function y_(){let{matches:t}=Y.useContext(xr),e=t[t.length-1];return e?e.params:{}}function ey(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Y.useContext(io),{matches:o}=Y.useContext(xr),{pathname:i}=Us(),a=JSON.stringify(qh(o,r.v7_relativeSplatPath));return Y.useMemo(()=>$h(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function v_(t,e){return __(t,e)}function __(t,e,n,r){Mi()||vt(!1);let{navigator:o}=Y.useContext(io),{matches:i}=Y.useContext(xr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Us(),f;if(e){var g;let I=typeof e=="string"?Ii(e):e;c==="/"||(g=I.pathname)!=null&&g.startsWith(c)||vt(!1),f=I}else f=h;let _=f.pathname||"/",N=_;if(c!=="/"){let I=c.replace(/^\//,"").split("/");N="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=$1(t,{pathname:N}),b=C_(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Qr([c,o.encodeLocation?o.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Qr([c,o.encodeLocation?o.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&b?Y.createElement(zl.Provider,{value:{location:Ds({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vr.Pop}},b):b}function w_(){let t=N_(),e=d_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,null)}const k_=Y.createElement(w_,null);class S_ extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Y.createElement(xr.Provider,{value:this.props.routeContext},Y.createElement(Zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x_(t){let{routeContext:e,match:n,children:r}=t,o=Y.useContext(Hh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(xr.Provider,{value:e},r)}function C_(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(o=n)==null?void 0:o.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||vt(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:N}=n,E=g.route.loader&&_[g.route.id]===void 0&&(!N||N[g.route.id]===void 0);if(g.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,g,_)=>{let N,E=!1,b=null,I=null;n&&(N=l&&g.route.id?l[g.route.id]:void 0,b=g.route.errorElement||k_,c&&(h<0&&_===0?(E=!0,I=null):h===_&&(E=!0,I=g.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,_+1)),T=()=>{let A;return N?A=b:E?A=I:g.route.Component?A=Y.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,Y.createElement(x_,{match:g,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Y.createElement(S_,{location:n.location,revalidation:n.revalidation,component:b,error:N,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}var ty=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ty||{}),fl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fl||{});function T_(t){let e=Y.useContext(Hh);return e||vt(!1),e}function E_(t){let e=Y.useContext(p_);return e||vt(!1),e}function b_(t){let e=Y.useContext(xr);return e||vt(!1),e}function ny(t){let e=b_(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function N_(){var t;let e=Y.useContext(Zg),n=E_(fl.UseRouteError),r=ny(fl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function O_(){let{router:t}=T_(ty.UseNavigateStable),e=ny(fl.UseNavigateStable),n=Y.useRef(!1);return Jg(()=>{n.current=!0}),Y.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ds({fromRouteId:e},i)))},[t,e])}const Zf={};function A_(t,e){Zf[e]||(Zf[e]=!0,console.warn(e))}const Jf=(t,e,n)=>A_(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function I_(t,e){t!=null&&t.v7_startTransition||Jf("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Jf("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ep(t){let{to:e,replace:n,state:r,relative:o}=t;Mi()||vt(!1);let{future:i,static:a}=Y.useContext(io),{matches:l}=Y.useContext(xr),{pathname:c}=Us(),h=Gh(),f=$h(e,qh(l,i.v7_relativeSplatPath),c,o==="path"),g=JSON.stringify(f);return Y.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:o}),[h,g,o,n,r]),null}function rs(t){vt(!1)}function M_(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Vr.Pop,navigator:i,static:a=!1,future:l}=t;Mi()&&vt(!1);let c=e.replace(/^\/*/,"/"),h=Y.useMemo(()=>({basename:c,navigator:i,static:a,future:Ds({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ii(r));let{pathname:f="/",search:g="",hash:_="",state:N=null,key:E="default"}=r,b=Y.useMemo(()=>{let I=Wh(f,c);return I==null?null:{location:{pathname:I,search:g,hash:_,state:N,key:E},navigationType:o}},[c,f,g,_,N,E,o]);return b==null?null:Y.createElement(io.Provider,{value:h},Y.createElement(zl.Provider,{children:n,value:b}))}function P_(t){let{children:e,location:n}=t;return v_(Mu(e),n)}new Promise(()=>{});function Mu(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,o)=>{if(!Y.isValidElement(r))return;let i=[...e,o];if(r.type===Y.Fragment){n.push.apply(n,Mu(r.props.children,i));return}r.type!==rs&&vt(!1),!r.props.index||!r.props.children||vt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}function D_(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function R_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j_(t,e){return t.button===0&&(!e||e==="_self")&&!R_(t)}const F_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L_="6";try{window.__reactRouterVersion=L_}catch{}const K_="startTransition",tp=Iv[K_];function V_(t){let{basename:e,children:n,future:r,window:o}=t,i=Y.useRef();i.current==null&&(i.current=U1({window:o,v5Compat:!0}));let a=i.current,[l,c]=Y.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},f=Y.useCallback(g=>{h&&tp?tp(()=>c(g)):c(g)},[c,h]);return Y.useLayoutEffect(()=>a.listen(f),[a,f]),Y.useEffect(()=>I_(r),[r]),Y.createElement(M_,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=Y.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:l,target:c,to:h,preventScrollReset:f,viewTransition:g}=e,_=D_(e,F_),{basename:N}=Y.useContext(io),E,b=!1;if(typeof h=="string"&&z_.test(h)&&(E=h,B_))try{let A=new URL(window.location.href),R=h.startsWith("//")?new URL(A.protocol+h):new URL(h),M=Wh(R.pathname,N);R.origin===A.origin&&M!=null?h=M+R.search+R.hash:b=!0}catch{}let I=m_(h,{relative:o}),w=U_(h,{replace:a,state:l,target:c,preventScrollReset:f,relative:o,viewTransition:g});function T(A){r&&r(A),A.defaultPrevented||w(A)}return Y.createElement("a",Pu({},_,{href:E||I,onClick:b||i?r:T,ref:n,target:c}))});var np;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(np||(np={}));var rp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rp||(rp={}));function U_(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Gh(),h=Us(),f=ey(t,{relative:a});return Y.useCallback(g=>{if(j_(g,n)){g.preventDefault();let _=r!==void 0?r:dl(h)===dl(f);c(t,{replace:_,state:o,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,f,r,o,n,t,i,a,l])}const Du={0:"white",1:"rgb(130, 0, 0)",2:"red",3:"#007000",4:"#00fb47",5:"#9500b3",6:"#ea7eff",7:"rgb(120, 120, 120)",8:"rgb(0, 0, 255)",9:"#03b9d5",10:"#ff7328",11:"#ff0"},Qh=(t,e)=>{if(e==="traditional"){const r={};for(let o=0;o<12;o++)r[o]=[1,3,6,8,10].includes(o)?"#222222":"white";return r}const n={};for(let r=0;r<12;r++)n[r]=Du[(r-t+12)%12];return n},ry=t=>{const e=t%12;return[0,4,6,9,11].includes(e)?"black":"white"},op=50,W_=({notes:t,tonic:e,colorMode:n,fallingNoteWidth:r,referencePoints:o})=>{const[i,a]=Y.useState(Date.now()),l=Qh(e,n),c=f=>{const{c1:g,c2:_}=o;return g.left+(f-g.note)*(_.left-g.left)/(_.note-g.note)},h=()=>{const f=[];for(let N=0;N<=8;N++){const E=N*12+e+12,b=c(E);if(!isNaN(b)&&isFinite(b)&&f.push($.jsx("div",{style:{position:"absolute",left:b,top:0,width:"0.5px",height:"100%",backgroundColor:Du[0],pointerEvents:"none"}},`tonic-line-${N}`)),N<8){const I=N*12+(e+7)%12+12,w=c(I);!isNaN(w)&&isFinite(w)&&f.push($.jsx("div",{style:{position:"absolute",left:w,top:0,width:"0.5px",height:"100%",backgroundColor:Du[7],pointerEvents:"none"}},`fifth-line-${N}`))}}return f};return Y.useEffect(()=>{let f;const g=()=>{a(Date.now()),f=requestAnimationFrame(g)};return f=requestAnimationFrame(g),()=>cancelAnimationFrame(f)},[]),$.jsxs("div",{style:{position:"absolute",top:ho,left:0,right:0,bottom:-2e3,overflow:"hidden"},children:[h(),t.map(f=>{const g=!f.endTime,_=f.endTime?(i-f.endTime)/1e3:0,N=g?0:_*op,b=(g?i-f.startTime:f.endTime-f.startTime)*(op/1e3),I=f.note+f.octave*12,w=c(I),T=n==="traditional"?"white":l[f.note];return $.jsx("div",{style:{position:"absolute",left:w,top:N,width:r,height:b,backgroundColor:T,borderTopLeftRadius:g?"0px":"10px",borderTopRightRadius:g?"0px":"10px",willChange:"transform, height"}},f.id)})]})},q_={KeyZ:{note:0,octave:2},KeyS:{note:1,octave:2},KeyX:{note:2,octave:2},KeyD:{note:3,octave:2},KeyC:{note:4,octave:2},KeyV:{note:5,octave:2},KeyG:{note:6,octave:2},KeyB:{note:7,octave:2},KeyH:{note:8,octave:2},KeyN:{note:9,octave:2},KeyJ:{note:10,octave:2},KeyM:{note:11,octave:2},Comma:{note:0,octave:3},KeyL:{note:1,octave:3},Period:{note:2,octave:3},Semicolon:{note:3,octave:3},Slash:{note:4,octave:3},KeyQ:{note:5,octave:3},Digit2:{note:6,octave:3},KeyW:{note:7,octave:3},Digit3:{note:8,octave:3},KeyE:{note:9,octave:3},Digit4:{note:10,octave:3},KeyR:{note:11,octave:3},KeyT:{note:0,octave:4},Digit6:{note:1,octave:4},KeyY:{note:2,octave:4},Digit7:{note:3,octave:4},KeyU:{note:4,octave:4},KeyI:{note:5,octave:4},Digit9:{note:6,octave:4},KeyO:{note:7,octave:4},Digit0:{note:8,octave:4},KeyP:{note:9,octave:4},Minus:{note:10,octave:4},BracketLeft:{note:11,octave:4},BracketRight:{note:0,octave:5}},$_={KeyZ:{note:0,octave:2},KeyX:{note:1,octave:2},KeyC:{note:2,octave:2},KeyV:{note:3,octave:2},KeyB:{note:4,octave:2},KeyN:{note:5,octave:2},KeyM:{note:6,octave:2},Comma:{note:7,octave:2},Period:{note:8,octave:2},Slash:{note:9,octave:2},KeyA:{note:10,octave:2},KeyS:{note:11,octave:2},KeyD:{note:0,octave:3},KeyF:{note:1,octave:3},KeyG:{note:2,octave:3},KeyH:{note:3,octave:3},KeyJ:{note:4,octave:3},KeyK:{note:5,octave:3},KeyL:{note:6,octave:3},Semicolon:{note:7,octave:3},Quote:{note:8,octave:3},KeyQ:{note:9,octave:3},KeyW:{note:10,octave:3},KeyE:{note:11,octave:3},KeyR:{note:0,octave:4},KeyT:{note:1,octave:4},KeyY:{note:2,octave:4},KeyU:{note:3,octave:4},KeyI:{note:4,octave:4},KeyO:{note:5,octave:4},KeyP:{note:6,octave:4},BracketLeft:{note:7,octave:4},BracketRight:{note:8,octave:4},Digit1:{note:9,octave:4},Digit2:{note:10,octave:4},Digit3:{note:11,octave:4},Digit4:{note:0,octave:5},Digit5:{note:1,octave:5},Digit6:{note:2,octave:5},Digit7:{note:3,octave:5},Digit8:{note:4,octave:5},Digit9:{note:5,octave:5},Digit0:{note:6,octave:5},Minus:{note:7,octave:5},Equal:{note:8,octave:5}},Rc=(t,e)=>e||(t==="flat-chromatic"?$_:q_),Ru={KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketLeft:"[",BracketRight:"]",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"="},ju={single:{label:"1",getNotes:(t,e)=>[{note:t,octave:e}]},fifth:{label:"5",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},major:{label:"M",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+4)%12,octave:t+4>=12?e+1:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},diatonic:{label:"d",getNotes:(t,e,n="major")=>{const r=n==="major"?[0,2,4,5,7,9,11]:[0,2,3,5,7,8,10],o=r.findIndex(l=>t%12===l);if(o===-1)return[{note:t,octave:e}];const i=l=>{const c=l%7;return r[c]};return[o,(o+2)%7,(o+4)%7].map(l=>{const h=i(l)-t,f=h<0?h+12:h;return{note:(t+f)%12,octave:t+f>=12?e+1:e}})}}},H_=({tonic:t,onTonicChange:e})=>{const[n,r]=Y.useState(!1),o=Y.useRef(null),[i,a]=Y.useState(null),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return Y.useEffect(()=>{const c=h=>{o.current&&!o.current.contains(h.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),$.jsxs("div",{ref:o,style:{position:"relative",cursor:"pointer"},onClick:()=>r(!n),children:[$.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:l[t]}),n&&$.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",transform:"none",display:"flex",flexDirection:"column",gap:"8px",padding:"8px",background:"rgba(0, 0, 0, 0.8)",borderRadius:"4px",marginTop:"4px",zIndex:10,minWidth:"200px"},children:[$.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"4px"},children:l.map((c,h)=>$.jsx("div",{onClick:f=>{f.stopPropagation(),e(h),r(!1)},onMouseEnter:()=>a(h),onMouseLeave:()=>a(null),style:{padding:"4px 8px",cursor:"pointer",background:t===h||i===h?"rgba(255, 255, 255, 0.15)":"none",border:t===h?"1px solid rgba(255, 255, 255, 0.8)":"1px solid transparent",borderRadius:"4px",fontSize:"14px",textAlign:"center",fontWeight:t===h?"bold":"normal",transition:"all 0.1s ease-in-out"},children:c},c))}),$.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",borderTop:"1px solid rgba(255, 255, 255, 0.2)",paddingTop:"8px"},children:"Press Ctrl + key to change tonic"})]})]})},G_=({colorMode:t,onColorModeChange:e})=>{const n={traditional:"chromatic",chromatic:"flat-chromatic","flat-chromatic":"traditional"};return $.jsx("div",{onClick:()=>e(n[t]),style:{width:"80px",height:"20px",backgroundColor:t==="traditional"?"rgba(255, 255, 255, 0.2)":"#4CAF50",borderRadius:"10px",position:"relative",cursor:"pointer",transition:"background-color 1s ease-in-out"},children:$.jsx("div",{style:{width:"18px",height:"18px",backgroundColor:"white",borderRadius:"50%",position:"absolute",top:"1px",left:t==="traditional"?"1px":t==="chromatic"?"31px":"61px",transition:"left 1s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center"},children:t!=="traditional"&&$.jsx("span",{role:"img","aria-label":"rainbow",style:{fontSize:"12px",userSelect:"none"},children:""})})})},Q_=({currentVoicing:t,onVoicingChange:e})=>$.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:Object.entries(ju).map(([n,r])=>$.jsx("span",{onClick:()=>e(n),style:{cursor:"pointer",opacity:n===t?1:.6,fontWeight:n===t?"bold":"normal",transition:"all 0.2s"},children:r.label},n))}),Y_=({tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:i})=>$.jsxs("div",{style:{position:"absolute",top:-30,left:0,display:"flex",alignItems:"center",gap:"40px",color:"white"},children:[$.jsx(H_,{tonic:t,onTonicChange:e}),$.jsx(Q_,{currentVoicing:o,onVoicingChange:i}),$.jsx(G_,{colorMode:n,onColorModeChange:r})]});function X_({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z",clipRule:"evenodd"}))}const Z_=Y.forwardRef(X_),Ge=({children:t})=>$.jsx("p",{className:"mt-6 mb-2",children:t}),J_=({suffix:t,children:e})=>$.jsx("a",{href:`https://rawl.rocks/${t}`,target:"_blank",rel:"noopener noreferrer",children:e}),ew=[{title:"White Keys",content:$.jsxs($.Fragment,{children:[$.jsxs(Ge,{children:["Welcome to Rawl Piano, the companion book to"," ",$.jsx(J_,{suffix:"",children:"rawl.rocks"}),". I'm gonna cover Western music theory using my colorful music notation."]}),$.jsx(Ge,{children:"We have seven different types of white keys. Why seven? There are seven vibes, in a way."})]}),finalText:"Play around with all seven keys. Then, as you're ready, go to the next lesson",taskIds:["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves"]},{title:"Black Keys",content:$.jsx($.Fragment,{children:$.jsx(Ge,{children:"Now let's learn about the black keys!"})}),taskIds:["play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp"]},{title:"Chromatic Sequences",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Now let's play all notes in sequence! First ascending from A0, then descending from C8."}),$.jsx(Ge,{children:"Follow the arrows - they show which note to play next. Previous notes will show checkmarks."}),$.jsx(Ge,{children:"Finally, try playing the ascending sequence again using the flat keyboard layout - where each key is arranged in chromatic order from left to right."})]}),taskIds:["play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat"]},{title:"Major Second Intervals",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Let's explore intervals! We'll start with major seconds - the interval of two semitones."}),$.jsx(Ge,{children:"First, play all notes separated by major seconds starting from A0. Then we'll play the complementary sequence starting from A#0."})]}),taskIds:["play-major-seconds-from-a0","play-major-seconds-from-asharp0"]},{title:"Scale Modes",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Let's explore different scale modes! Each row of keys maps to a different mode:"}),$.jsx(Ge,{children:"Middle row (A-J): Major scale (Ionian mode) - the familiar do-re-mi pattern"}),$.jsx(Ge,{children:"Bottom row (Z-M): Lydian mode - like major scale but with a raised 4th"}),$.jsx(Ge,{children:"Top row (Q-U): Mixolydian mode - major scale with a lowered 7th"}),$.jsx(Ge,{children:"Number row (1-8): Dorian mode - minor scale with a raised 6th"})]}),taskIds:["play-major-scale","play-lydian-scale","play-major-scale-with-lydian","play-mixolydian-scale","play-dorian-scale"]},{title:"More Scale Modes",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Let's explore the remaining scale modes! Each row maps to a different mode, continuing our pattern:"}),$.jsx(Ge,{children:"Bottom row (Z-A): Dorian mode again - but in a lower octave for comparison"}),$.jsx(Ge,{children:"Middle row (A-J): Natural Minor (Aeolian) - the familiar sad scale"}),$.jsx(Ge,{children:"Top row (Q-U): Phrygian mode - minor scale with a lowered 2nd"}),$.jsx(Ge,{children:"Number row (1-8): Locrian mode - the darkest mode, with lowered 2nd and 5th"})]}),taskIds:["play-dorian-low-scale","play-minor-scale","play-phrygian-scale","play-locrian-scale"]},{title:"Major Chords",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Now let's learn all twelve major chords! We'll start with C major in the second octave, using three keys for the three notes of each chord."}),$.jsx(Ge,{children:"The bottom row (Z-.) covers C, C#, and D major chords. The home row (A-L) covers Eb, E, and F major chords. The top row (Q-O) covers F#, G, and G# major chords. And finally the number row is grouped in threes: 1-2-3 for A major, 4-5-6 for Bb major, and 7-8-9 for B major."}),$.jsx(Ge,{children:"Each new chord builds on the previous ones, so you can always go back and practice earlier chords!"})]}),taskIds:["play-c-major-chord","play-c-sharp-major-chord","play-d-major-chord","play-eb-major-chord","play-e-major-chord","play-f-major-chord","play-f-sharp-major-chord","play-g-major-chord","play-g-sharp-major-chord","play-a-major-chord","play-bb-major-chord","play-b-major-chord"]},{title:"Minor Chords",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Now let's learn all twelve minor chords! Like major chords, each minor chord has three notes, but the middle note (the third) is lowered by one semitone, giving that characteristic melancholic sound."}),$.jsx(Ge,{children:"We'll use the same keyboard layout pattern as major chords: Bottom row (Z-.) for C minor, C# minor, and D minor; Home row (A-L) for Eb minor, E minor, and F minor; Top row (Q-O) for F# minor, G minor, and G# minor; Number row grouped in threes: 1-2-3 for A minor, 4-5-6 for Bb minor, and 7-8-9 for B minor."}),$.jsx(Ge,{children:"Each minor chord follows this pattern: root note, minor third (3 semitones up), and perfect fifth (7 semitones up). For example, C minor is C (root), Eb (minor third), and G (perfect fifth)."})]}),taskIds:["play-c-minor-chord","play-c-sharp-minor-chord","play-d-minor-chord","play-eb-minor-chord","play-e-minor-chord","play-f-minor-chord","play-f-sharp-minor-chord","play-g-minor-chord","play-g-sharp-minor-chord","play-a-minor-chord","play-bb-minor-chord","play-b-minor-chord"]},{title:"C Major and C Minor Relations",content:$.jsxs($.Fragment,{children:[$.jsx(Ge,{children:"Let's explore the relationship between C major and C minor scales and their primary chords. We'll start with the C major scale and its primary chords (I, IV, V), then compare them with their minor counterparts."}),$.jsx(Ge,{children:"First, play the C major scale ascending from C3 to C4. Then we'll explore the three primary chords in C major: C major (I), F major (IV), and G major (V)."}),$.jsx(Ge,{children:"Next, we'll play the C minor scale, which differs from C major by having a lowered third (Eb), sixth (Ab), and seventh (Bb). Finally, we'll play the primary chords in C minor: C minor (i), F minor (iv), and G minor (v)."}),$.jsx(Ge,{children:"Notice how the chord qualities change between major and minor keys, while the root notes remain the same!"})]}),taskIds:["play-c-major-scale-sequence","play-c-major-primary-i","play-c-major-primary-iv","play-c-major-primary-v","play-c-minor-scale-sequence","play-c-minor-primary-i","play-c-minor-primary-iv","play-c-minor-primary-v"]},{title:"Free Play",content:$.jsx($.Fragment,{children:$.jsx(Ge,{children:"Congratulations! You've completed the lessons. Now you can freely play around with the piano. Try different tonics, voicings, and color modes!"})}),taskIds:[]}],Ft=ew.map((t,e)=>({...t,id:e+1})),Ut=t=>({type:"sequence",sequence:t,getState:e=>({completedNotes:t.slice(0,e),activeTargets:t.slice(e,e+1),progress:e}),checkNote:(e,n,r)=>{const o=t[r];return o&&o.note===e&&o.octave===n}}),Dr=t=>({type:"set",targetNotes:t,getState:(e=new Set)=>{const n=[],r=[],o=e||new Set;return Array.from(t).forEach(i=>{const[a,l]=i.split("-").map(Number);o.has(i)?n.push({note:a,octave:l}):r.push({note:a,octave:l})}),{completedNotes:n,activeTargets:r,progress:n.length}},checkNote:(e,n,r=new Set)=>{const o=`${e}-${n}`,i=r||new Set;return t.has(o)&&!i.has(o)}}),ps=(t,e)=>{const n={};return t.forEach(({note:r,octave:o},i)=>{i<e.length&&(n[e[i]]={note:r,octave:o})}),n},Yi={"C-major":{notes:[{note:0,octave:2},{note:4,octave:2},{note:7,octave:2}],keys:["KeyZ","KeyX","KeyC"]},"C#-major":{notes:[{note:1,octave:2},{note:5,octave:2},{note:8,octave:2}],keys:["KeyV","KeyB","KeyN"]},"D-major":{notes:[{note:2,octave:2},{note:6,octave:2},{note:9,octave:2}],keys:["KeyM","Comma","Period"]},"Eb-major":{notes:[{note:3,octave:3},{note:7,octave:3},{note:10,octave:3}],keys:["KeyA","KeyS","KeyD"]},"E-major":{notes:[{note:4,octave:3},{note:8,octave:3},{note:11,octave:3}],keys:["KeyF","KeyG","KeyH"]},"F-major":{notes:[{note:5,octave:3},{note:9,octave:3},{note:0,octave:4}],keys:["KeyJ","KeyK","KeyL"]},"F#-major":{notes:[{note:6,octave:4},{note:10,octave:4},{note:1,octave:5}],keys:["KeyQ","KeyW","KeyE"]},"G-major":{notes:[{note:7,octave:4},{note:11,octave:4},{note:2,octave:5}],keys:["KeyR","KeyT","KeyY"]},"G#-major":{notes:[{note:8,octave:4},{note:0,octave:5},{note:3,octave:5}],keys:["KeyU","KeyI","KeyO"]},"A-major":{notes:[{note:9,octave:4},{note:1,octave:5},{note:4,octave:5}],keys:["Digit1","Digit2","Digit3"]},"Bb-major":{notes:[{note:10,octave:4},{note:2,octave:5},{note:5,octave:5}],keys:["Digit4","Digit5","Digit6"]},"B-major":{notes:[{note:11,octave:4},{note:3,octave:5},{note:6,octave:5}],keys:["Digit7","Digit8","Digit9"]},"C-minor":{notes:[{note:0,octave:2},{note:3,octave:2},{note:7,octave:2}],keys:["KeyZ","KeyX","KeyC"]},"C#-minor":{notes:[{note:1,octave:2},{note:4,octave:2},{note:8,octave:2}],keys:["KeyV","KeyB","KeyN"]},"D-minor":{notes:[{note:2,octave:2},{note:5,octave:2},{note:9,octave:2}],keys:["KeyM","Comma","Period"]},"Eb-minor":{notes:[{note:3,octave:3},{note:6,octave:3},{note:10,octave:3}],keys:["KeyA","KeyS","KeyD"]},"E-minor":{notes:[{note:4,octave:3},{note:7,octave:3},{note:11,octave:3}],keys:["KeyF","KeyG","KeyH"]},"F-minor":{notes:[{note:5,octave:3},{note:8,octave:3},{note:0,octave:4}],keys:["KeyJ","KeyK","KeyL"]},"F#-minor":{notes:[{note:6,octave:4},{note:9,octave:4},{note:1,octave:5}],keys:["KeyQ","KeyW","KeyE"]},"G-minor":{notes:[{note:7,octave:4},{note:10,octave:4},{note:2,octave:5}],keys:["KeyR","KeyT","KeyY"]},"G#-minor":{notes:[{note:8,octave:4},{note:11,octave:4},{note:3,octave:5}],keys:["KeyU","KeyI","KeyO"]},"A-minor":{notes:[{note:9,octave:4},{note:0,octave:5},{note:4,octave:5}],keys:["Digit1","Digit2","Digit3"]},"Bb-minor":{notes:[{note:10,octave:4},{note:1,octave:5},{note:5,octave:5}],keys:["Digit4","Digit5","Digit6"]},"B-minor":{notes:[{note:11,octave:4},{note:2,octave:5},{note:6,octave:5}],keys:["Digit7","Digit8","Digit9"]}},st=(t,e,n=[])=>{const r={};n.forEach(l=>{Yi[l].notes.forEach((c,h)=>{r[Yi[l].keys[h]]=c})}),Yi[e].notes.forEach((l,c)=>{r[Yi[e].keys[c]]=l});const o=new Set(Yi[e].notes.map(l=>`${l.note}-${l.octave}`)),a=e.includes("minor")||t>2;return{id:`play-${e.toLowerCase()}-chord`,description:`Play ${e.replace("-"," ")} chord`,total:3,requiredProgress:3,keyboardMapping:r,colorMode:a?"flat-chromatic":"chromatic",chromaticNotes:[0,1,2,3,4,5,6,7,8,9,10,11],checker:Dr(o),previousTaskId:t>0?`play-${n[n.length-1].toLowerCase()}-chord`:null}},tw={"play-c-major-chord":st(0,"C-major"),"play-c-sharp-major-chord":st(1,"C#-major",["C-major"]),"play-d-major-chord":st(2,"D-major",["C-major","C#-major"]),"play-eb-major-chord":st(3,"Eb-major",["C-major","C#-major","D-major"]),"play-e-major-chord":st(4,"E-major",["C-major","C#-major","D-major","Eb-major"]),"play-f-major-chord":st(5,"F-major",["C-major","C#-major","D-major","Eb-major","E-major"]),"play-f-sharp-major-chord":st(6,"F#-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major"]),"play-g-major-chord":st(7,"G-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major"]),"play-g-sharp-major-chord":st(8,"G#-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major"]),"play-a-major-chord":st(9,"A-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major"]),"play-bb-major-chord":st(10,"Bb-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major","A-major"]),"play-b-major-chord":st(11,"B-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major","A-major","Bb-major"])},nw={"play-c-minor-chord":st(0,"C-minor"),"play-c-sharp-minor-chord":st(1,"C#-minor",["C-minor"]),"play-d-minor-chord":st(2,"D-minor",["C-minor","C#-minor"]),"play-eb-minor-chord":st(3,"Eb-minor",["C-minor","C#-minor","D-minor"]),"play-e-minor-chord":st(4,"E-minor",["C-minor","C#-minor","D-minor","Eb-minor"]),"play-f-minor-chord":st(5,"F-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor"]),"play-f-sharp-minor-chord":st(6,"F#-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor"]),"play-g-minor-chord":st(7,"G-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor"]),"play-g-sharp-minor-chord":st(8,"G#-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor"]),"play-a-minor-chord":st(9,"A-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor"]),"play-bb-minor-chord":st(10,"Bb-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor","G#-minor"]),"play-b-minor-chord":st(11,"B-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor","G#-minor","A-minor"])},Ko={notes:[{note:0,octave:3},{note:2,octave:3},{note:4,octave:3},{note:5,octave:3},{note:7,octave:3},{note:9,octave:3},{note:11,octave:3},{note:0,octave:4}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma"]},Vo={notes:[{note:0,octave:3},{note:2,octave:3},{note:3,octave:3},{note:5,octave:3},{note:7,octave:3},{note:8,octave:3},{note:10,octave:3},{note:0,octave:4}],keys:["KeyZ","KeyX","KeyD","KeyV","KeyB","KeyH","KeyJ","Comma"]},rw={"play-c-major-scale-sequence":{id:"play-c-major-scale-sequence",description:"Play C major scale from C3 to C4",total:Ko.notes.length,requiredProgress:Ko.notes.length,keyboardMapping:ps(Ko.notes,Ko.keys),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Ko.notes.map(t=>t.note))),checker:Ut(Ko.notes),previousTaskId:"play-b-minor-chord"},"play-c-major-primary-i":{id:"play-c-major-primary-i",description:"Play C major chord (I)",total:3,requiredProgress:3,keyboardMapping:{KeyZ:{note:0,octave:3},KeyX:{note:4,octave:3},KeyC:{note:7,octave:3}},colorMode:"chromatic",chromaticNotes:[0,4,7],checker:Dr(new Set(["0-3","4-3","7-3"])),previousTaskId:"play-c-major-scale-sequence"},"play-c-major-primary-iv":{id:"play-c-major-primary-iv",description:"Play F major chord (IV)",total:3,requiredProgress:3,keyboardMapping:{KeyV:{note:5,octave:3},KeyB:{note:9,octave:3},KeyN:{note:0,octave:4}},colorMode:"chromatic",chromaticNotes:[0,5,9],checker:Dr(new Set(["5-3","9-3","0-4"])),previousTaskId:"play-c-major-primary-i"},"play-c-major-primary-v":{id:"play-c-major-primary-v",description:"Play G major chord (V)",total:3,requiredProgress:3,keyboardMapping:{KeyM:{note:7,octave:3},Comma:{note:11,octave:3},Period:{note:2,octave:4}},colorMode:"chromatic",chromaticNotes:[2,7,11],checker:Dr(new Set(["7-3","11-3","2-4"])),previousTaskId:"play-c-major-primary-iv"},"play-c-minor-scale-sequence":{id:"play-c-minor-scale-sequence",description:"Play C minor scale from C3 to C4",total:Vo.notes.length,requiredProgress:Vo.notes.length,keyboardMapping:ps(Vo.notes,Vo.keys),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Vo.notes.map(t=>t.note))),checker:Ut(Vo.notes),previousTaskId:"play-c-major-primary-v"},"play-c-minor-primary-i":{id:"play-c-minor-primary-i",description:"Play C minor chord (i)",total:3,requiredProgress:3,keyboardMapping:{KeyZ:{note:0,octave:3},KeyX:{note:3,octave:3},KeyC:{note:7,octave:3}},colorMode:"chromatic",chromaticNotes:[0,3,7],checker:Dr(new Set(["0-3","3-3","7-3"])),previousTaskId:"play-c-minor-scale-sequence"},"play-c-minor-primary-iv":{id:"play-c-minor-primary-iv",description:"Play F minor chord (iv)",total:3,requiredProgress:3,keyboardMapping:{KeyV:{note:5,octave:3},KeyB:{note:8,octave:3},KeyN:{note:0,octave:4}},colorMode:"chromatic",chromaticNotes:[0,5,8],checker:Dr(new Set(["5-3","8-3","0-4"])),previousTaskId:"play-c-minor-primary-i"},"play-c-minor-primary-v":{id:"play-c-minor-primary-v",description:"Play G minor chord (v)",total:3,requiredProgress:3,keyboardMapping:{KeyM:{note:7,octave:3},Comma:{note:10,octave:3},Period:{note:2,octave:4}},colorMode:"chromatic",chromaticNotes:[2,7,10],checker:Dr(new Set(["7-3","10-3","2-4"])),previousTaskId:"play-c-minor-primary-iv"}},ow=Ft.reduce((t,e)=>[...t,...e.taskIds],[]),ip=ow,Oe=(t,e)=>({note:t,octave:0,keys:e}),We={C:Oe(0,["KeyZ","KeyA","KeyQ","Digit1"]),D:Oe(2,["KeyX","KeyS","KeyW","Digit2"]),E:Oe(4,["KeyC","KeyD","KeyE","Digit3"]),F:Oe(5,["KeyV","KeyF","KeyR","Digit4"]),G:Oe(7,["KeyB","KeyG","KeyT","Digit5"]),A:Oe(9,["KeyN","KeyH","KeyY","Digit6"]),B:Oe(11,["KeyM","KeyJ","KeyU","Digit7"]),"C#":Oe(1,["KeyZ","KeyA","KeyQ","Digit1"]),"E-again":Oe(4,["KeyV","KeyF","KeyR","Digit4"]),"D#":Oe(3,["KeyC","KeyD","KeyE","Digit3"]),"A-again":Oe(9,["Comma","KeyK","KeyI","Digit8"]),"G#":Oe(8,["KeyM","KeyJ","KeyU","Digit7"]),"B-again":Oe(11,["Slash","Semicolon","KeyP","Digit0"]),"A#":Oe(10,["Period","KeyL","KeyO","Digit9"]),"F-again":Oe(5,["KeyB","KeyG","KeyT","Digit5"]),"F#":Oe(6,["KeyN","KeyH","KeyY","Digit6"]),"lydian-c":Oe(0,["KeyZ","KeyZ","KeyZ","KeyZ"]),"lydian-d":Oe(2,["KeyX","KeyX","KeyX","KeyX"]),"lydian-e":Oe(4,["KeyC","KeyC","KeyC","KeyC"]),"lydian-f#":Oe(6,["KeyV","KeyV","KeyV","KeyV"]),"lydian-g":Oe(7,["KeyB","KeyB","KeyB","KeyB"]),"lydian-a":Oe(9,["KeyN","KeyN","KeyN","KeyN"]),"lydian-b":Oe(11,["KeyM","KeyM","KeyM","KeyM"]),"major-c":Oe(0,["KeyA","KeyA","KeyA","KeyA"]),"major-d":Oe(2,["KeyS","KeyS","KeyS","KeyS"]),"major-e":Oe(4,["KeyD","KeyD","KeyD","KeyD"]),"major-f":Oe(5,["KeyF","KeyF","KeyF","KeyF"]),"major-g":Oe(7,["KeyG","KeyG","KeyG","KeyG"]),"major-a":Oe(9,["KeyH","KeyH","KeyH","KeyH"]),"major-b":Oe(11,["KeyJ","KeyJ","KeyJ","KeyJ"]),"mixo-c":Oe(0,["KeyQ","KeyQ","KeyQ","KeyQ"]),"mixo-d":Oe(2,["KeyW","KeyW","KeyW","KeyW"]),"mixo-e":Oe(4,["KeyE","KeyE","KeyE","KeyE"]),"mixo-f":Oe(5,["KeyR","KeyR","KeyR","KeyR"]),"mixo-g":Oe(7,["KeyT","KeyT","KeyT","KeyT"]),"mixo-a":Oe(9,["KeyY","KeyY","KeyY","KeyY"]),"mixo-bb":Oe(10,["KeyU","KeyU","KeyU","KeyU"]),"dorian-c":Oe(0,["Digit1","Digit1","Digit1","Digit1"]),"dorian-d":Oe(2,["Digit2","Digit2","Digit2","Digit2"]),"dorian-eb":Oe(3,["Digit3","Digit3","Digit3","Digit3"]),"dorian-f":Oe(5,["Digit4","Digit4","Digit4","Digit4"]),"dorian-g":Oe(7,["Digit5","Digit5","Digit5","Digit5"]),"dorian-a":Oe(9,["Digit6","Digit6","Digit6","Digit6"]),"dorian-bb":Oe(10,["Digit7","Digit7","Digit7","Digit7"]),"dorian-c2":Oe(0,["Digit8","Digit8","Digit8","Digit8"])},iw=()=>{const t=[];let e=9,n=0;for(;!(e===0&&n===8);){t.push({note:e,octave:n});const r=(e+1)%12;e=r,r===0&&n++}return t.push({note:0,octave:8}),t},sw=()=>{const t=[];let e=0,n=8;for(;!(e===9&&n===0);){t.push({note:e,octave:n});let r=e-1;r<0&&(r=11,n--),e=r}return t.push({note:9,octave:0}),t},Bo=iw(),jc=sw(),zo=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"],Fc=["Equal","Minus","Digit0","Digit9","Digit8","Digit7","Digit6","Digit5","Digit4","Digit3","Digit2","Digit1","BracketRight","BracketLeft","KeyP","KeyO","KeyI","KeyU","KeyY","KeyT","KeyR","KeyE","KeyW","KeyQ","Quote","Semicolon","KeyL","KeyK","KeyJ","KeyH","KeyG","KeyF","KeyD","KeyS","KeyA","Slash","Period","Comma","KeyM","KeyN","KeyB","KeyV","KeyC","KeyX","KeyZ"],Rt=(t,e,n,r,o)=>{const i=new Set;[2,3,4,5].forEach(c=>{i.add(`${e.note}-${c}`)});const a=Dr(i),l={};if(o===1)[We.C,We.D,We.E,We.F,We.G,We.A,We.B].slice(0,t+1).forEach(h=>{h&&h.keys.forEach((f,g)=>{l[f]={note:h.note,octave:g+2}})});else if(o===2){const c=[We.D,We["C#"],We["E-again"],We["D#"],We["A-again"],We["G#"],We["B-again"],We["A#"],We["F-again"],We["F#"]],h=t-7;c.slice(0,h+1).forEach(g=>{g&&g.keys.forEach((_,N)=>{l[_]={note:g.note,octave:N+2}})})}return{id:ip[t],description:`Play ${n}`,total:4,requiredProgress:4,previousTaskId:t>0?ip[t-1]:null,chromaticNotes:r,keyboardMapping:l,checker:a}},oy=(t,e,n)=>{const r=[];let o=t,i=e;const a=100;for(;r.length<a&&i<8;){r.push({note:o,octave:i});let l=o+n,c=i;if(l>11&&(l=l%12,c++),o=l,i=c,i>=8)break}return r},Xi=oy(9,0,2),Zi=oy(10,0,2),sp=t=>{const e={},n=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"];return t.forEach(({note:r,octave:o},i)=>{i<n.length&&(e[n[i]]={note:r,octave:o})}),e},we={lydian:{notes:[{note:0,octave:2},{note:2,octave:2},{note:4,octave:2},{note:6,octave:2},{note:7,octave:2},{note:9,octave:2},{note:11,octave:2},{note:0,octave:3}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","KeyA"],description:"Lydian scale (C D E F# G A B C)"},major:{notes:[{note:0,octave:3},{note:2,octave:3},{note:4,octave:3},{note:5,octave:3},{note:7,octave:3},{note:9,octave:3},{note:11,octave:3},{note:0,octave:4}],keys:["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyQ"],description:"Major scale (C D E F G A B C)"},mixolydian:{notes:[{note:0,octave:4},{note:2,octave:4},{note:4,octave:4},{note:5,octave:4},{note:7,octave:4},{note:9,octave:4},{note:10,octave:4},{note:0,octave:5}],keys:["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","Digit1"],description:"Mixolydian scale (C D E F G A Bb C)"},dorian:{notes:[{note:0,octave:5},{note:2,octave:5},{note:3,octave:5},{note:5,octave:5},{note:7,octave:5},{note:9,octave:5},{note:10,octave:5},{note:0,octave:6}],keys:["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],description:"Dorian scale (C D Eb F G A Bb C)"},dorianLow:{notes:[{note:0,octave:2},{note:2,octave:2},{note:3,octave:2},{note:5,octave:2},{note:7,octave:2},{note:9,octave:2},{note:10,octave:2},{note:0,octave:3}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","KeyA"],description:"Dorian scale in lower octave (C D Eb F G A Bb C)"},minor:{notes:[{note:0,octave:3},{note:2,octave:3},{note:3,octave:3},{note:5,octave:3},{note:7,octave:3},{note:8,octave:3},{note:10,octave:3},{note:0,octave:4}],keys:["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyQ"],description:"Natural Minor scale (C D Eb F G Ab Bb C)"},phrygian:{notes:[{note:0,octave:4},{note:1,octave:4},{note:3,octave:4},{note:5,octave:4},{note:7,octave:4},{note:8,octave:4},{note:10,octave:4},{note:0,octave:5}],keys:["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","Digit1"],description:"Phrygian scale (C Db Eb F G Ab Bb C)"},locrian:{notes:[{note:0,octave:5},{note:1,octave:5},{note:3,octave:5},{note:5,octave:5},{note:6,octave:5},{note:8,octave:5},{note:10,octave:5},{note:0,octave:6}],keys:["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],description:"Locrian scale (C Db Eb F Gb Ab Bb C)"}},cr=(t,e=[])=>{const n={};return e.forEach(r=>{const o=we[r];o.notes.slice(0,-1).forEach(({note:i,octave:a},l)=>{n[o.keys[l]]={note:i,octave:a}})}),t.notes.forEach(({note:r,octave:o},i)=>{n[t.keys[i]]={note:r,octave:o}}),n},rn={"play-c-across-octaves":Rt(0,We.C,"C notes across different octaves",[0],1),"play-d-across-octaves":Rt(1,We.D,"D notes across different octaves",[0,2],1),"play-e-across-octaves":Rt(2,We.E,"E notes across different octaves",[0,2,4],1),"play-f-across-octaves":Rt(3,We.F,"F notes across different octaves",[0,2,4,5],1),"play-g-across-octaves":Rt(4,We.G,"G notes across different octaves",[0,2,4,5,7],1),"play-a-across-octaves":Rt(5,We.A,"A notes across different octaves",[0,2,4,5,7,9],1),"play-b-across-octaves":Rt(6,We.B,"B notes across different octaves",[0,2,4,5,7,9,11],1),"play-d-again":Rt(7,We.D,"D notes across different octaves",[0,2,4,5,7,9,11],2),"play-c-sharp":Rt(8,We["C#"],"D notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-e-again":Rt(9,We["E-again"],"E notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-d-sharp":Rt(10,We["D#"],"E notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-a-again":Rt(11,We["A-again"],"A notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-g-sharp":Rt(12,We["G#"],"A notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-b-again":Rt(13,We["B-again"],"B notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-a-sharp":Rt(14,We["A#"],"B notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-again":Rt(15,We["F-again"],"F notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-sharp":Rt(16,We["F#"],"F# notes across different octaves",[0,1,2,3,4,5,6,7,8,9,10,11],2),"play-chromatic-ascending":{id:"play-chromatic-ascending",description:"Play notes in ascending chromatic order, starting from A0",total:zo.length,requiredProgress:zo.length,keyboardMapping:ps(Bo,zo),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Bo.map(t=>t.note))),checker:Ut(Bo),previousTaskId:"play-f-sharp"},"play-chromatic-descending":{id:"play-chromatic-descending",description:"Play notes in descending chromatic order, starting from C8",total:Fc.length,requiredProgress:Fc.length,keyboardMapping:ps(jc,Fc),colorMode:"chromatic",chromaticNotes:Array.from(new Set(jc.map(t=>t.note))),checker:Ut(jc),previousTaskId:"play-chromatic-ascending"},"play-chromatic-ascending-flat":{id:"play-chromatic-ascending-flat",description:"Play notes in ascending chromatic order using flat keyboard layout",total:zo.length,requiredProgress:zo.length,keyboardMapping:ps(Bo,zo),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Bo.map(t=>t.note))),checker:Ut(Bo),previousTaskId:"play-chromatic-descending"},"play-major-seconds-from-a0":{id:"play-major-seconds-from-a0",description:"Play notes separated by major seconds, starting from A0",total:Xi.length,requiredProgress:Xi.length,keyboardMapping:sp(Xi),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Xi.map(t=>t.note))),checker:Ut(Xi),previousTaskId:"play-chromatic-ascending-flat"},"play-major-seconds-from-asharp0":{id:"play-major-seconds-from-asharp0",description:"Play notes separated by major seconds, starting from A#0",total:Zi.length,requiredProgress:Zi.length,keyboardMapping:sp(Zi),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Zi.map(t=>t.note))),checker:Ut(Zi),previousTaskId:"play-major-seconds-from-a0"},"play-major-scale":{id:"play-major-scale",description:we.major.description,total:we.major.notes.length,requiredProgress:we.major.notes.length,keyboardMapping:cr(we.major),colorMode:"chromatic",chromaticNotes:Array.from(new Set(we.major.notes.map(t=>t.note))),checker:Ut([...we.major.notes]),previousTaskId:"play-major-seconds-from-asharp0"},"play-lydian-scale":{id:"play-lydian-scale",description:we.lydian.description,total:we.lydian.notes.length,requiredProgress:we.lydian.notes.length,keyboardMapping:cr(we.lydian,["major"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.major.notes.map(t=>t.note),...we.lydian.notes.map(t=>t.note)])),checker:Ut([...we.lydian.notes]),previousTaskId:"play-major-scale"},"play-major-scale-with-lydian":{id:"play-major-scale-with-lydian",description:"Major scale (Ionian mode) - now with both rows available",total:we.major.notes.length,requiredProgress:we.major.notes.length,keyboardMapping:cr(we.major,["lydian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.lydian.notes.map(t=>t.note),...we.major.notes.map(t=>t.note)])),checker:Ut([...we.major.notes]),previousTaskId:"play-lydian-scale"},"play-mixolydian-scale":{id:"play-mixolydian-scale",description:we.mixolydian.description,total:we.mixolydian.notes.length,requiredProgress:we.mixolydian.notes.length,keyboardMapping:cr(we.mixolydian,["lydian","major"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.lydian.notes.map(t=>t.note),...we.major.notes.map(t=>t.note),...we.mixolydian.notes.map(t=>t.note)])),checker:Ut([...we.mixolydian.notes]),previousTaskId:"play-major-scale-with-lydian"},"play-dorian-scale":{id:"play-dorian-scale",description:we.dorian.description,total:we.dorian.notes.length,requiredProgress:we.dorian.notes.length,keyboardMapping:cr(we.dorian,["lydian","major","mixolydian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.lydian.notes.map(t=>t.note),...we.major.notes.map(t=>t.note),...we.mixolydian.notes.map(t=>t.note),...we.dorian.notes.map(t=>t.note)])),checker:Ut([...we.dorian.notes]),previousTaskId:"play-mixolydian-scale"},"play-dorian-low-scale":{id:"play-dorian-low-scale",description:we.dorianLow.description,total:we.dorianLow.notes.length,requiredProgress:we.dorianLow.notes.length,keyboardMapping:cr(we.dorianLow),colorMode:"chromatic",chromaticNotes:Array.from(new Set(we.dorianLow.notes.map(t=>t.note))),checker:Ut([...we.dorianLow.notes]),previousTaskId:"play-dorian-scale"},"play-minor-scale":{id:"play-minor-scale",description:we.minor.description,total:we.minor.notes.length,requiredProgress:we.minor.notes.length,keyboardMapping:cr(we.minor,["dorianLow"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.dorianLow.notes.map(t=>t.note),...we.minor.notes.map(t=>t.note)])),checker:Ut([...we.minor.notes]),previousTaskId:"play-dorian-low-scale"},"play-phrygian-scale":{id:"play-phrygian-scale",description:we.phrygian.description,total:we.phrygian.notes.length,requiredProgress:we.phrygian.notes.length,keyboardMapping:cr(we.phrygian,["dorianLow","minor"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.dorianLow.notes.map(t=>t.note),...we.minor.notes.map(t=>t.note),...we.phrygian.notes.map(t=>t.note)])),checker:Ut([...we.phrygian.notes]),previousTaskId:"play-minor-scale"},"play-locrian-scale":{id:"play-locrian-scale",description:we.locrian.description,total:we.locrian.notes.length,requiredProgress:we.locrian.notes.length,keyboardMapping:cr(we.locrian,["dorianLow","minor","phrygian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...we.dorianLow.notes.map(t=>t.note),...we.minor.notes.map(t=>t.note),...we.phrygian.notes.map(t=>t.note),...we.locrian.notes.map(t=>t.note)])),checker:Ut([...we.locrian.notes]),previousTaskId:"play-phrygian-scale"},...tw,...nw,...rw},aw=(t,e)=>{const n=rn[t];return n&&e>=n.requiredProgress},lw=(t,e,n)=>{const r=rn[t];if(!r)return!1;const o=Ft.find(l=>l.taskIds.includes(t));if(!o||o.id!==n)return!1;if(!r.previousTaskId)return!0;const i=e.find(l=>l.taskId===r.previousTaskId),a=(i==null?void 0:i.progress)||0;return aw(r.previousTaskId,a)},ap=t=>{const e=Ft.find(r=>r.taskIds.includes(t));if(!e)return null;const n=e.taskIds.indexOf(t);return n===-1||n===e.taskIds.length-1?null:e.taskIds[n+1]},cw=[1,3,-1,6,8,10,-1],Ul=[0,2,4,5,7,9,11],lp=.65,ho=80,uw=(t,e,n,r)=>!n||!r||!n.includes("scale")?!0:Object.values(r).some(o=>o.note===t&&o.octave===e),hw=({note:t,octave:e,style:n,keyboardKey:r,shiftedKeyboardKey:o,tonic:i,isShiftPressed:a,colorMode:l,playNotes:c,releaseNotes:h,isActive:f,activeTaskId:g,keyboardMapping:_})=>{var fe;const[N,E]=Y.useState(!1),[b,I]=Y.useState(!1),w=g?(fe=rn[g])==null?void 0:fe.chromaticNotes:void 0,T=uw(t,e,g,_),A=g?l==="flat-chromatic"?"flat-chromatic":g!=null&&g.includes("scale")?T&&(w!=null&&w.includes(t))?"chromatic":"traditional":w!=null&&w.includes(t)?"chromatic":"traditional":l,R=Qh(i,A),M=(t-i+12)%12,L=Ul.includes(t),z=async()=>{await c(t,e),I(!0)},V=()=>{b&&(h(t,e),I(!1))},J=()=>{E(!1),b&&V()},G=async pe=>{pe.preventDefault(),await z()},Z=pe=>{pe.preventDefault(),V()},ee={...n,backgroundColor:A==="traditional"?L?"#FFFFFF":"#000000":R[t],position:"absolute",userSelect:"none",fontSize:"10px",textAlign:"center",color:A==="traditional"?L?"#000000":"#FFFFFF":ry(M),display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",paddingBottom:"3px",boxSizing:"border-box",transform:f||b?"scale(0.9)":N?"scale(1.1)":"scale(1)",boxShadow:f||b?`0 0 10px ${L?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"}`:"none",transition:g||b||N?"transform 0.1s ease-in-out, background-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out":"transform 1s ease-in-out, background-color 1s ease-in-out, box-shadow 1s ease-in-out",cursor:"pointer",zIndex:N?3:n.zIndex||1,border:A==="traditional"?"1px solid #333":"none",height:A==="flat-chromatic"?ho:A==="chromatic"?L?ho-2:ho*lp-2:L?ho:ho*lp,top:A==="flat-chromatic"?0:A==="chromatic"?1:0};return $.jsx("div",{style:ee,onMouseDown:z,onMouseUp:V,onMouseEnter:()=>E(!0),onMouseLeave:J,onTouchStart:G,onTouchEnd:Z,children:(r||o)&&$.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"2px",display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:a?o&&$.jsx("div",{children:o}):r&&$.jsx("div",{children:r})})})},cp=(t,e=!1)=>e?t-3:t+3,dw=({totalWidth:t})=>$.jsxs("div",{style:{position:"absolute",top:-30,left:t*.58,width:t*.42,textAlign:"center",color:"white",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[$.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}}),$.jsx("div",{children:"Shift"}),$.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}})]}),fo={0:{start:9,length:3},1:{start:0,length:12},2:{start:0,length:12},3:{start:0,length:12},4:{start:0,length:12},5:{start:0,length:12},6:{start:0,length:12},7:{start:0,length:12},8:{start:0,length:1}},Fu=(t,e)=>{let n=0;for(let r=0;r<e;r++)Ul.includes((t+r)%12)&&n++;return n},up=({note:t,octave:e,keyWidth:n,isPlayed:r,isCurrent:o,isSetMode:i,colorMode:a})=>{const l=La(t,e,n,a);return console.log("[TaskIndicator] Rendering:",{note:t,octave:e,isPlayed:r,isCurrent:o,isSetMode:i,left:l}),$.jsx("div",{style:{position:"absolute",left:l,bottom:0,color:r?"#4ade80":"white",fontSize:"20px",transform:o?"translateY(-5px)":"none",transition:"transform 0.2s ease-in-out",width:a==="flat-chromatic"?n*(7/12):n,display:"flex",justifyContent:"center",alignItems:"center"},children:r?"":o?"":""})},fw=({taskConfig:t,totalWidth:e,keyWidth:n,activeKeysCount:r,isCompleting:o,colorMode:i,currentIndex:a,playedNotes:l})=>{const c=t.checker.type==="sequence"?t.checker.getState(a):t.checker.getState(l);return console.log("[TaskIndicators] Checker state:",{type:t.checker.type,state:c,currentIndex:a,playedNotes:l}),$.jsxs("div",{style:{position:"absolute",top:-30,left:0,width:e,height:"30px",display:"flex",alignItems:"flex-end"},children:[o&&r>0&&$.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",whiteSpace:"nowrap",padding:"4px 12px",borderRadius:"4px",background:"rgba(0, 0, 0, 0.6)"},children:"Release all keys to continue"}),!o&&$.jsxs($.Fragment,{children:[c.completedNotes.map(({note:h,octave:f})=>(console.log("[TaskIndicator] Rendering completed note:",{note:h,octave:f}),$.jsx(up,{note:h,octave:f,keyWidth:n,isPlayed:!0,colorMode:i},`completed-${h}-${f}`))),c.activeTargets.map(({note:h,octave:f})=>(console.log("[TaskIndicator] Rendering active target:",{note:h,octave:f}),$.jsx(up,{note:h,octave:f,keyWidth:n,isCurrent:!0,colorMode:i},`active-${h}-${f}`)))]})]})},La=(t,e,n,r)=>{if(r==="flat-chromatic"){let c=0;for(let f=0;f<e;f++)c+=fo[f].length;const h=fo[e];return c+=t-h.start,n*(7/12)*(c+.5)}const o=Ul.includes(t);let i=0;for(let c=0;c<e;c++)i+=Fu(fo[c].start,fo[c].length);const a=fo[e],l=t-a.start;return i+=Fu(a.start,l),n*(o?i:i-.5)},pw=({tonic:t,setTonic:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:i,playNotes:a,releaseNotes:l,fallingNotes:c,currentlyPlayingId:h,onStopPlaying:f,taskKeyboardMapping:g,activeTaskId:_,taskProgress:N,taskPlayedNotes:E,state:b,setActiveKeyCodes:I})=>{const[w,T]=Y.useState(!1),[A,R]=Y.useState(new Set),[M,L]=Y.useState([]),z=(Q,re)=>M.some(j=>j.note===Q&&j.octave===re);Y.useEffect(()=>{const Q=async j=>{I(W=>new Set([...W,j.code]));const O=Rc(n,g);if(j.ctrlKey&&j.code in O){const{note:W}=O[j.code];e(W%12);return}if(!A.has(j.code)&&(R(W=>new Set([...W,j.code])),j.code in O)){const{note:W,octave:te}=O[j.code],ce=j.shiftKey?cp(te):te;await a(W,ce)}},re=j=>{I(W=>{const te=new Set(W);return te.delete(j.code),te});const O=Rc(n,g);if(R(W=>{const te=new Set(W);return te.delete(j.code),te}),j.code in O){const{note:W,octave:te}=O[j.code],ce=te,ie=cp(te);[ce,ie].forEach(y=>{l(W,y)})}};return window.addEventListener("keydown",Q),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",re)}},[A,a,l,e,n,g,I]),Y.useEffect(()=>{const Q=j=>{j.key==="Shift"&&T(!0)},re=j=>{j.key==="Shift"&&T(!1)};return window.addEventListener("keydown",Q),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",re)}},[]),Y.useEffect(()=>{const Q=c.filter(re=>!re.endTime).map(re=>({note:re.note,octave:re.octave}));L(Q)},[c]);const V=Object.values(fo).reduce((Q,re)=>Q+Fu(re.start,re.length),0),J=40,G=Q=>(Q-J)/V,[Z,ee]=Y.useState(25);Y.useEffect(()=>{const Q=()=>{const re=window.innerWidth-600,j=G(re);ee(j)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const fe=V*Z,pe={onNoteStart:a,onNoteEnd:l,tonic:t,isShiftPressed:w,colorMode:n,playNotes:a,releaseNotes:l,activeTaskId:_},Se=La(0,1,Z,"traditional"),he=La(0,2,Z,"traditional"),ge=(Q,re)=>{var W;const j=Rc(n,g),O=(W=Object.entries(j).find(([,te])=>te.note===Q&&te.octave===re))==null?void 0:W[0];if(O)return Ru[O]};return $.jsxs("div",{style:{position:"fixed",top:0,left:"600px",right:0,bottom:0,backgroundColor:"black",padding:"5px",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[h&&$.jsx(Z_,{className:"w-8 h-8 text-red-500 hover:text-red-400 cursor-pointer absolute bottom-4 left-4 z-50",onClick:f}),$.jsxs("div",{style:{position:"relative",width:fe,marginTop:"40px",marginLeft:J/2,marginRight:J/2},children:[!_&&$.jsxs($.Fragment,{children:[$.jsx(dw,{totalWidth:fe}),$.jsx(Y_,{tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:i})]}),Object.entries(fo).map(([Q,re])=>{const j=parseInt(Q);return Array.from({length:re.length},(O,W)=>{const te=(re.start+W)%12,ce=Ul.includes(te),ie={width:n==="flat-chromatic"?Z*(7/12):Z,height:ho,borderRadius:"0 0 5px 5px"};return n==="flat-chromatic"||ce||cw.indexOf(te)!==-1?$.jsx(hw,{...pe,note:te,octave:j,isActive:z(te,j),keyboardKey:ge(te,j),shiftedKeyboardKey:ge(te,j),style:{...ie,width:n==="flat-chromatic"?Z*(7/12):ce?Z:Z-3,left:La(te,j,Z,n),zIndex:n==="flat-chromatic"||ce?1:2},activeTaskId:_,keyboardMapping:g},`${j}-${te}`):null})}),$.jsx(W_,{notes:c,tonic:t,colorMode:n,fallingNoteWidth:Z/6*7,referencePoints:{c1:{note:12,left:Se},c2:{note:24,left:he}}}),_&&rn[_]&&(()=>{const Q={...rn[_],playedNotes:E[_]||new Set},re=N.some(j=>j.taskId===_&&j.status==="completing");return $.jsx(fw,{taskConfig:Q,totalWidth:fe,keyWidth:Z,activeKeysCount:A.size,isCompleting:re,colorMode:n,currentIndex:b.sequenceIndices[_]||0,playedNotes:E[_]||new Set})})()]})]})},iy="15.0.4",hp=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),dp=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Lu=(t,e)=>({startTime:e,type:"setValue",value:t}),sy=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),ay=(t,e,{startTime:n,target:r,timeConstant:o})=>r+(e-r)*Math.exp((n-t)/o),ni=t=>t.type==="exponentialRampToValue",pl=t=>t.type==="linearRampToValue",Rr=t=>ni(t)||pl(t),Yh=t=>t.type==="setValue",hr=t=>t.type==="setValueCurve",ml=(t,e,n,r)=>{const o=t[e];return o===void 0?r:Rr(o)||Yh(o)?o.value:hr(o)?o.values[o.values.length-1]:ay(n,ml(t,e-1,o.startTime,r),o)},fp=(t,e,n,r,o)=>n===void 0?[r.insertTime,o]:Rr(n)?[n.endTime,n.value]:Yh(n)?[n.startTime,n.value]:hr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,ml(t,e-1,n.startTime,o)],Ku=t=>t.type==="cancelAndHold",Vu=t=>t.type==="cancelScheduledValues",Ir=t=>Ku(t)||Vu(t)?t.cancelTime:ni(t)||pl(t)?t.endTime:t.startTime,pp=(t,e,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((t-e)/(r-e)):0,mp=(t,e,n,{endTime:r,value:o})=>n+(t-e)/(r-e)*(o-n),mw=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},gw=(t,{duration:e,startTime:n,values:r})=>{const o=(t-n)/e*(r.length-1);return mw(r,o)},ka=t=>t.type==="setTarget";class yw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ir(e);if(Ku(e)||Vu(e)){const r=this._automationEvents.findIndex(i=>Vu(e)&&hr(i)?i.startTime+i.duration>=n:Ir(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Ku(e)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Rr(o)){if(i!==void 0&&ka(i))throw new Error("The internal list is malformed.");const a=i===void 0?o.insertTime:hr(i)?i.startTime+i.duration:Ir(i),l=i===void 0?this._defaultValue:hr(i)?i.values[i.values.length-1]:i.value,c=ni(o)?pp(n,a,l,o):mp(n,a,l,o),h=ni(o)?hp(c,n,this._currenTime):dp(c,n,this._currenTime);this._automationEvents.push(h)}if(i!==void 0&&ka(i)&&this._automationEvents.push(Lu(this.getValue(n),n)),i!==void 0&&hr(i)&&i.startTime+i.duration>n){const a=n-i.startTime,l=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(a*l)),h=a/(c-1)*l,f=i.values.slice(0,c);if(h<1)for(let g=1;g<c;g+=1){const _=h*g%1;f[g]=i.values[g-1]*(1-_)+i.values[g]*_}this._automationEvents[this._automationEvents.length-1]=sy(f,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Ir(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&hr(o)&&Ir(o)+o.duration>n)return!1;const i=ni(e)?hp(e.value,e.endTime,this._currenTime):pl(e)?dp(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(hr(e)&&n+e.duration>Ir(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Ir(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];ka(o)&&r.unshift(Lu(ml(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Ir(a)>e),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&ka(i)&&(r===void 0||!Rr(r)||r.insertTime>e))return ay(e,ml(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Yh(i)&&(r===void 0||!Rr(r)))return i.value;if(i!==void 0&&hr(i)&&(r===void 0||!Rr(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?gw(e,i):i.values[i.values.length-1];if(i!==void 0&&Rr(i)&&(r===void 0||!Rr(r)))return i.value;if(r!==void 0&&ni(r)){const[a,l]=fp(this._automationEvents,o,i,r,this._defaultValue);return pp(e,a,l,r)}if(r!==void 0&&pl(r)){const[a,l]=fp(this._automationEvents,o,i,r,this._defaultValue);return mp(e,a,l,r)}return this._defaultValue}}const vw=t=>({cancelTime:t,type:"cancelAndHold"}),_w=t=>({cancelTime:t,type:"cancelScheduledValues"}),ww=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),kw=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Sw=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),xw=()=>new DOMException("","AbortError"),Cw=t=>(e,n,[r,o,i],a)=>{t(e[o],[n,r,i],l=>l[0]===n&&l[1]===r,a)},Tw=t=>(e,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ew=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},wi=new WeakSet,ly=new WeakMap,Xh=new WeakMap,cy=new WeakMap,Zh=new WeakMap,Wl=new WeakMap,uy=new WeakMap,Bu=new WeakMap,zu=new WeakMap,Uu=new WeakMap,hy={construct(){return hy}},bw=t=>{try{const e=new Proxy(t,hy);new e}catch{return!1}return!0},gp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,yp=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),o=r.match(gp);for(;o!==null;){const i=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(gp)}return[n.join(";"),r]},vp=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},_p=t=>{if(!bw(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Nw=(t,e,n,r,o,i,a,l,c,h,f,g,_)=>{let N=0;return(E,b,I={credentials:"omit"})=>{const w=f.get(E);if(w!==void 0&&w.has(b))return Promise.resolve();const T=h.get(E);if(T!==void 0){const M=T.get(b);if(M!==void 0)return M}const A=i(E),R=A.audioWorklet===void 0?o(b).then(([M,L])=>{const[z,V]=yp(M,L),J=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${V}
})})(window,'_AWGS')`;return n(J)}).then(()=>{const M=_._AWGS.pop();if(M===void 0)throw new SyntaxError;r(A.currentTime,A.sampleRate,()=>M(class{},void 0,(L,z)=>{if(L.trim()==="")throw e();const V=zu.get(A);if(V!==void 0){if(V.has(L))throw e();_p(z),vp(z.parameterDescriptors),V.set(L,z)}else _p(z),vp(z.parameterDescriptors),zu.set(A,new Map([[L,z]]))},A.sampleRate,void 0,void 0))}):Promise.all([o(b),Promise.resolve(t(g,g))]).then(([[M,L],z])=>{const V=N+1;N=V;const[J,G]=yp(M,L),pe=`${J};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${V}',class extends AudioWorkletProcessor{process(){return !1}})`,Se=new Blob([pe],{type:"application/javascript; charset=utf-8"}),he=URL.createObjectURL(Se);return A.audioWorklet.addModule(he,I).then(()=>{if(l(A))return A;const ge=a(A);return ge.audioWorklet.addModule(he,I).then(()=>ge)}).then(ge=>{if(c===null)throw new SyntaxError;try{new c(ge,`__sac${V}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(he))});return T===void 0?h.set(E,new Map([[b,R]])):T.set(b,R),R.then(()=>{const M=f.get(E);M===void 0?f.set(E,new Set([b])):M.add(b)}).finally(()=>{const M=h.get(E);M!==void 0&&M.delete(b)}),R}},Hn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},ql=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},dy=(t,e,n,r)=>{const o=Hn(t,e),i=ql(o,a=>a[0]===n&&a[1]===r);return o.size===0&&t.delete(e),i},Ws=t=>Hn(uy,t),ki=t=>{if(wi.has(t))throw new Error("The AudioNode is already stored.");wi.add(t),Ws(t).forEach(e=>e(!0))},fy=t=>"port"in t,qs=t=>{if(!wi.has(t))throw new Error("The AudioNode is not stored.");wi.delete(t),Ws(t).forEach(e=>e(!1))},Wu=(t,e)=>{!fy(t)&&e.every(n=>n.size===0)&&qs(t)},Ow=(t,e,n,r,o,i,a,l,c,h,f,g,_)=>{const N=new WeakMap;return(E,b,I,w,T)=>{const{activeInputs:A,passiveInputs:R}=i(b),{outputs:M}=i(E),L=l(E),z=V=>{const J=c(b),G=c(E);if(V){const Z=dy(R,E,I,w);t(A,E,Z,!1),!T&&!g(E)&&n(G,J,I,w),_(b)&&ki(b)}else{const Z=r(A,E,I,w);e(R,w,Z,!1),!T&&!g(E)&&o(G,J,I,w);const ee=a(b);if(ee===0)f(b)&&Wu(b,A);else{const fe=N.get(b);fe!==void 0&&clearTimeout(fe),N.set(b,setTimeout(()=>{f(b)&&Wu(b,A)},ee*1e3))}}};return h(M,[b,I,w],V=>V[0]===b&&V[1]===I&&V[2]===w,!0)?(L.add(z),f(E)?t(A,E,[I,w,z],!0):e(R,w,[E,I,z],!0),!0):!1}},Aw=t=>(e,n,[r,o,i],a)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[o,n,i]])):t(l,[o,n,i],c=>c[0]===o&&c[1]===n,a)},Iw=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Mw=t=>(e,n)=>{t(e).add(n)},Pw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Dw=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=o(l),f={...Pw,...c},g=r(h,f),_=i(h)?e():null;super(l,!1,g,_),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}},Ht=(t,e)=>t.context===e,Rw=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!Ht(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},gl=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},or=()=>new DOMException("","IndexSizeError"),Jh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?or():r}})(t.getChannelData)},jw={numberOfChannels:1},Fw=(t,e,n,r,o,i,a,l)=>{let c=null;return class py{constructor(f){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:_,sampleRate:N}={...jw,...f};c===null&&(c=new o(1,1,44100));const E=r!==null&&e(i,i)?new r({length:g,numberOfChannels:_,sampleRate:N}):c.createBuffer(_,g,N);if(E.numberOfChannels===0)throw n();return typeof E.copyFromChannel!="function"?(a(E),Jh(E)):e(gl,()=>gl(E))||l(E),t.add(E),E}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===py.prototype||t.has(f)}}},sn=-34028234663852886e22,Yt=-sn,gr=t=>wi.has(t),Lw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Kw=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,f){const g=i(h),_={...Lw,...f},N=o(g,_),E=a(g),b=E?e():null;super(h,!1,N,b),this._audioBufferSourceNodeRenderer=b,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=N,this._onended=null,this._playbackRate=n(this,E,N.playbackRate,Yt,sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const f=typeof h=="function"?l(this,h):null;this._nativeAudioBufferSourceNode.onended=f;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===f?h:g}get playbackRate(){return this._playbackRate}start(h=0,f=0,g){if(this._nativeAudioBufferSourceNode.start(h,f,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[h,f]:[h,f,g]),this.context.state!=="closed"){ki(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),gr(this)&&qs(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},Vw=(t,e,n,r,o)=>()=>{const i=new WeakMap;let a=null,l=null;const c=async(h,f)=>{let g=n(h);const _=Ht(g,f);if(!_){const N={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=e(f,N),a!==null&&g.start(...a),l!==null&&g.stop(l)}return i.set(f,g),_?await t(f,h.playbackRate,g.playbackRate):await r(f,h.playbackRate,g.playbackRate),await o(h,f,g),g};return{set start(h){a=h},set stop(h){l=h},render(h,f){const g=i.get(f);return g!==void 0?Promise.resolve(g):c(h,f)}}},Bw=t=>"playbackRate"in t,zw=t=>"frequency"in t&&"gain"in t,Uw=t=>"offset"in t,Ww=t=>!("frequency"in t)&&"gain"in t,qw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),$w=t=>"pan"in t,Xt=t=>Hn(ly,t),$s=t=>Hn(cy,t),qu=(t,e)=>{const{activeInputs:n}=Xt(t);n.forEach(o=>o.forEach(([i])=>{e.includes(t)||qu(i,[...e,t])}));const r=Bw(t)?[t.playbackRate]:fy(t)?Array.from(t.parameters.values()):zw(t)?[t.Q,t.detune,t.frequency,t.gain]:Uw(t)?[t.offset]:Ww(t)?[t.gain]:qw(t)?[t.detune,t.frequency]:$w(t)?[t.pan]:[];for(const o of r){const i=$s(o);i!==void 0&&i.activeInputs.forEach(([a])=>qu(a,e))}gr(t)&&qs(t)},my=t=>{qu(t.destination,[])},Hw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Gw=(t,e,n,r,o,i,a,l,c)=>class extends t{constructor(f={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new c(f)}catch(E){throw E.code===12&&E.message==="sampleRate is not in range"?n():E}if(g===null)throw r();if(!Hw(f.latencyHint))throw new TypeError(`The provided value '${f.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(f.sampleRate!==void 0&&g.sampleRate!==f.sampleRate)throw n();super(g,2);const{latencyHint:_}=f,{sampleRate:N}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:_==="balanced"?512/N:_==="interactive"||_===void 0?256/N:_==="playback"?1024/N:Math.max(2,Math.min(128,Math.round(_*N/128)))*128/N,this._nativeAudioContext=g,c.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const E=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",E)};g.addEventListener("statechange",E)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),my(this)}))}createMediaElementSource(f){return new o(this,{mediaElement:f})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(f){return new a(this,{mediaStream:f})}createMediaStreamTrackSource(f){return new l(this,{mediaStreamTrack:f})}resume(){return this._state==="suspended"?new Promise((f,g)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?f():this.resume().then(f,g)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(f=>{throw f===void 0||f.code===15?e():f})}suspend(){return this._nativeAudioContext.suspend().catch(f=>{throw f===void 0?e():f})}},Qw=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,f){const g=i(h),_=a(g),N=o(g,f,_),E=_?e(l):null;super(h,!1,N,E),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=N}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Yw=t=>{const e=new WeakMap,n=async(r,o)=>{const i=o.destination;return e.set(o,i),await t(r,o,i),i};return{render(r,o){const i=e.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},Xw=(t,e,n,r,o,i,a,l)=>(c,h)=>{const f=h.listener,g=()=>{const M=new Float32Array(1),L=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=a(h);let V=!1,J=[0,0,-1,0,1,0],G=[0,0,0];const Z=()=>{if(V)return;V=!0;const Se=r(h,256,9,0);Se.onaudioprocess=({inputBuffer:he})=>{const ge=[i(he,M,0),i(he,M,1),i(he,M,2),i(he,M,3),i(he,M,4),i(he,M,5)];ge.some((re,j)=>re!==J[j])&&(f.setOrientation(...ge),J=ge);const Q=[i(he,M,6),i(he,M,7),i(he,M,8)];Q.some((re,j)=>re!==G[j])&&(f.setPosition(...Q),G=Q)},L.connect(Se)},ee=Se=>he=>{he!==J[Se]&&(J[Se]=he,f.setOrientation(...J))},fe=Se=>he=>{he!==G[Se]&&(G[Se]=he,f.setPosition(...G))},pe=(Se,he,ge)=>{const Q=n(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he});Q.connect(L,0,Se),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return he}});const re=t({context:c},z,Q.offset,Yt,sn);return l(re,"value",j=>()=>j.call(re),j=>O=>{try{j.call(re,O)}catch(W){if(W.code!==9)throw W}Z(),z&&ge(O)}),re.cancelAndHoldAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.cancelAndHoldAtTime),re.cancelScheduledValues=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.cancelScheduledValues),re.exponentialRampToValueAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.exponentialRampToValueAtTime),re.linearRampToValueAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.linearRampToValueAtTime),re.setTargetAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.setTargetAtTime),re.setValueAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.setValueAtTime),re.setValueCurveAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return Z(),W})(re.setValueCurveAtTime),re};return{forwardX:pe(0,0,ee(0)),forwardY:pe(1,0,ee(1)),forwardZ:pe(2,-1,ee(2)),positionX:pe(6,0,fe(0)),positionY:pe(7,0,fe(1)),positionZ:pe(8,0,fe(2)),upX:pe(3,0,ee(3)),upY:pe(4,1,ee(4)),upZ:pe(5,0,ee(5))}},{forwardX:_,forwardY:N,forwardZ:E,positionX:b,positionY:I,positionZ:w,upX:T,upY:A,upZ:R}=f.forwardX===void 0?g():f;return{get forwardX(){return _},get forwardY(){return N},get forwardZ(){return E},get positionX(){return b},get positionY(){return I},get positionZ(){return w},get upX(){return T},get upY(){return A},get upZ(){return R}}},yl=t=>"context"in t,Hs=t=>yl(t[0]),Mo=(t,e,n,r)=>{for(const o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},wp=(t,e,[n,r],o)=>{Mo(t,[e,n,r],i=>i[0]===e&&i[1]===n,o)},kp=(t,[e,n,r],o)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Mo(i,[n,r],a=>a[0]===n,o)},Pi=t=>"inputs"in t,vl=(t,e,n,r)=>{if(Pi(e)){const o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]},gy=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Zw=(t,e,n)=>ql(t,r=>r[0]===e&&r[1]===n),yy=(t,e)=>{if(!Ws(t).delete(e))throw new Error("Missing the expected event listener.")},vy=(t,e,n)=>{const r=Hn(t,e),o=ql(r,i=>i[0]===n);return r.size===0&&t.delete(e),o},_l=(t,e,n,r)=>{Pi(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},it=t=>Hn(Xh,t),Rs=t=>Hn(Zh,t),bo=t=>Bu.has(t),Ka=t=>!wi.has(t),Sp=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),o=t.createGain(),i=t.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const l=t.createBufferSource();l.buffer=i,l.loop=!0,l.connect(r).connect(t.destination),l.connect(o),l.disconnect(o),r.onaudioprocess=c=>{const h=c.inputBuffer.getChannelData(0);Array.prototype.some.call(h,f=>f===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),Lc=(t,e)=>{const n=new Map;for(const r of t)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>e(o,r))},wl=t=>"context"in t,Jw=t=>{const e=new Map;t.connect=(n=>(r,o=0,i=0)=>{const a=wl(r)?n(r,o,i):n(r,o),l=e.get(r);return l===void 0?e.set(r,[{input:i,output:o}]):l.every(c=>c.input!==i||c.output!==o)&&l.push({input:i,output:o}),a})(t.connect.bind(t)),t.disconnect=(n=>(r,o,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[a,l]of e){const c=l.filter(h=>h.output!==r);c.length===0?e.delete(a):e.set(a,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{const a=e.get(r);if(a!==void 0){const l=a.filter(c=>c.output!==o&&(c.input!==i||i===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[a,l]of e)l.forEach(c=>{wl(a)?t.connect(a,c.output,c.input):t.connect(a,c.output)})})(t.disconnect)},ek=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:i}=$s(e),{outputs:a}=Xt(t),l=Ws(t),c=h=>{const f=it(t),g=Rs(e);if(h){const _=vy(i,t,n);wp(o,t,_,!1),!r&&!bo(t)&&f.connect(g,n)}else{const _=Zw(o,t,n);kp(i,_,!1),!r&&!bo(t)&&f.disconnect(g,n)}};return Mo(a,[e,n],h=>h[0]===e&&h[1]===n,!0)?(l.add(c),gr(t)?wp(o,t,[n,c],!0):kp(i,[t,n,c],!0),!0):!1},tk=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:i}=Xt(e),a=gy(o[r],t,n);return a===null?[dy(i,t,n,r)[2],!1]:[a[2],!0]},nk=(t,e,n)=>{const{activeInputs:r,passiveInputs:o}=$s(e),i=gy(r,t,n);return i===null?[vy(o,t,n)[1],!1]:[i[2],!0]},ed=(t,e,n,r,o)=>{const[i,a]=tk(t,n,r,o);if(i!==null&&(yy(t,i),a&&!e&&!bo(t)&&_l(it(t),it(n),r,o)),gr(n)){const{activeInputs:l}=Xt(n);Wu(n,l)}},td=(t,e,n,r)=>{const[o,i]=nk(t,n,r);o!==null&&(yy(t,o),i&&!e&&!bo(t)&&it(t).disconnect(Rs(n),r))},rk=(t,e)=>{const n=Xt(t),r=[];for(const o of n.outputs)Hs(o)?ed(t,e,...o):td(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},ok=(t,e,n)=>{const r=Xt(t),o=[];for(const i of r.outputs)i[1]===n&&(Hs(i)?ed(t,e,...i):td(t,e,...i),o.push(i[0]),r.outputs.delete(i));return o},ik=(t,e,n,r,o)=>{const i=Xt(t);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(Hs(a)?ed(t,e,...a):td(t,e,...a),i.outputs.delete(a),a[0]))},sk=(t,e,n,r,o,i,a,l,c,h,f,g,_,N,E,b)=>class extends h{constructor(w,T,A,R){super(A),this._context=w,this._nativeAudioNode=A;const M=f(w);g(M)&&n(Sp,()=>Sp(M,b))!==!0&&Jw(A),Xh.set(this,A),uy.set(this,new Set),w.state!=="closed"&&T&&ki(this),t(this,R,A)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,T=0,A=0){if(T<0||T>=this._nativeAudioNode.numberOfOutputs)throw o();const R=f(this._context),M=E(R);if(_(w)||N(w))throw i();if(yl(w)){const V=it(w);try{const G=vl(this._nativeAudioNode,V,T,A),Z=Ka(this);(M||Z)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!Z&&Ka(w)&&ki(w)}catch(G){throw G.code===12?i():G}if(e(this,w,T,A,M)){const G=c([this],w);Lc(G,r(M))}return w}const L=Rs(w);if(L.name==="playbackRate"&&L.maxValue===1024)throw a();try{this._nativeAudioNode.connect(L,T),(M||Ka(this))&&this._nativeAudioNode.disconnect(L,T)}catch(V){throw V.code===12?i():V}if(ek(this,w,T,M)){const V=c([this],w);Lc(V,r(M))}}disconnect(w,T,A){let R;const M=f(this._context),L=E(M);if(w===void 0)R=rk(this,L);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw o();R=ok(this,L,w)}else{if(T!==void 0&&(T<0||T>=this.numberOfOutputs)||yl(w)&&A!==void 0&&(A<0||A>=w.numberOfInputs))throw o();if(R=ik(this,L,w,T,A),R.length===0)throw i()}for(const z of R){const V=c([this],z);Lc(V,l)}}},ak=(t,e,n,r,o,i,a,l,c,h,f,g,_)=>(N,E,b,I=null,w=null)=>{const T=b.value,A=new yw(T),R=E?r(A):null,M={get defaultValue(){return T},get maxValue(){return I===null?b.maxValue:I},get minValue(){return w===null?b.minValue:w},get value(){return b.value},set value(L){b.value=L,M.setValueAtTime(L,N.context.currentTime)},cancelAndHoldAtTime(L){if(typeof b.cancelAndHoldAtTime=="function")R===null&&A.flush(N.context.currentTime),A.add(o(L)),b.cancelAndHoldAtTime(L);else{const z=Array.from(A).pop();R===null&&A.flush(N.context.currentTime),A.add(o(L));const V=Array.from(A).pop();b.cancelScheduledValues(L),z!==V&&V!==void 0&&(V.type==="exponentialRampToValue"?b.exponentialRampToValueAtTime(V.value,V.endTime):V.type==="linearRampToValue"?b.linearRampToValueAtTime(V.value,V.endTime):V.type==="setValue"?b.setValueAtTime(V.value,V.startTime):V.type==="setValueCurve"&&b.setValueCurveAtTime(V.values,V.startTime,V.duration))}return M},cancelScheduledValues(L){return R===null&&A.flush(N.context.currentTime),A.add(i(L)),b.cancelScheduledValues(L),M},exponentialRampToValueAtTime(L,z){if(L===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const V=N.context.currentTime;return R===null&&A.flush(V),Array.from(A).length===0&&(A.add(h(T,V)),b.setValueAtTime(T,V)),A.add(a(L,z)),b.exponentialRampToValueAtTime(L,z),M},linearRampToValueAtTime(L,z){const V=N.context.currentTime;return R===null&&A.flush(V),Array.from(A).length===0&&(A.add(h(T,V)),b.setValueAtTime(T,V)),A.add(l(L,z)),b.linearRampToValueAtTime(L,z),M},setTargetAtTime(L,z,V){return R===null&&A.flush(N.context.currentTime),A.add(c(L,z,V)),b.setTargetAtTime(L,z,V),M},setValueAtTime(L,z){return R===null&&A.flush(N.context.currentTime),A.add(h(L,z)),b.setValueAtTime(L,z),M},setValueCurveAtTime(L,z,V){const J=L instanceof Float32Array?L:new Float32Array(L);if(g!==null&&g.name==="webkitAudioContext"){const G=z+V,Z=N.context.sampleRate,ee=Math.ceil(z*Z),fe=Math.floor(G*Z),pe=fe-ee,Se=new Float32Array(pe);for(let ge=0;ge<pe;ge+=1){const Q=(J.length-1)/V*((ee+ge)/Z-z),re=Math.floor(Q),j=Math.ceil(Q);Se[ge]=re===j?J[re]:(1-(Q-re))*J[re]+(1-(j-Q))*J[j]}R===null&&A.flush(N.context.currentTime),A.add(f(Se,z,V)),b.setValueCurveAtTime(Se,z,V);const he=fe/Z;he<G&&_(M,Se[Se.length-1],he),_(M,J[J.length-1],G)}else R===null&&A.flush(N.context.currentTime),A.add(f(J,z,V)),b.setValueCurveAtTime(J,z,V);return M}};return n.set(M,b),e.set(M,N),t(M,R),M},lk=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;e.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});class _y{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const ck={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},uk=(t,e,n,r,o,i,a,l,c,h,f,g,_,N)=>class extends e{constructor(b,I,w){var T;const A=l(b),R=c(A),M=f({...ck,...w});_(M);const L=zu.get(A),z=L==null?void 0:L.get(I),V=R||A.state!=="closed"?A:(T=a(A))!==null&&T!==void 0?T:A,J=o(V,R?null:b.baseLatency,h,I,z,M),G=R?r(I,M,z):null;super(b,!0,J,G);const Z=[];J.parameters.forEach((fe,pe)=>{const Se=n(this,R,fe);Z.push([pe,Se])}),this._nativeAudioWorkletNode=J,this._onprocessorerror=null,this._parameters=new _y(Z),R&&t(A,this);const{activeInputs:ee}=i(this);g(J,ee)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(b){const I=typeof b=="function"?N(this,b):null;this._nativeAudioWorkletNode.onprocessorerror=I;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===I?b:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function kl(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(o,o+128);else{const a=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const wy=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)},Sl=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const o=[],i=typeof e=="number"?e:e[r];for(let a=0;a<i;a+=1)o.push(new Float32Array(128));n.push(o)}return n},hk=(t,e)=>{const n=Hn(Uu,t),r=it(e);return Hn(n,r)},dk=async(t,e,n,r,o,i,a)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,h=o.reduce((I,w)=>I+w,0),f=h===0?null:n.createBuffer(h,l,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const g=Xt(t),_=await hk(n,t),N=Sl(r.numberOfInputs,r.channelCount),E=Sl(r.numberOfOutputs,o),b=Array.from(t.parameters.keys()).reduce((I,w)=>({...I,[w]:new Float32Array(128)}),{});for(let I=0;I<l;I+=128){if(r.numberOfInputs>0&&e!==null)for(let w=0;w<r.numberOfInputs;w+=1)for(let T=0;T<r.channelCount;T+=1)kl(e,N[w],T,T,I);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:w},T)=>{kl(e,b,w,c+T,I)});for(let w=0;w<r.numberOfInputs;w+=1)for(let T=0;T<o[w];T+=1)E[w][T].byteLength===0&&(E[w][T]=new Float32Array(128));try{const w=N.map((A,R)=>g.activeInputs[R].size===0?[]:A),T=a(I/n.sampleRate,n.sampleRate,()=>_.process(w,E,b));if(f!==null)for(let A=0,R=0;A<r.numberOfOutputs;A+=1){for(let M=0;M<o[A];M+=1)wy(f,E[A],M,R+M,I);R+=o[A]}if(!T)break}catch(w){t.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return f},fk=(t,e,n,r,o,i,a,l,c,h,f,g,_,N,E,b)=>(I,w,T)=>{const A=new WeakMap;let R=null;const M=async(L,z)=>{let V=f(L),J=null;const G=Ht(V,z),Z=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(g===null){const ee=Z.reduce((he,ge)=>he+ge,0),fe=o(z,{channelCount:Math.max(1,ee),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,ee)}),pe=[];for(let he=0;he<L.numberOfOutputs;he+=1)pe.push(r(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Z[he]}));const Se=a(z,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});Se.connect=e.bind(null,pe),Se.disconnect=c.bind(null,pe),J=[fe,pe,Se]}else G||(V=new g(z,I));if(A.set(z,J===null?V:J[2]),J!==null){if(R===null){if(T===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ge=L.channelCount*L.numberOfInputs,Q=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length,re=ge+Q;R=dk(L,re===0?null:await(async()=>{const O=new _(re,Math.ceil(L.context.length/128)*128,z.sampleRate),W=[],te=[];for(let y=0;y<w.numberOfInputs;y+=1)W.push(a(O,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),te.push(o(O,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const ce=await Promise.all(Array.from(L.parameters.values()).map(async y=>{const v=i(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.value});return await N(O,y,v.offset),v})),ie=r(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ge+Q)});for(let y=0;y<w.numberOfInputs;y+=1){W[y].connect(te[y]);for(let v=0;v<w.channelCount;v+=1)te[y].connect(ie,v,y*w.channelCount+v)}for(const[y,v]of ce.entries())v.connect(ie,0,ge+y),v.start(0);return ie.connect(O.destination),await Promise.all(W.map(y=>E(L,O,y))),b(O)})(),z,w,Z,T,h)}const ee=await R,fe=n(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[pe,Se,he]=J;ee!==null&&(fe.buffer=ee,fe.start(0)),fe.connect(pe);for(let ge=0,Q=0;ge<L.numberOfOutputs;ge+=1){const re=Se[ge];for(let j=0;j<Z[ge];j+=1)pe.connect(re,Q+j,j);Q+=Z[ge]}return he}if(G)for(const[ee,fe]of L.parameters.entries())await t(z,fe,V.parameters.get(ee));else for(const[ee,fe]of L.parameters.entries())await N(z,fe,V.parameters.get(ee));return await E(L,z,V),V};return{render(L,z){l(z,L);const V=A.get(z);return V!==void 0?Promise.resolve(V):M(L,z)}}},pk=(t,e,n,r,o,i,a,l,c,h,f,g,_,N,E,b,I,w,T,A)=>class extends E{constructor(M,L){super(M,L),this._nativeContext=M,this._audioWorklet=t===void 0?void 0:{addModule:(z,V)=>t(this,z,V)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(M,L,z){return new n({length:L,numberOfChannels:M,sampleRate:z})}createBufferSource(){return new r(this)}createChannelMerger(M=6){return new i(this,{numberOfInputs:M})}createChannelSplitter(M=6){return new a(this,{numberOfOutputs:M})}createConstantSource(){return new l(this)}createConvolver(){return new c(this)}createDelay(M=1){return new f(this,{maxDelayTime:M})}createDynamicsCompressor(){return new g(this)}createGain(){return new _(this)}createIIRFilter(M,L){return new N(this,{feedback:L,feedforward:M})}createOscillator(){return new b(this)}createPanner(){return new I(this)}createPeriodicWave(M,L,z={disableNormalization:!1}){return new w(this,{...z,imag:L,real:M})}createStereoPanner(){return new T(this)}createWaveShaper(){return new A(this)}decodeAudioData(M,L,z){return h(this._nativeContext,M).then(V=>(typeof L=="function"&&L(V),V),V=>{throw typeof z=="function"&&z(V),V})}},mk={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},gk=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,f){const g=i(h),_={...mk,...f},N=o(g,_),E=a(g),b=E?n():null;super(h,!1,N,b),this._Q=e(this,E,N.Q,Yt,sn),this._detune=e(this,E,N.detune,1200*Math.log2(Yt),-1200*Math.log2(Yt)),this._frequency=e(this,E,N.frequency,h.sampleRate/2,0),this._gain=e(this,E,N.gain,40*Math.log10(Yt),sn),this._nativeBiquadFilterNode=N,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,f,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,f,g)}catch(_){throw _.code===11?r():_}if(h.length!==f.length||f.length!==g.length)throw r()}},yk=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Ht(h,c);if(!f){const g={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(c,g)}return i.set(c,h),f?(await t(c,l.Q,h.Q),await t(c,l.detune,h.detune),await t(c,l.frequency,h.frequency),await t(c,l.gain,h.gain)):(await r(c,l.Q,h.Q),await r(c,l.detune,h.detune),await r(c,l.frequency,h.frequency),await r(c,l.gain,h.gain)),await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},vk=(t,e)=>(n,r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},_k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},wk=(t,e,n,r,o)=>class extends t{constructor(a,l){const c=r(a),h={..._k,...l},f=n(c,h),g=o(c)?e():null;super(a,!1,f,g)}},kk=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!Ht(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},Sk={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},xk=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=r(l),f=i({...Sk,...c}),g=n(h,f),_=o(h)?e():null;super(l,!1,g,_)}},Ck=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!Ht(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},Tk=t=>(e,n,r)=>t(n,e,r),Ek=t=>(e,n,r=0,o=0)=>{const i=e[r];if(i===void 0)throw t();return wl(n)?i.connect(n,0,o):i.connect(n,0)},bk=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},Nk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ok=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const f=o(c),g={...Nk,...h},_=r(f,g),N=i(f),E=N?n():null;super(c,!1,_,E),this._constantSourceNodeRenderer=E,this._nativeConstantSourceNode=_,this._offset=e(this,N,_.offset,Yt,sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeConstantSourceNode.onended=h;const f=this._nativeConstantSourceNode.onended;this._onended=f!==null&&f===h?c:f}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){ki(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),gr(this)&&qs(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},Ak=(t,e,n,r,o)=>()=>{const i=new WeakMap;let a=null,l=null;const c=async(h,f)=>{let g=n(h);const _=Ht(g,f);if(!_){const N={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=e(f,N),a!==null&&g.start(a),l!==null&&g.stop(l)}return i.set(f,g),_?await t(f,h.offset,g.offset):await r(f,h.offset,g.offset),await o(h,f,g),g};return{set start(h){a=h},set stop(h){l=h},render(h,f){const g=i.get(f);return g!==void 0?Promise.resolve(g):c(h,f)}}},Ik=t=>e=>(t[0]=e,t[0]),Mk={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Pk=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=r(l),f={...Mk,...c},g=n(h,f),N=o(h)?e():null;super(l,!1,g,N),this._isBufferNullified=!1,this._nativeConvolverNode=g,f.buffer!==null&&i(this,f.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}},Dk=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!Ht(l,a)){const h={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=t(a,h)}return r.set(a,l),Pi(l)?await n(i,a,l.inputs[0]):await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},Rk=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(i){throw i.name==="SyntaxError"?t():i}},jk=()=>new DOMException("","DataCloneError"),xp=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})},Fk=(t,e,n,r,o,i,a,l,c,h,f)=>(g,_)=>{const N=a(g)?g:i(g);if(o.has(_)){const E=n();return Promise.reject(E)}try{o.add(_)}catch{}return e(c,()=>c(N))?N.decodeAudioData(_).then(E=>(xp(_).catch(()=>{}),e(l,()=>l(E))||f(E),t.add(E),E)):new Promise((E,b)=>{const I=async()=>{try{await xp(_)}catch{}},w=T=>{b(T),I()};try{N.decodeAudioData(_,T=>{typeof T.copyFromChannel!="function"&&(h(T),Jh(T)),t.add(T),I().then(()=>E(T))},T=>{w(T===null?r():T)})}catch(T){w(T)}})},Lk=(t,e,n,r,o,i,a,l)=>(c,h)=>{const f=e.get(c);if(f===void 0)throw new Error("Missing the expected cycle count.");const g=i(c.context),_=l(g);if(f===h){if(e.delete(c),!_&&a(c)){const N=r(c),{outputs:E}=n(c);for(const b of E)if(Hs(b)){const I=r(b[0]);t(N,I,b[1],b[2])}else{const I=o(b[0]);N.connect(I,b[1])}}}else e.set(c,f-h)},Kk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Vk=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const f=o(c),g={...Kk,...h},_=r(f,g),N=i(f),E=N?n(g.maxDelayTime):null;super(c,!1,_,E),this._delayTime=e(this,N,_.delayTime),a(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},Bk=(t,e,n,r,o)=>i=>{const a=new WeakMap,l=async(c,h)=>{let f=n(c);const g=Ht(f,h);if(!g){const _={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,delayTime:f.delayTime.value,maxDelayTime:i};f=e(h,_)}return a.set(h,f),g?await t(h,c.delayTime,f.delayTime):await r(h,c.delayTime,f.delayTime),await o(c,h,f),f};return{render(c,h){const f=a.get(h);return f!==void 0?Promise.resolve(f):l(c,h)}}},zk=t=>(e,n,r,o)=>t(e[o],i=>i[0]===n&&i[1]===r),Uk=t=>(e,n)=>{t(e).delete(n)},Wk=t=>"delayTime"in t,qk=(t,e,n)=>function r(o,i){const a=yl(i)?i:n(t,i);if(Wk(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:l}=e(a);return Array.from(l).map(c=>r([...o,a],c[0])).reduce((c,h)=>c.concat(h),[])},Sa=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},$k=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Sa(t,e,n).disconnect():wl(n)?r===void 0?e.forEach(i=>i.disconnect(n)):o===void 0?Sa(t,e,r).disconnect(n,0):Sa(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(i=>i.disconnect(n)):Sa(t,e,r).disconnect(n,0),Hk={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Gk=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,f){const g=i(h),_={...Hk,...f},N=r(g,_),E=a(g),b=E?n():null;super(h,!1,N,b),this._attack=e(this,E,N.attack),this._knee=e(this,E,N.knee),this._nativeDynamicsCompressorNode=N,this._ratio=e(this,E,N.ratio),this._release=e(this,E,N.release),this._threshold=e(this,E,N.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const f=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=f,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const f=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=f,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Qk=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Ht(h,c);if(!f){const g={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(c,g)}return i.set(c,h),f?(await t(c,l.attack,h.attack),await t(c,l.knee,h.knee),await t(c,l.ratio,h.ratio),await t(c,l.release,h.release),await t(c,l.threshold,h.threshold)):(await r(c,l.attack,h.attack),await r(c,l.knee,h.knee),await r(c,l.ratio,h.ratio),await r(c,l.release,h.release),await r(c,l.threshold,h.threshold)),await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},Yk=()=>new DOMException("","EncodingError"),Xk=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const o=t.document.head;if(o===null)r(new SyntaxError);else{const i=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(a),c=t.onerror,h=()=>{t.onerror=c,URL.revokeObjectURL(l)};t.onerror=(f,g,_,N,E)=>{if(g===l||g===t.location.href&&_===1&&N===1)return h(),r(E),!1;if(c!==null)return c(f,g,_,N,E)},i.onerror=()=>{h(),r(new SyntaxError)},i.onload=()=>{h(),n()},i.src=l,i.type="module",o.appendChild(i)}}),Zk=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}},Jk=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},eS=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},tS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},nS=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=o(l),f={...tS,...c},g=r(h,f),_=i(h),N=_?n():null;super(l,!1,g,N),this._gain=e(this,_,g.gain,Yt,sn)}get gain(){return this._gain}},rS=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Ht(h,c);if(!f){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(c,g)}return i.set(c,h),f?await t(c,l.gain,h.gain):await r(c,l.gain,h.gain),await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},oS=(t,e)=>n=>e(t,n),iS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},sS=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},aS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},lS=t=>e=>t.get(e),Mt=()=>new DOMException("","InvalidStateError"),cS=t=>e=>{const n=t.get(e);if(n===void 0)throw Mt();return n},uS=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},hS=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},$l=()=>new DOMException("","InvalidAccessError"),dS=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw $l();return e.call(t,n,r,o)})(t.getFrequencyResponse)},fS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},pS=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=r(l),f=o(h),g={...fS,...c},_=e(h,f?null:l.baseLatency,g),N=f?n(g.feedback,g.feedforward):null;super(l,!1,_,N),dS(_),this._nativeIIRFilterNode=_,i(this,1)}getFrequencyResponse(l,c,h){return this._nativeIIRFilterNode.getFrequencyResponse(l,c,h)}},ky=(t,e,n,r,o,i,a,l,c,h,f)=>{const g=h.length;let _=l;for(let N=0;N<g;N+=1){let E=n[0]*h[N];for(let b=1;b<o;b+=1){const I=_-b&c-1;E+=n[b]*i[I],E-=t[b]*a[I]}for(let b=o;b<r;b+=1)E+=n[b]*i[_-b&c-1];for(let b=o;b<e;b+=1)E-=t[b]*a[_-b&c-1];i[_]=h[N],a[_]=E,_=_+1&c-1,f[N]=E}return _},mS=(t,e,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),a=o.length,l=i.length,c=Math.min(a,l);if(o[0]!==1){for(let E=0;E<a;E+=1)i[E]/=o[0];for(let E=1;E<l;E+=1)o[E]/=o[0]}const h=32,f=new Float32Array(h),g=new Float32Array(h),_=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),N=t.numberOfChannels;for(let E=0;E<N;E+=1){const b=t.getChannelData(E),I=_.getChannelData(E);f.fill(0),g.fill(0),ky(o,a,i,l,c,f,g,0,h,b,I)}return _},gS=(t,e,n,r,o)=>(i,a)=>{const l=new WeakMap;let c=null;const h=async(f,g)=>{let _=null,N=e(f);const E=Ht(N,g);if(g.createIIRFilter===void 0?_=t(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):E||(N=g.createIIRFilter(a,i)),l.set(g,_===null?N:_),_!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new n(f.context.destination.channelCount,f.context.length,g.sampleRate);c=(async()=>{await r(f,I,I.destination);const w=await o(I);return mS(w,g,i,a)})()}const b=await c;return _.buffer=b,_.start(0),_}return await r(f,g,N),N};return{render(f,g){const _=l.get(g);return _!==void 0?Promise.resolve(_):h(f,g)}}},yS=(t,e,n,r,o,i)=>a=>(l,c)=>{const h=t.get(l);if(h===void 0){if(!a&&i(l)){const f=r(l),{outputs:g}=n(l);for(const _ of g)if(Hs(_)){const N=r(_[0]);e(f,N,_[1],_[2])}else{const N=o(_[0]);f.disconnect(N,_[1])}}t.set(l,c)}else t.set(l,h+c)},vS=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},_S=(t,e)=>n=>t.has(n)||e(n),wS=(t,e)=>n=>t.has(n)||e(n),kS=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},SS=t=>e=>t!==null&&e instanceof t,xS=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,CS=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,TS=(t,e)=>n=>t(n)||e(n),ES=t=>e=>t!==null&&e instanceof t,bS=t=>t!==null&&t.isSecureContext,NS=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i),c=e(l,a);if(r(l))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},OS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},AS=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i);if(r(l))throw new TypeError;const c={...OS,...a},h=e(l,c);super(i,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},IS=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i),c=e(l,a);if(r(l))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},MS=(t,e,n)=>class extends t{constructor(o,i){const a=n(o),l=e(a,i);super(o,!0,l,null)}},PS=(t,e,n,r,o,i)=>class extends n{constructor(l,c){super(l),this._nativeContext=l,Wl.set(this,l),r(l)&&o.set(l,new Set),this._destination=new t(this,c),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const c=typeof l=="function"?i(this,l):null;this._nativeContext.onstatechange=c;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===c?l:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},js=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},DS=(t,e)=>(n,r,o)=>{const i=new Set;return n.connect=(a=>(l,c=0,h=0)=>{const f=i.size===0;if(e(l))return a.call(n,l,c,h),t(i,[l,c,h],g=>g[0]===l&&g[1]===c&&g[2]===h,!0),f&&r(),l;a.call(n,l,c),t(i,[l,c],g=>g[0]===l&&g[1]===c,!0),f&&r()})(n.connect),n.disconnect=(a=>(l,c,h)=>{const f=i.size>0;if(l===void 0)a.apply(n),i.clear();else if(typeof l=="number"){a.call(n,l);for(const _ of i)_[1]===l&&i.delete(_)}else{e(l)?a.call(n,l,c,h):a.call(n,l,c);for(const _ of i)_[0]===l&&(c===void 0||_[1]===c)&&(h===void 0||_[2]===h)&&i.delete(_)}const g=i.size===0;f&&g&&o()})(n.disconnect),n},at=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Nt=(t,e)=>{at(t,e,"channelCount"),at(t,e,"channelCountMode"),at(t,e,"channelInterpretation")},Cp=t=>typeof t.getFloatTimeDomainData=="function",RS=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}},jS=(t,e)=>(n,r)=>{const o=n.createAnalyser();if(Nt(o,r),!(r.maxDecibels>r.minDecibels))throw e();return at(o,r,"fftSize"),at(o,r,"maxDecibels"),at(o,r,"minDecibels"),at(o,r,"smoothingTimeConstant"),t(Cp,()=>Cp(o))||RS(o),o},FS=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,mt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},LS=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Mt();e.call(t,r,o,i),n=!0}})(t.start)},nd=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)},rd=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},KS=(t,e,n,r,o,i,a,l,c,h,f)=>(g,_)=>{const N=g.createBufferSource();return Nt(N,_),mt(N,_,"playbackRate"),at(N,_,"buffer"),at(N,_,"loop"),at(N,_,"loopEnd"),at(N,_,"loopStart"),e(n,()=>n(g))||LS(N),e(r,()=>r(g))||c(N),e(o,()=>o(g))||h(N,g),e(i,()=>i(g))||nd(N),e(a,()=>a(g))||f(N,g),e(l,()=>l(g))||rd(N),t(g,N),N},VS=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,BS=(t,e)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(a,"channelCount",l=>()=>l.call(a),l=>c=>{l.call(a,c);try{i.channelCount=c}catch(h){if(c>i.maxChannelCount)throw h}}),e(a,"channelCountMode",l=>()=>l.call(a),l=>c=>{l.call(a,c),i.channelCountMode=c}),e(a,"channelInterpretation",l=>()=>l.call(a),l=>c=>{l.call(a,c),i.channelInterpretation=c}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},zS=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,US=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},WS=(t,e,n,r,o)=>(i,a,l,c,h,f)=>{if(l!==null)try{const g=new l(i,c,f),_=new Map;let N=null;if(Object.defineProperties(g,{channelCount:{get:()=>f.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>N,set:E=>{typeof N=="function"&&g.removeEventListener("processorerror",N),N=typeof E=="function"?E:null,typeof N=="function"&&g.addEventListener("processorerror",N)}}}),g.addEventListener=(E=>(...b)=>{if(b[0]==="processorerror"){const I=typeof b[1]=="function"?b[1]:typeof b[1]=="object"&&b[1]!==null&&typeof b[1].handleEvent=="function"?b[1].handleEvent:null;if(I!==null){const w=_.get(b[1]);w!==void 0?b[1]=w:(b[1]=T=>{T.type==="error"?(Object.defineProperties(T,{type:{value:"processorerror"}}),I(T)):I(new ErrorEvent(b[0],{...T}))},_.set(I,b[1]))}}return E.call(g,"error",b[1],b[2]),E.call(g,...b)})(g.addEventListener),g.removeEventListener=(E=>(...b)=>{if(b[0]==="processorerror"){const I=_.get(b[1]);I!==void 0&&(_.delete(b[1]),b[1]=I)}return E.call(g,"error",b[1],b[2]),E.call(g,b[0],b[1],b[2])})(g.removeEventListener),f.numberOfOutputs!==0){const E=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(E).connect(i.destination),o(g,()=>E.disconnect(),()=>E.connect(i.destination))}return g}catch(g){throw g.code===11?r():g}if(h===void 0)throw r();return US(f),e(i,a,h,f)},Sy=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),qS=t=>new Promise((e,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(t)}),$S=async(t,e)=>{const n=await qS(e);return new t(n)},HS=(t,e,n,r)=>{let o=Uu.get(t);o===void 0&&(o=new WeakMap,Uu.set(t,o));const i=$S(n,r);return o.set(e,i),i},GS=(t,e,n,r,o,i,a,l,c,h,f,g,_)=>(N,E,b,I)=>{if(I.numberOfInputs===0&&I.numberOfOutputs===0)throw c();const w=Array.isArray(I.outputChannelCount)?I.outputChannelCount:Array.from(I.outputChannelCount);if(w.some(k=>k<1))throw c();if(w.length!==I.numberOfOutputs)throw e();if(I.channelCountMode!=="explicit")throw c();const T=I.channelCount*I.numberOfInputs,A=w.reduce((k,x)=>k+x,0),R=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length;if(T+R>6||A>6)throw c();const M=new MessageChannel,L=[],z=[];for(let k=0;k<I.numberOfInputs;k+=1)L.push(a(N,{channelCount:I.channelCount,channelCountMode:I.channelCountMode,channelInterpretation:I.channelInterpretation,gain:1})),z.push(o(N,{channelCount:I.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:I.channelCount}));const V=[];if(b.parameterDescriptors!==void 0)for(const{defaultValue:k,maxValue:x,minValue:D,name:K}of b.parameterDescriptors){const P=i(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I.parameterData[K]!==void 0?I.parameterData[K]:k===void 0?0:k});Object.defineProperties(P.offset,{defaultValue:{get:()=>k===void 0?0:k},maxValue:{get:()=>x===void 0?Yt:x},minValue:{get:()=>D===void 0?sn:D}}),V.push(P)}const J=r(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+R)}),G=Sy(E,N.sampleRate),Z=l(N,G,T+R,Math.max(1,A)),ee=o(N,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),fe=[];for(let k=0;k<I.numberOfOutputs;k+=1)fe.push(r(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[k]}));for(let k=0;k<I.numberOfInputs;k+=1){L[k].connect(z[k]);for(let x=0;x<I.channelCount;x+=1)z[k].connect(J,x,k*I.channelCount+x)}const pe=new _y(b.parameterDescriptors===void 0?[]:b.parameterDescriptors.map(({name:k},x)=>{const D=V[x];return D.connect(J,0,T+x),D.start(0),[k,D.offset]}));J.connect(Z);let Se=I.channelInterpretation,he=null;const ge=I.numberOfOutputs===0?[Z]:fe,Q={get bufferSize(){return G},get channelCount(){return I.channelCount},set channelCount(k){throw n()},get channelCountMode(){return I.channelCountMode},set channelCountMode(k){throw n()},get channelInterpretation(){return Se},set channelInterpretation(k){for(const x of L)x.channelInterpretation=k;Se=k},get context(){return Z.context},get inputs(){return L},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get onprocessorerror(){return he},set onprocessorerror(k){typeof he=="function"&&Q.removeEventListener("processorerror",he),he=typeof k=="function"?k:null,typeof he=="function"&&Q.addEventListener("processorerror",he)},get parameters(){return pe},get port(){return M.port2},addEventListener(...k){return Z.addEventListener(k[0],k[1],k[2])},connect:t.bind(null,ge),disconnect:h.bind(null,ge),dispatchEvent(...k){return Z.dispatchEvent(k[0])},removeEventListener(...k){return Z.removeEventListener(k[0],k[1],k[2])}},re=new Map;M.port1.addEventListener=(k=>(...x)=>{if(x[0]==="message"){const D=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(D!==null){const K=re.get(x[1]);K!==void 0?x[1]=K:(x[1]=P=>{f(N.currentTime,N.sampleRate,()=>D(P))},re.set(D,x[1]))}}return k.call(M.port1,x[0],x[1],x[2])})(M.port1.addEventListener),M.port1.removeEventListener=(k=>(...x)=>{if(x[0]==="message"){const D=re.get(x[1]);D!==void 0&&(re.delete(x[1]),x[1]=D)}return k.call(M.port1,x[0],x[1],x[2])})(M.port1.removeEventListener);let j=null;Object.defineProperty(M.port1,"onmessage",{get:()=>j,set:k=>{typeof j=="function"&&M.port1.removeEventListener("message",j),j=typeof k=="function"?k:null,typeof j=="function"&&(M.port1.addEventListener("message",j),M.port1.start())}}),b.prototype.port=M.port1;let O=null;HS(N,Q,b,I).then(k=>O=k);const te=Sl(I.numberOfInputs,I.channelCount),ce=Sl(I.numberOfOutputs,w),ie=b.parameterDescriptors===void 0?[]:b.parameterDescriptors.reduce((k,{name:x})=>({...k,[x]:new Float32Array(128)}),{});let y=!0;const v=()=>{I.numberOfOutputs>0&&Z.disconnect(ee);for(let k=0,x=0;k<I.numberOfOutputs;k+=1){const D=fe[k];for(let K=0;K<w[k];K+=1)ee.disconnect(D,x+K,K);x+=w[k]}},s=new Map;Z.onaudioprocess=({inputBuffer:k,outputBuffer:x})=>{if(O!==null){const D=g(Q);for(let K=0;K<G;K+=128){for(let P=0;P<I.numberOfInputs;P+=1)for(let F=0;F<I.channelCount;F+=1)kl(k,te[P],F,F,K);b.parameterDescriptors!==void 0&&b.parameterDescriptors.forEach(({name:P},F)=>{kl(k,ie,P,T+F,K)});for(let P=0;P<I.numberOfInputs;P+=1)for(let F=0;F<w[P];F+=1)ce[P][F].byteLength===0&&(ce[P][F]=new Float32Array(128));try{const P=te.map((U,B)=>{if(D[B].size>0)return s.set(B,G/128),U;const H=s.get(B);return H===void 0?[]:(U.every(X=>X.every(se=>se===0))&&(H===1?s.delete(B):s.set(B,H-1)),U)});y=f(N.currentTime+K/N.sampleRate,N.sampleRate,()=>O.process(P,ce,ie));for(let U=0,B=0;U<I.numberOfOutputs;U+=1){for(let q=0;q<w[U];q+=1)wy(x,ce[U],q,B+q,K);B+=w[U]}}catch(P){y=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:P.colno,filename:P.filename,lineno:P.lineno,message:P.message}))}if(!y){for(let P=0;P<I.numberOfInputs;P+=1){L[P].disconnect(z[P]);for(let F=0;F<I.channelCount;F+=1)z[K].disconnect(J,F,P*I.channelCount+F)}if(b.parameterDescriptors!==void 0){const P=b.parameterDescriptors.length;for(let F=0;F<P;F+=1){const U=V[F];U.disconnect(J,0,T+F),U.stop()}}J.disconnect(Z),Z.onaudioprocess=null,u?v():m();break}}}};let u=!1;const d=a(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),p=()=>Z.connect(d).connect(N.destination),m=()=>{Z.disconnect(d),d.disconnect()},S=()=>{if(y){m(),I.numberOfOutputs>0&&Z.connect(ee);for(let k=0,x=0;k<I.numberOfOutputs;k+=1){const D=fe[k];for(let K=0;K<w[k];K+=1)ee.connect(D,x+K,K);x+=w[k]}}u=!0},C=()=>{y&&(p(),v()),u=!1};return p(),_(Q,S,C)},xy=(t,e)=>{const n=t.createBiquadFilter();return Nt(n,e),mt(n,e,"Q"),mt(n,e,"detune"),mt(n,e,"frequency"),mt(n,e,"gain"),at(n,e,"type"),n},QS=(t,e)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),Nt(o,r),o},YS=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Mt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Mt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Mt()}})},Gs=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Nt(n,e),YS(n),n},XS=(t,e,n,r,o)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const l=i.createConstantSource();return Nt(l,a),mt(l,a,"offset"),e(r,()=>r(i))||nd(l),e(o,()=>o(i))||rd(l),t(i,l),l},Di=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),ZS=(t,e,n,r)=>(o,{offset:i,...a})=>{const l=o.createBuffer(1,2,44100),c=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(o,{...a,gain:i}),f=l.getChannelData(0);f[0]=1,f[1]=1,c.buffer=l,c.loop=!0;const g={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(E){h.channelCount=E},get channelCountMode(){return h.channelCountMode},set channelCountMode(E){h.channelCountMode=E},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(E){h.channelInterpretation=E},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return c.onended},set onended(E){c.onended=E},addEventListener(...E){return c.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return c.dispatchEvent(E[0])},removeEventListener(...E){return c.removeEventListener(E[0],E[1],E[2])},start(E=0){c.start.call(c,E)},stop(E=0){c.stop.call(c,E)}},_=()=>c.connect(h),N=()=>c.disconnect(h);return t(o,c),r(Di(g,h),_,N)},JS=(t,e)=>(n,r)=>{const o=n.createConvolver();if(Nt(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),at(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>a=>{if(a>2)throw t();return i.call(o,a)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",i=>()=>i.call(o),i=>a=>{if(a==="max")throw t();return i.call(o,a)}),o},Cy=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Nt(n,e),mt(n,e,"delayTime"),n},ex=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Nt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return mt(r,n,"attack"),mt(r,n,"knee"),mt(r,n,"ratio"),mt(r,n,"release"),mt(r,n,"threshold"),r},dn=(t,e)=>{const n=t.createGain();return Nt(n,e),mt(n,e,"gain"),n},tx=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const o=e.createIIRFilter(r.feedforward,r.feedback);return Nt(o,r),o};function nx(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function rx(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Tp(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=rx(n,e),n[0]+=t[r];return n}const ox=(t,e,n,r)=>(o,i,{channelCount:a,channelCountMode:l,channelInterpretation:c,feedback:h,feedforward:f})=>{const g=Sy(i,o.sampleRate),_=h instanceof Float64Array?h:new Float64Array(h),N=f instanceof Float64Array?f:new Float64Array(f),E=_.length,b=N.length,I=Math.min(E,b);if(E===0||E>20)throw r();if(_[0]===0)throw e();if(b===0||b>20)throw r();if(N[0]===0)throw e();if(_[0]!==1){for(let V=0;V<b;V+=1)N[V]/=_[0];for(let V=1;V<E;V+=1)_[V]/=_[0]}const w=n(o,g,a,a);w.channelCount=a,w.channelCountMode=l,w.channelInterpretation=c;const T=32,A=[],R=[],M=[];for(let V=0;V<a;V+=1){A.push(0);const J=new Float32Array(T),G=new Float32Array(T);J.fill(0),G.fill(0),R.push(J),M.push(G)}w.onaudioprocess=V=>{const J=V.inputBuffer,G=V.outputBuffer,Z=J.numberOfChannels;for(let ee=0;ee<Z;ee+=1){const fe=J.getChannelData(ee),pe=G.getChannelData(ee);A[ee]=ky(_,E,N,b,I,R[ee],M[ee],A[ee],T,fe,pe)}};const L=o.sampleRate/2;return Di({get bufferSize(){return g},get channelCount(){return w.channelCount},set channelCount(V){w.channelCount=V},get channelCountMode(){return w.channelCountMode},set channelCountMode(V){w.channelCountMode=V},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(V){w.channelInterpretation=V},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},addEventListener(...V){return w.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return w.dispatchEvent(V[0])},getFrequencyResponse(V,J,G){if(V.length!==J.length||J.length!==G.length)throw t();const Z=V.length;for(let ee=0;ee<Z;ee+=1){const fe=-Math.PI*(V[ee]/L),pe=[Math.cos(fe),Math.sin(fe)],Se=Tp(N,pe),he=Tp(_,pe),ge=nx(Se,he);J[ee]=Math.sqrt(ge[0]*ge[0]+ge[1]*ge[1]),G[ee]=Math.atan2(ge[1],ge[0])}},removeEventListener(...V){return w.removeEventListener(V[0],V[1],V[2])}},w)},ix=(t,e)=>t.createMediaElementSource(e.mediaElement),sx=(t,e)=>{const n=t.createMediaStreamDestination();return Nt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},ax=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},lx=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},cx=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,ux=(t,e,n,r,o,i)=>(a,l)=>{const c=a.createOscillator();return Nt(c,l),mt(c,l,"detune"),mt(c,l,"frequency"),l.periodicWave!==void 0?c.setPeriodicWave(l.periodicWave):at(c,l,"type"),e(n,()=>n(a))||nd(c),e(r,()=>r(a))||i(c,a),e(o,()=>o(a))||rd(c),t(a,c),c},hx=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Nt(r,n),mt(r,n,"orientationX"),mt(r,n,"orientationY"),mt(r,n,"orientationZ"),mt(r,n,"positionX"),mt(r,n,"positionY"),mt(r,n,"positionZ"),at(r,n,"coneInnerAngle"),at(r,n,"coneOuterAngle"),at(r,n,"coneOuterGain"),at(r,n,"distanceModel"),at(r,n,"maxDistance"),at(r,n,"panningModel"),at(r,n,"refDistance"),at(r,n,"rolloffFactor"),r)},dx=(t,e,n,r,o,i,a,l,c,h)=>(f,{coneInnerAngle:g,coneOuterAngle:_,coneOuterGain:N,distanceModel:E,maxDistance:b,orientationX:I,orientationY:w,orientationZ:T,panningModel:A,positionX:R,positionY:M,positionZ:L,refDistance:z,rolloffFactor:V,...J})=>{const G=f.createPanner();if(J.channelCount>2||J.channelCountMode==="max")throw a();Nt(G,J);const Z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},ee=n(f,{...Z,channelInterpretation:"speakers",numberOfInputs:6}),fe=r(f,{...J,gain:1}),pe=r(f,{...Z,gain:1}),Se=r(f,{...Z,gain:0}),he=r(f,{...Z,gain:0}),ge=r(f,{...Z,gain:0}),Q=r(f,{...Z,gain:0}),re=r(f,{...Z,gain:0}),j=o(f,256,6,1),O=i(f,{...Z,curve:new Float32Array([1,1]),oversample:"none"});let W=[I,w,T],te=[R,M,L];const ce=new Float32Array(1);j.onaudioprocess=({inputBuffer:s})=>{const u=[c(s,ce,0),c(s,ce,1),c(s,ce,2)];u.some((p,m)=>p!==W[m])&&(G.setOrientation(...u),W=u);const d=[c(s,ce,3),c(s,ce,4),c(s,ce,5)];d.some((p,m)=>p!==te[m])&&(G.setPosition(...d),te=d)},Object.defineProperty(Se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ge.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(s){if(s>2)throw a();fe.channelCount=s,G.channelCount=s},get channelCountMode(){return G.channelCountMode},set channelCountMode(s){if(s==="max")throw a();fe.channelCountMode=s,G.channelCountMode=s},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(s){fe.channelInterpretation=s,G.channelInterpretation=s},get coneInnerAngle(){return G.coneInnerAngle},set coneInnerAngle(s){G.coneInnerAngle=s},get coneOuterAngle(){return G.coneOuterAngle},set coneOuterAngle(s){G.coneOuterAngle=s},get coneOuterGain(){return G.coneOuterGain},set coneOuterGain(s){if(s<0||s>1)throw e();G.coneOuterGain=s},get context(){return G.context},get distanceModel(){return G.distanceModel},set distanceModel(s){G.distanceModel=s},get inputs(){return[fe]},get maxDistance(){return G.maxDistance},set maxDistance(s){if(s<0)throw new RangeError;G.maxDistance=s},get numberOfInputs(){return G.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get orientationX(){return pe.gain},get orientationY(){return Se.gain},get orientationZ(){return he.gain},get panningModel(){return G.panningModel},set panningModel(s){G.panningModel=s},get positionX(){return ge.gain},get positionY(){return Q.gain},get positionZ(){return re.gain},get refDistance(){return G.refDistance},set refDistance(s){if(s<0)throw new RangeError;G.refDistance=s},get rolloffFactor(){return G.rolloffFactor},set rolloffFactor(s){if(s<0)throw new RangeError;G.rolloffFactor=s},addEventListener(...s){return fe.addEventListener(s[0],s[1],s[2])},dispatchEvent(...s){return fe.dispatchEvent(s[0])},removeEventListener(...s){return fe.removeEventListener(s[0],s[1],s[2])}};g!==ie.coneInnerAngle&&(ie.coneInnerAngle=g),_!==ie.coneOuterAngle&&(ie.coneOuterAngle=_),N!==ie.coneOuterGain&&(ie.coneOuterGain=N),E!==ie.distanceModel&&(ie.distanceModel=E),b!==ie.maxDistance&&(ie.maxDistance=b),I!==ie.orientationX.value&&(ie.orientationX.value=I),w!==ie.orientationY.value&&(ie.orientationY.value=w),T!==ie.orientationZ.value&&(ie.orientationZ.value=T),A!==ie.panningModel&&(ie.panningModel=A),R!==ie.positionX.value&&(ie.positionX.value=R),M!==ie.positionY.value&&(ie.positionY.value=M),L!==ie.positionZ.value&&(ie.positionZ.value=L),z!==ie.refDistance&&(ie.refDistance=z),V!==ie.rolloffFactor&&(ie.rolloffFactor=V),(W[0]!==1||W[1]!==0||W[2]!==0)&&G.setOrientation(...W),(te[0]!==0||te[1]!==0||te[2]!==0)&&G.setPosition(...te);const y=()=>{fe.connect(G),t(fe,O,0,0),O.connect(pe).connect(ee,0,0),O.connect(Se).connect(ee,0,1),O.connect(he).connect(ee,0,2),O.connect(ge).connect(ee,0,3),O.connect(Q).connect(ee,0,4),O.connect(re).connect(ee,0,5),ee.connect(j).connect(f.destination)},v=()=>{fe.disconnect(G),l(fe,O,0,0),O.disconnect(pe),pe.disconnect(ee),O.disconnect(Se),Se.disconnect(ee),O.disconnect(he),he.disconnect(ee),O.disconnect(ge),ge.disconnect(ee),O.disconnect(Q),Q.disconnect(ee),O.disconnect(re),re.disconnect(ee),ee.disconnect(j),j.disconnect(f.destination)};return h(Di(ie,G),y,v)},fx=t=>(e,{disableNormalization:n,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),a=o instanceof Float32Array?o:new Float32Array(o),l=e.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return l},Qs=(t,e,n,r)=>t.createScriptProcessor(e,n,r),px=(t,e)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return Nt(i,r),mt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:a=>{if(a!==o)throw e()}}),i},mx=(t,e,n,r,o,i)=>{const l=new Float32Array([1,1]),c=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},f={...h,oversample:"none"},g=(E,b,I,w)=>{const T=new Float32Array(16385),A=new Float32Array(16385);for(let J=0;J<16385;J+=1){const G=J/16384*c;T[J]=Math.cos(G),A[J]=Math.sin(G)}const R=n(E,{...h,gain:0}),M=r(E,{...f,curve:T}),L=r(E,{...f,curve:l}),z=n(E,{...h,gain:0}),V=r(E,{...f,curve:A});return{connectGraph(){b.connect(R),b.connect(L.inputs===void 0?L:L.inputs[0]),b.connect(z),L.connect(I),I.connect(M.inputs===void 0?M:M.inputs[0]),I.connect(V.inputs===void 0?V:V.inputs[0]),M.connect(R.gain),V.connect(z.gain),R.connect(w,0,0),z.connect(w,0,1)},disconnectGraph(){b.disconnect(R),b.disconnect(L.inputs===void 0?L:L.inputs[0]),b.disconnect(z),L.disconnect(I),I.disconnect(M.inputs===void 0?M:M.inputs[0]),I.disconnect(V.inputs===void 0?V:V.inputs[0]),M.disconnect(R.gain),V.disconnect(z.gain),R.disconnect(w,0,0),z.disconnect(w,0,1)}}},_=(E,b,I,w)=>{const T=new Float32Array(16385),A=new Float32Array(16385),R=new Float32Array(16385),M=new Float32Array(16385),L=Math.floor(16385/2);for(let ge=0;ge<16385;ge+=1)if(ge>L){const Q=(ge-L)/(16384-L)*c;T[ge]=Math.cos(Q),A[ge]=Math.sin(Q),R[ge]=0,M[ge]=1}else{const Q=ge/(16384-L)*c;T[ge]=1,A[ge]=0,R[ge]=Math.cos(Q),M[ge]=Math.sin(Q)}const z=e(E,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),V=n(E,{...h,gain:0}),J=r(E,{...f,curve:T}),G=n(E,{...h,gain:0}),Z=r(E,{...f,curve:A}),ee=r(E,{...f,curve:l}),fe=n(E,{...h,gain:0}),pe=r(E,{...f,curve:R}),Se=n(E,{...h,gain:0}),he=r(E,{...f,curve:M});return{connectGraph(){b.connect(z),b.connect(ee.inputs===void 0?ee:ee.inputs[0]),z.connect(V,0),z.connect(G,0),z.connect(fe,1),z.connect(Se,1),ee.connect(I),I.connect(J.inputs===void 0?J:J.inputs[0]),I.connect(Z.inputs===void 0?Z:Z.inputs[0]),I.connect(pe.inputs===void 0?pe:pe.inputs[0]),I.connect(he.inputs===void 0?he:he.inputs[0]),J.connect(V.gain),Z.connect(G.gain),pe.connect(fe.gain),he.connect(Se.gain),V.connect(w,0,0),fe.connect(w,0,0),G.connect(w,0,1),Se.connect(w,0,1)},disconnectGraph(){b.disconnect(z),b.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),z.disconnect(V,0),z.disconnect(G,0),z.disconnect(fe,1),z.disconnect(Se,1),ee.disconnect(I),I.disconnect(J.inputs===void 0?J:J.inputs[0]),I.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),I.disconnect(pe.inputs===void 0?pe:pe.inputs[0]),I.disconnect(he.inputs===void 0?he:he.inputs[0]),J.disconnect(V.gain),Z.disconnect(G.gain),pe.disconnect(fe.gain),he.disconnect(Se.gain),V.disconnect(w,0,0),fe.disconnect(w,0,0),G.disconnect(w,0,1),Se.disconnect(w,0,1)}}},N=(E,b,I,w,T)=>{if(b===1)return g(E,I,w,T);if(b===2)return _(E,I,w,T);throw o()};return(E,{channelCount:b,channelCountMode:I,pan:w,...T})=>{if(I==="max")throw o();const A=t(E,{...T,channelCount:1,channelCountMode:I,numberOfInputs:2}),R=n(E,{...T,channelCount:b,channelCountMode:I,gain:1}),M=n(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:w});let{connectGraph:L,disconnectGraph:z}=N(E,b,R,M,A);Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"maxValue",{get:()=>1}),Object.defineProperty(M.gain,"minValue",{get:()=>-1});const V={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(ee){R.channelCount!==ee&&(J&&z(),{connectGraph:L,disconnectGraph:z}=N(E,ee,R,M,A),J&&L()),R.channelCount=ee},get channelCountMode(){return R.channelCountMode},set channelCountMode(ee){if(ee==="clamped-max"||ee==="max")throw o();R.channelCountMode=ee},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(ee){R.channelInterpretation=ee},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get pan(){return M.gain},addEventListener(...ee){return R.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return R.dispatchEvent(ee[0])},removeEventListener(...ee){return R.removeEventListener(ee[0],ee[1],ee[2])}};let J=!1;const G=()=>{L(),J=!0},Z=()=>{z(),J=!1};return i(Di(V,A),G,Z)}},gx=(t,e,n,r,o,i,a)=>(l,c)=>{const h=l.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return n(l,c);Nt(h,c);const f=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(f!==null&&f.length<2)throw e();at(h,{curve:f},"curve"),at(h,c,"oversample");let g=null,_=!1;return a(h,"curve",b=>()=>b.call(h),b=>I=>(b.call(h,I),_&&(r(I)&&g===null?g=t(l,h):!r(I)&&g!==null&&(g(),g=null)),I)),o(h,()=>{_=!0,r(h.curve)&&(g=t(l,h))},()=>{_=!1,g!==null&&(g(),g=null)})},yx=(t,e,n,r,o)=>(i,{curve:a,oversample:l,...c})=>{const h=i.createWaveShaper(),f=i.createWaveShaper();Nt(h,c),Nt(f,c);const g=n(i,{...c,gain:1}),_=n(i,{...c,gain:-1}),N=n(i,{...c,gain:1}),E=n(i,{...c,gain:-1});let b=null,I=!1,w=null;const T={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(M){g.channelCount=M,_.channelCount=M,h.channelCount=M,N.channelCount=M,f.channelCount=M,E.channelCount=M},get channelCountMode(){return h.channelCountMode},set channelCountMode(M){g.channelCountMode=M,_.channelCountMode=M,h.channelCountMode=M,N.channelCountMode=M,f.channelCountMode=M,E.channelCountMode=M},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(M){g.channelInterpretation=M,_.channelInterpretation=M,h.channelInterpretation=M,N.channelInterpretation=M,f.channelInterpretation=M,E.channelInterpretation=M},get context(){return h.context},get curve(){return w},set curve(M){if(M!==null&&M.length<2)throw e();if(M===null)h.curve=M,f.curve=M;else{const L=M.length,z=new Float32Array(L+2-L%2),V=new Float32Array(L+2-L%2);z[0]=M[0],V[0]=-M[L-1];const J=Math.ceil((L+1)/2),G=(L+1)/2-1;for(let Z=1;Z<J;Z+=1){const ee=Z/J*G,fe=Math.floor(ee),pe=Math.ceil(ee);z[Z]=fe===pe?M[fe]:(1-(ee-fe))*M[fe]+(1-(pe-ee))*M[pe],V[Z]=fe===pe?-M[L-1-fe]:-((1-(ee-fe))*M[L-1-fe])-(1-(pe-ee))*M[L-1-pe]}z[J]=L%2===1?M[J-1]:(M[J-2]+M[J-1])/2,h.curve=z,f.curve=V}w=M,I&&(r(w)&&b===null?b=t(i,g):b!==null&&(b(),b=null))},get inputs(){return[g]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(M){h.oversample=M,f.oversample=M},addEventListener(...M){return g.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return g.dispatchEvent(M[0])},removeEventListener(...M){return g.removeEventListener(M[0],M[1],M[2])}};a!==null&&(T.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==T.oversample&&(T.oversample=l);const A=()=>{g.connect(h).connect(N),g.connect(_).connect(f).connect(E).connect(N),I=!0,r(w)&&(b=t(i,g))},R=()=>{g.disconnect(h),h.disconnect(N),g.disconnect(_),_.disconnect(f),f.disconnect(E),E.disconnect(N),I=!1,b!==null&&(b(),b=null)};return o(Di(T,N),A,R)},nn=()=>new DOMException("","NotSupportedError"),vx={numberOfChannels:1},_x=(t,e,n,r,o)=>class extends t{constructor(a,l,c){let h;if(typeof a=="number"&&l!==void 0&&c!==void 0)h={length:l,numberOfChannels:a,sampleRate:c};else if(typeof a=="object")h=a;else throw new Error("The given parameters are not valid.");const{length:f,numberOfChannels:g,sampleRate:_}={...vx,...h},N=r(g,f,_);e(js,()=>js(N))||N.addEventListener("statechange",(()=>{let E=0;const b=I=>{this._state==="running"&&(E>0?(N.removeEventListener("statechange",b),I.stopImmediatePropagation(),this._waitForThePromiseToSettle(I)):E+=1)};return b})()),super(N,g),this._length=f,this._nativeOfflineAudioContext=N,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,my(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},wx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},kx=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const f=o(c),g={...wx,...h},_=n(f,g),N=i(f),E=N?r():null,b=c.sampleRate/2;super(c,!1,_,E),this._detune=e(this,N,_.detune,153600,-153600),this._frequency=e(this,N,_.frequency,b,-b),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=E,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeOscillatorNode.onended=h;const f=this._nativeOscillatorNode.onended;this._onended=f!==null&&f===h?c:f}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){ki(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),gr(this)&&qs(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},Sx=(t,e,n,r,o)=>()=>{const i=new WeakMap;let a=null,l=null,c=null;const h=async(f,g)=>{let _=n(f);const N=Ht(_,g);if(!N){const E={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:a===null?void 0:a,type:_.type};_=e(g,E),l!==null&&_.start(l),c!==null&&_.stop(c)}return i.set(g,_),N?(await t(g,f.detune,_.detune),await t(g,f.frequency,_.frequency)):(await r(g,f.detune,_.detune),await r(g,f.frequency,_.frequency)),await o(f,g,_),_};return{set periodicWave(f){a=f},set start(f){l=f},set stop(f){c=f},render(f,g){const _=i.get(g);return _!==void 0?Promise.resolve(_):h(f,g)}}},xx={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Cx=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const f=o(c),g={...xx,...h},_=n(f,g),N=i(f),E=N?r():null;super(c,!1,_,E),this._nativePannerNode=_,this._orientationX=e(this,N,_.orientationX,Yt,sn),this._orientationY=e(this,N,_.orientationY,Yt,sn),this._orientationZ=e(this,N,_.orientationZ,Yt,sn),this._positionX=e(this,N,_.positionX,Yt,sn),this._positionY=e(this,N,_.positionY,Yt,sn),this._positionZ=e(this,N,_.positionZ,Yt,sn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},Tx=(t,e,n,r,o,i,a,l,c,h)=>()=>{const f=new WeakMap;let g=null;const _=async(N,E)=>{let b=null,I=i(N);const w={channelCount:I.channelCount,channelCountMode:I.channelCountMode,channelInterpretation:I.channelInterpretation},T={...w,coneInnerAngle:I.coneInnerAngle,coneOuterAngle:I.coneOuterAngle,coneOuterGain:I.coneOuterGain,distanceModel:I.distanceModel,maxDistance:I.maxDistance,panningModel:I.panningModel,refDistance:I.refDistance,rolloffFactor:I.rolloffFactor},A=Ht(I,E);if("bufferSize"in I)b=r(E,{...w,gain:1});else if(!A){const R={...T,orientationX:I.orientationX.value,orientationY:I.orientationY.value,orientationZ:I.orientationZ.value,positionX:I.positionX.value,positionY:I.positionY.value,positionZ:I.positionZ.value};I=o(E,R)}if(f.set(E,b===null?I:b),b!==null){if(g===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=new a(6,N.context.length,E.sampleRate),ee=e(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});ee.connect(Z.destination),g=(async()=>{const fe=await Promise.all([N.orientationX,N.orientationY,N.orientationZ,N.positionX,N.positionY,N.positionZ].map(async(pe,Se)=>{const he=n(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Se===0?1:0});return await l(Z,pe,he.offset),he}));for(let pe=0;pe<6;pe+=1)fe[pe].connect(ee,0,pe),fe[pe].start(0);return h(Z)})()}const R=await g,M=r(E,{...w,gain:1});await c(N,E,M);const L=[];for(let Z=0;Z<R.numberOfChannels;Z+=1)L.push(R.getChannelData(Z));let z=[L[0][0],L[1][0],L[2][0]],V=[L[3][0],L[4][0],L[5][0]],J=r(E,{...w,gain:1}),G=o(E,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]});M.connect(J).connect(G.inputs[0]),G.connect(b);for(let Z=128;Z<R.length;Z+=128){const ee=[L[0][Z],L[1][Z],L[2][Z]],fe=[L[3][Z],L[4][Z],L[5][Z]];if(ee.some((pe,Se)=>pe!==z[Se])||fe.some((pe,Se)=>pe!==V[Se])){z=ee,V=fe;const pe=Z/E.sampleRate;J.gain.setValueAtTime(0,pe),J=r(E,{...w,gain:0}),G=o(E,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]}),J.gain.setValueAtTime(1,pe),M.connect(J).connect(G.inputs[0]),G.connect(b)}}return b}return A?(await t(E,N.orientationX,I.orientationX),await t(E,N.orientationY,I.orientationY),await t(E,N.orientationZ,I.orientationZ),await t(E,N.positionX,I.positionX),await t(E,N.positionY,I.positionY),await t(E,N.positionZ,I.positionZ)):(await l(E,N.orientationX,I.orientationX),await l(E,N.orientationY,I.orientationY),await l(E,N.orientationZ,I.orientationZ),await l(E,N.positionX,I.positionX),await l(E,N.positionY,I.positionY),await l(E,N.positionZ,I.positionZ)),Pi(I)?await c(N,E,I.inputs[0]):await c(N,E,I),I};return{render(N,E){const b=f.get(E);return b!==void 0?Promise.resolve(b):_(N,E)}}},Ex={disableNormalization:!1},bx=(t,e,n,r)=>class Ty{constructor(i,a){const l=e(i),c=r({...Ex,...a}),h=t(l,c);return n.add(h),h}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Ty.prototype||n.has(i)}},Nx=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o)),Ox=(t,e,n)=>async(r,o,i)=>{const a=t(r);await Promise.all(a.activeInputs.map((l,c)=>Array.from(l).map(async([h,f])=>{const _=await e(h).render(h,o),N=r.context.destination;!n(h)&&(r!==N||!n(r))&&_.connect(i,f,c)})).reduce((l,c)=>[...l,...c],[]))},Ax=(t,e,n)=>async(r,o,i)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([l,c])=>{const f=await t(l).render(l,o);n(l)||f.connect(i,c)}))},Ix=(t,e,n,r)=>o=>t(js,()=>js(o))?Promise.resolve(t(r,r)).then(i=>{if(!i){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const a=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=l=>{a.disconnect(),i(l.renderedBuffer)},a.connect(o.destination),o.startRendering()}),Mx=t=>(e,n)=>{t.set(e,n)},Px=t=>(e,n)=>t.set(e,n),Dx=(t,e,n,r,o,i,a,l)=>(c,h)=>n(c).render(c,h).then(()=>Promise.all(Array.from(r(h)).map(f=>n(f).render(f,h)))).then(()=>o(h)).then(f=>(typeof f.copyFromChannel!="function"?(a(f),Jh(f)):e(i,()=>i(f))||l(f),t.add(f),f)),Rx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},jx=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=o(l),f={...Rx,...c},g=n(h,f),_=i(h),N=_?r():null;super(l,!1,g,N),this._pan=e(this,_,g.pan)}get pan(){return this._pan}},Fx=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Ht(h,c);if(!f){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(c,g)}return i.set(c,h),f?await t(c,l.pan,h.pan):await r(c,l.pan,h.pan),Pi(h)?await o(l,c,h.inputs[0]):await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},Lx=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Kx=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(o);const l=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();l.port.onmessage=()=>i=!0,l.onprocessorerror=()=>a=!0,c.connect(l),c.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(o)}return i&&!a},Vx=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},Bx=()=>new DOMException("","UnknownError"),zx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Ux=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const f=o(c),g={...zx,...h},_=n(f,g),E=i(f)?r():null;super(c,!0,_,E),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},Wx=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!Ht(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=t(a,h)}return r.set(a,l),Pi(l)?await n(i,a,l.inputs[0]):await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},qx=()=>typeof window>"u"?null:window,$x=(t,e)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const a=t(i),l=t(o);if(l>=n.numberOfChannels)throw e();const c=n.length,h=n.getChannelData(l),f=r.length;for(let g=a<0?-a:0;g+a<c&&g<f;g+=1)r[g]=h[g+a]},n.copyToChannel=(r,o,i=0)=>{const a=t(i),l=t(o);if(l>=n.numberOfChannels)throw e();const c=n.length,h=n.getChannelData(l),f=r.length;for(let g=a<0?-a:0;g+a<c&&g<f;g+=1)h[g+a]=r[g]}},Hx=t=>e=>{e.copyFromChannel=(n=>(r,o,i=0)=>{const a=t(i),l=t(o);if(a<e.length)return n.call(e,r,l,a)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,i=0)=>{const a=t(i),l=t(o);if(a<e.length)return n.call(e,r,l,a)})(e.copyToChannel)},Gx=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{const i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))},Qx=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=n.createBufferSource();e(r,()=>{const l=r.numberOfInputs;for(let c=0;c<l;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))},Ey=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),by=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Ys=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:i,set:a}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(i),set:r(a)})},Yx=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Xx=t=>({...t,channelCount:t.numberOfOutputs}),Zx=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Ny=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Ny(t,e,n+1e-7)}},Jx=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},eC=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},tC=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},od=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Oy=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},id=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},nC=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},rC=t=>{t.start=(e=>(n=0,r=0,o)=>{const i=t.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,o)})(t.start)},Ay=(t,e)=>{const n=e.createGain();t.connect(n);const r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Di(t,n),t.stop=(o=>{let i=!1;return(a=0)=>{if(i)try{o.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else o.call(t,a),i=!0}})(t.stop)},Ri=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},oC=Cw(Mo),iC=Aw(Mo),sC=zk(ql),Iy=new WeakMap,aC=sS(Iy),Gn=vk(new Map,new WeakMap),rr=qx(),My=jS(Gn,or),sd=iS(Xt),Vt=Ox(Xt,sd,bo),lC=Rw(My,it,Vt),tt=cS(Wl),Cr=cx(rr),Ze=ES(Cr),Py=new WeakMap,Dy=Zk(Ri),Xs=VS(rr),ad=SS(Xs),ld=xS(rr),Ry=CS(rr),Fs=zS(rr),_t=sk(Tw(ly),Ow(oC,iC,vl,sC,_l,Xt,aC,Ws,it,Mo,gr,bo,Ka),Gn,yS(Bu,_l,Xt,it,Rs,gr),or,$l,nn,Lk(vl,Bu,Xt,it,Rs,tt,gr,Ze),qk(Py,Xt,Hn),Dy,tt,ad,ld,Ry,Ze,Fs),cC=Dw(_t,lC,or,My,tt,Ze),cd=new WeakSet,Ep=FS(rr),jy=Ik(new Uint32Array(1)),ud=$x(jy,or),hd=Hx(jy),Fy=Fw(cd,Gn,nn,Ep,Cr,Lx(Ep),ud,hd),Hl=Iw(dn),Ly=Ax(sd,$s,bo),ir=Tk(Ly),ji=KS(Hl,Gn,Jx,eC,tC,od,Oy,id,rC,Gx(Ys),Ay),sr=Nx(aS($s),Ly),uC=Vw(ir,ji,it,sr,Vt),Qn=ak(Ew(cy),Py,Zh,lk,vw,_w,ww,kw,Sw,Lu,sy,Xs,Ny),hC=Kw(_t,uC,Qn,Mt,ji,tt,Ze,Ri),dC=Qw(_t,Yw,or,Mt,BS(dn,Ys),tt,Ze,Vt),fC=yk(ir,xy,it,sr,Vt),Po=Px(Iy),pC=gk(_t,Qn,fC,$l,xy,tt,Ze,Po),so=DS(Mo,ld),mC=Qx(Mt,so),ao=QS(Xs,mC),gC=kk(ao,it,Vt),yC=wk(_t,gC,ao,tt,Ze),vC=Ck(Gs,it,Vt),_C=xk(_t,vC,Gs,tt,Ze,Xx),wC=ZS(Hl,ji,dn,so),Fi=XS(Hl,Gn,wC,od,id),kC=Ak(ir,Fi,it,sr,Vt),SC=Ok(_t,Qn,kC,Fi,tt,Ze,Ri),Ky=JS(nn,Ys),xC=Dk(Ky,it,Vt),CC=Pk(_t,xC,Ky,tt,Ze,Po),TC=Bk(ir,Cy,it,sr,Vt),EC=Vk(_t,Qn,TC,Cy,tt,Ze,Po),Vy=ex(nn),bC=Qk(ir,Vy,it,sr,Vt),NC=Gk(_t,Qn,bC,Vy,nn,tt,Ze,Po),OC=rS(ir,dn,it,sr,Vt),AC=nS(_t,Qn,OC,dn,tt,Ze),IC=ox($l,Mt,Qs,nn),Gl=Ix(Gn,dn,Qs,Vx(dn,Cr)),MC=gS(ji,it,Cr,Vt,Gl),PC=tx(IC),DC=pS(_t,PC,MC,tt,Ze,Po),RC=Xw(Qn,ao,Fi,Qs,nn,Ey,Ze,Ys),By=new WeakMap,jC=PS(dC,RC,Dy,Ze,By,Ri),zy=ux(Hl,Gn,od,Oy,id,Ay),FC=Sx(ir,zy,it,sr,Vt),LC=kx(_t,Qn,zy,FC,tt,Ze,Ri),Uy=bk(ji),KC=yx(Uy,Mt,dn,by,so),Ql=gx(Uy,Mt,KC,by,so,Xs,Ys),VC=dx(vl,Mt,ao,dn,Qs,Ql,nn,_l,Ey,so),Wy=hx(VC),BC=Tx(ir,ao,Fi,dn,Wy,it,Cr,sr,Vt,Gl),zC=Cx(_t,Qn,Wy,BC,tt,Ze,Po),UC=fx(or),WC=bx(UC,tt,new WeakSet,Zx),qC=mx(ao,Gs,dn,Ql,nn,so),qy=px(qC,nn),$C=Fx(ir,qy,it,sr,Vt),HC=jx(_t,Qn,qy,$C,tt,Ze),GC=Wx(Ql,it,Vt),QC=Ux(_t,Mt,Ql,GC,tt,Ze,Po),$y=bS(rr),dd=Jk(rr),Hy=new WeakMap,YC=uS(Hy,Cr),XC=$y?Nw(Gn,nn,Xk(rr),dd,eS(xw),tt,YC,Ze,Fs,new WeakMap,new WeakMap,Kx(Fs,Cr),rr):void 0,ZC=TS(ad,Ze),JC=Fk(cd,Gn,jk,Yk,new WeakSet,tt,ZC,gl,js,ud,hd),Gy=pk(XC,cC,Fy,hC,pC,yC,_C,SC,CC,JC,EC,NC,AC,DC,jC,LC,zC,WC,HC,QC),eT=NS(_t,ix,tt,Ze),tT=AS(_t,sx,tt,Ze),nT=IS(_t,ax,tt,Ze),rT=lx(Mt,Ze),oT=MS(_t,rT,tt),iT=Gw(Gy,Mt,nn,Bx,eT,tT,nT,oT,Xs),fd=hS(By),sT=Mw(fd),Qy=Ek(or),aT=Uk(fd),Yy=$k(or),Xy=new WeakMap,lT=oS(Xy,Hn),cT=GS(Qy,or,Mt,ao,Gs,Fi,dn,Qs,nn,Yy,dd,lT,so),uT=WS(Mt,cT,dn,nn,so),hT=fk(ir,Qy,ji,ao,Gs,Fi,dn,aT,Yy,dd,it,Fs,Cr,sr,Vt,Gl),dT=lS(Hy),fT=Mx(Xy),bp=$y?uk(sT,_t,Qn,hT,uT,Xt,dT,tt,Ze,Fs,Yx,fT,nC,Ri):void 0,pT=Rk(nn,Cr),mT=Dx(cd,Gn,sd,fd,Gl,gl,ud,hd),gT=_x(Gy,Gn,Mt,pT,mT),yT=vS(Wl,ad),vT=_S(Xh,ld),_T=wS(Zh,Ry),wT=kS(Wl,Ze);function An(t){return t===void 0}function ze(t){return t!==void 0}function kT(t){return typeof t=="function"}function No(t){return typeof t=="number"}function ko(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function ST(t){return typeof t=="boolean"}function qn(t){return Array.isArray(t)}function kr(t){return typeof t=="string"}function xa(t){return kr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function je(t,e){if(!t)throw new Error(e)}function Jr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Zy(t){!t.isOffline&&t.state!=="running"&&pd('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Jy=!1,Np=!1;function Op(t){Jy=t}function xT(t){An(t)&&Jy&&!Np&&(Np=!0,pd("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let ev=console;function CT(...t){ev.log(...t)}function pd(...t){ev.warn(...t)}function TT(t){return new iT(t)}function ET(t,e,n){return new gT(t,e,n)}const gn=typeof self=="object"?self:null,bT=gn&&(gn.hasOwnProperty("AudioContext")||gn.hasOwnProperty("webkitAudioContext"));function NT(t,e,n){return je(ze(bp),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(gn==null?void 0:gn.BaseAudioContext)?gn==null?void 0:gn.AudioWorkletNode:bp)(t,e,n)}function Yn(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Ct(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{h(r.next(f))}catch(g){a(g)}}function c(f){try{h(r.throw(f))}catch(g){a(g)}}function h(f){f.done?i(f.value):o(f.value).then(l,c)}h((r=r.apply(t,e||[])).next())})}class OT{constructor(e,n,r,o){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Oo(t){return _T(t)}function Yr(t){return vT(t)}function Va(t){return wT(t)}function Uo(t){return yT(t)}function AT(t){return t instanceof Fy}function IT(t,e){return t==="value"||Oo(e)||Yr(e)||AT(e)}function hi(t,...e){if(!e.length)return t;const n=e.shift();if(ko(t)&&ko(n))for(const r in n)IT(r,n[r])?t[r]=n[r]:ko(n[r])?(t[r]||Object.assign(t,{[r]:{}}),hi(t[r],n[r])):Object.assign(t,{[r]:n[r]});return hi(t,...e)}function MT(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function De(t,e,n=[],r){const o={},i=Array.from(e);if(ko(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(l=>Reflect.has(t,l))||(hi(o,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&ko(i[0]))hi(o,i[0]);else for(let a=0;a<n.length;a++)ze(i[a])&&(o[n[a]]=i[a]);return hi(t,o)}function PT(t){return t.constructor.getDefaults()}function di(t,e){return An(t)?e:t}function Ap(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Tr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||gn&&this.toString()===gn.TONE_DEBUG_CLASS)&&CT(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tr.version=iy;const md=1e-6;function Si(t,e){return t>e+md}function $u(t,e){return Si(t,e)||Bn(t,e)}function xl(t,e){return t+md<e}function Bn(t,e){return Math.abs(t-e)<md}function DT(t,e,n){return Math.max(Math.min(t,n),e)}class In extends Tr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=De(In.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(je(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];je($u(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Bn(this._timeline[n].time,e)){for(let r=n;r>=0&&Bn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&$u(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let i=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<i;){let a=Math.floor(r+(i-r)/2);const l=this._timeline[a],c=this._timeline[a+1];if(Bn(l[n],e)){for(let h=a;h<this._timeline.length;h++){const f=this._timeline[h];if(Bn(f[n],e))a=h;else break}return a}else{if(xl(l[n],e)&&Si(c[n],e))return a;Si(l[n],e)?i=a:r=a+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),i=this._search(n);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Bn(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&Bn(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{n(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const tv=[];function Yl(t){tv.push(t)}function RT(t){tv.forEach(e=>e(t))}const nv=[];function Xl(t){nv.push(t)}function jT(t){nv.forEach(e=>e(t))}class Zs extends Tr{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{An(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){const r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(An(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(An(n))this._events[o]=[];else{const i=this._events[o];for(let a=i.length-1;a>=0;a--)i[a]===n&&i.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Zs.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class rv extends Zs{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Js extends rv{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new In,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=De(Js.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=TT({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new OT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(RT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return je(Uo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return je(Uo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return je(Uo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){je(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){je(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){je(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){je(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return NT(this.rawContext,e,n)}addAudioWorkletModule(e){return Ct(this,void 0,void 0,function*(){je(ze(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ct(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Uo(this._context)?this._context.resume():Promise.resolve()}close(){return Ct(this,void 0,void 0,function*(){Uo(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&jT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,o=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+n})};return o(),r}}class FT extends rv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ct(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function gt(t,e){qn(e)?e.forEach(n=>gt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function ov(t,e){qn(e)?e.forEach(n=>ov(t,n)):Object.defineProperty(t,e,{writable:!0})}const Xe=()=>{};class rt extends Tr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Xe;const e=De(rt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,kr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Xe,onload:Xe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Zt().sampleRate}set(e){return e instanceof rt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ct(this,void 0,void 0,function*(){const n=rt.load(e).then(r=>{this.set(r),this.onload(this)});rt.downloads.push(n);try{yield n}finally{const r=rt.downloads.indexOf(n);rt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=qn(e)&&e[0].length>0,r=n?e.length:1,o=n?e[0].length:e.length,i=Zt(),a=i.createBuffer(r,o,i.sampleRate),l=!n&&r===1?[e]:e;for(let c=0;c<r;c++)a.copyToChannel(l[c],c);return this._buffer=a,this}toMono(e){if(No(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const i=this.toArray(o);for(let a=0;a<i.length;a++)n[a]+=i[a]}n=n.map(o=>o/r),this.fromArray(n)}return this}toArray(e){if(No(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){je(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),o=Math.floor(n*this.sampleRate);je(r<o,"The start time must be less than the end time");const i=o-r,a=Zt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)a.copyToChannel(this.getChannelData(l).subarray(r,o),l);return new rt(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new rt().fromArray(e)}static fromUrl(e){return Ct(this,void 0,void 0,function*(){return yield new rt().load(e)})}static load(e){return Ct(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const c=n[1].split("|");let h=c[0];for(const f of c)if(rt.supportsType(f)){h=f;break}e=e.replace(n[0],h)}const r=rt.baseUrl===""||rt.baseUrl.endsWith("/")?rt.baseUrl:rt.baseUrl+"/",o=document.createElement("a");o.href=r+e,o.pathname=(o.pathname+o.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(o.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield Zt().decodeAudioData(a)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ct(this,void 0,void 0,function*(){for(yield Promise.resolve();rt.downloads.length;)yield rt.downloads[0]})}}rt.baseUrl="";rt.downloads=[];class gd extends Js{constructor(){super({clockSource:"offline",context:Va(arguments[0])?arguments[0]:ET(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Va(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Va(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ct(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Ct(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new rt(n)})}close(){return Promise.resolve()}}const iv=new FT;let vo=iv;function Zt(){return vo===iv&&bT&&LT(new Js),vo}function LT(t,e=!1){e&&vo.dispose(),Uo(t)?vo=new Js(t):Va(t)?vo=new gd(t):vo=t}function KT(){return vo.resume()}if(gn&&!gn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${iy} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function VT(t){return Math.pow(10,t/20)}function BT(t){return 20*(Math.log(t)/Math.LN10)}function sv(t){return Math.pow(2,t/12)}let Zl=440;function zT(){return Zl}function UT(t){Zl=t}function Hu(t){return Math.round(av(t))}function av(t){return 69+12*Math.log2(t/Zl)}function WT(t){return Zl*Math.pow(2,(t-69)/12)}class yd extends Tr{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof yd&&this.fromType(this._val),An(this._val))return this._noArg();if(kr(this._val)&&An(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ko(this._val)){let e=0;for(const n in this._val)if(ze(this._val[n])){const r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(ze(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return kr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class zn extends yd{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new zn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),l=Math.round(o/r)*r-o;return o+l*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const a=Math.pow(2,i);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let r=n[0],o=new zn(this.context,n[0]).toSeconds();return n.forEach(i=>{const a=new zn(this.context,i).toSeconds();Math.abs(a-e)<Math.abs(o-e)&&(r=i,o=a)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let o=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,n,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Hu(this.toFrequency())}_now(){return this.context.now()}}class Nn extends zn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return zT()}static set A4(e){UT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Nn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const o=qT[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:Nn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new Nn(this.context,this.valueOf()*sv(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Hu(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Nn.A4);let r=Math.round(12*n)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),$T[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return WT(e)}static ftom(e){return Hu(e)}}const qT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},$T=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ms extends zn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class hn extends Tr{constructor(){super();const e=De(hn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Zt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return xT(e),new zn(this.context,e).toSeconds()}toFrequency(e){return new Nn(this.context,e).toFrequency()}toTicks(e){return new ms(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{An(e[r])&&delete n[r]}),n}get(){const e=PT(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];ze(r)&&ze(r.value)&&ze(r.setValueAtTime)?e[n]=r.value:r instanceof hn?e[n]=r._getPartialProperties(e[n]):qn(r)||No(r)||kr(r)||ST(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ze(this[n])&&(this[n]&&ze(this[n].value)&&ze(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof hn?this[n].set(e[n]):this[n]=e[n])}),this}}class vd extends In{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Jr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let o=r;o>=0;o--){const i=this._timeline[o];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const i=this._timeline[o];if(i.state===e)return i}}}class ct extends hn{constructor(){const e=De(ct.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,je(ze(e.param)&&(Oo(e.param)||e.param instanceof ct),"param must be an AudioParam");!Oo(e.param);)e.param=e.param._param;this._swappable=ze(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new In(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ze(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(hn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ze(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ze(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ze(this.maxValue)&&ze(this.minValue)&&Jr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?VT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?BT(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),o=this._fromType(e);return je(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n);let i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const a=this._events.getBefore(o.time);let l;a===null?l=this._initialValue:l=a.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,l,o.value,o.constant,n))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let a=o.value;if(o.type==="setTargetAtTime"){const l=this._events.getBefore(o.time);l===null?a=this._initialValue:a=l.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,a,r.time,r.value,n):i=this._exponentialInterpolate(o.time,a,r.time,r.value,n)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),o=this.toSeconds(n);return je(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Bn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(n);return je(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const o=this._fromType(e);je(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(o),je(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),n);const a=r/(e.length-1);for(let l=1;l<e.length;l++){const c=this._fromType(e[l])*o;this.linearRampToValueAtTime(this._toType(c),n+l*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return je(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));je(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const o=this._events.get(n),i=this._events.getAfter(n);return o&&Bn(o.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),i=o?o.time:n+2,a=(i-n)/10;for(let l=n;l<i;l+=a)e.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){je(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,i){return r+(n-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,n,r,o,i){return n+(o-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,o,i){return n*Math.pow(o/n,(i-e)/(r-e))}}class Ke extends hn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ze(this.input)?Oo(this.input)||this.input instanceof ct?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ze(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ze(e)&&(e instanceof Ke||Yr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();je(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Li(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return pd("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return HT(this,e,n,r),this}chain(...e){return Gu(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ze(this.input)&&(this.input instanceof Ke?this.input.dispose():Yr(this.input)&&this.input.disconnect()),ze(this.output)&&(this.output instanceof Ke?this.output.dispose():Yr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Gu(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Ke?n.connect(r):Yr(n)&&Li(n,r),r),e)}function Li(t,e,n=0,r=0){for(je(ze(t),"Cannot connect from undefined node"),je(ze(e),"Cannot connect to undefined node"),(e instanceof Ke||Yr(e))&&je(e.numberOfInputs>0,"Cannot connect to node with no inputs"),je(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ke||e instanceof ct;)ze(e.input)&&(e=e.input);for(;t instanceof Ke;)ze(t.output)&&(t=t.output);Oo(e)?t.connect(e,n):t.connect(e,n,r)}function HT(t,e,n=0,r=0){if(ze(e))for(;e instanceof Ke;)e=e.input;for(;!Yr(t);)ze(t.output)&&(t=t.output);Oo(e)?t.disconnect(e,n):Yr(e)?t.disconnect(e,n,r):t.disconnect()}class qt extends Ke{constructor(){const e=De(qt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ct({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),gt(this,"gain")}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class xi extends Ke{constructor(e){super(e),this.onended=Xe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new qt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ke.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Xe})}_startGain(e,n=1){je(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){je(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Xe&&(this.onended(this),this.onended=Xe,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),je(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Xe,this}}class _d extends xi{constructor(){const e=De(_d.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Li(this._source,this._gainNode),this.offset=new ct({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(xi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Pt extends Ke{constructor(){const e=De(Pt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new _d({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return wd(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function wd(t,e,n,r){(e instanceof ct||Oo(e)||e instanceof Pt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Pt&&(e.overridden=!0)),Li(t,e,n,r)}class kd extends ct{constructor(){const e=De(kd.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new In(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ct.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const o=this._fromType(e),i=this._events.get(n),a=Math.round(Math.max(1/r,1));for(let l=0;l<=a;l++){const c=r*l+n,h=this._exponentialApproach(i.time,i.value,o,r,c);this.linearRampToValueAtTime(this._toType(h),c)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const o=this._events.get(r),i=this._events.previousEvent(o),a=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const o=this._events.get(r),i=this._events.previousEvent(o),a=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max((n-o.time)*10,1)),a=(n-o.time)/i;for(let l=0;l<=i;l++){const c=a*l+o.time,h=this._exponentialInterpolate(o.time,o.value,n,r,c);this.linearRampToValueAtTime(this._toType(h),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(An(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const o=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),l=Math.sqrt(Math.pow(o,2)-2*a*(n.ticks-e)),c=(-o+l)/a,h=(-o-l)/a;return(c>0?c:h)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Sd extends Pt{constructor(){const e=De(Sd.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new kd({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Pt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class xd extends hn{constructor(){const e=De(xd.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new vd,this._tickOffset=new In,this._ticksAtTime=new In,this._secondsAtTime=new In,this.frequency=new Sd({context:this.context,units:e.units,value:e.frequency}),gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},hn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ze(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let a=o||r,l=o?o.ticks:0,c=null;return this._state.forEachBetween(a.time,n+this.sampleTime,h=>{let f=a.time;const g=this._tickOffset.get(h.time);g&&g.time>=a.time&&(l=g.ticks,f=g.time),a.state==="started"&&h.state!=="started"&&(l+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(f),h.time!==i.time&&(c={state:h.state,time:h.time,ticks:l})),a=h}),this._state.remove(i),c&&this._ticksAtTime.add(c),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const o=this._secondsAtTime.get(e);let i=o||n,a=o?o.seconds:0,l=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let h=i.time;const f=this._tickOffset.get(c.time);f&&f.time>=i.time&&(a=f.seconds,h=f.time),i.state==="started"&&c.state!=="started"&&(a+=c.time-h,c.time!==r.time&&(l={state:c.state,time:c.time,seconds:a})),i=c}),this._state.remove(r),l&&this._secondsAtTime.add(l),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),o=this._state.get(n),i=Math.max(r.time,o.time),a=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,a=>{o&&o.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),a.time-this.sampleTime,r),o=a});let i=null;if(o&&o.state==="started"){const a=Math.max(o.time,e),l=this.frequency.getTicksAtTime(a),c=this.frequency.getTicksAtTime(o.time),h=l-c;let f=Math.ceil(h)-h;f=Bn(f,1)?0:f;let g=this.frequency.getTimeOfTick(l+f);for(;g<n;){try{r(g,Math.round(this.getTicksAtTime(g)))}catch(_){i=_;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Jl extends hn{constructor(){const e=De(Jl.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Xe,this._lastUpdate=0,this._state=new vd("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new xd({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(hn.getDefaults(),{callback:Xe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Zy(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Zs.mixin(Jl);class Ki extends Ke{constructor(){const e=De(Ki.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new qt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,gt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Cd extends Ke{constructor(){const e=De(Cd.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ki({context:this.context}),this.output=new qt({context:this.context}),this.volume=this.input.volume,Gu(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Gu(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Yl(t=>{t.destination=new Cd({context:t})});Xl(t=>{t.destination.dispose()});class GT extends Ke{constructor(){super(...arguments),this.name="Listener",this.positionX=new ct({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ct({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ct({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ct({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ct({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ct({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ct({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ct({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ct({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ke.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Yl(t=>{t.listener=new GT({context:t})});Xl(t=>{t.listener.dispose()});class Td extends Tr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=De(Td.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Xe,onload:Xe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return je(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Xe,o=Xe){return kr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new rt(this.baseUrl+n,r,o))):this._buffers.set(e.toString(),new rt(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class ri extends ms{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class QT extends hn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new In,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Yl(t=>{t.draw=new QT({context:t})});Xl(t=>{t.draw.dispose()});class YT extends Tr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){je(ze(e.time),"Events must have a time property"),je(ze(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new XT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class XT{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ZT extends Tr{constructor(e){super(),this.name="TimelineValue",this._timeline=new In({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Ci extends Ke{constructor(){super(De(Ci.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return wd(this,e,n,r),this}}class ea extends Ci{constructor(){const e=De(ea.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,qn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):kT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Pt.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let o=0,i=n;o<i;o++){const a=o/(i-1)*2-1;r[o]=e(a,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));je(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ed extends Ci{constructor(){const e=De(Ed.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ea({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ci.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class eo{constructor(e,n){this.id=eo._eventId++,this._remainderTime=0;const r=Object.assign(eo.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Xe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}eo._eventId=0;class bd extends eo{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(bd.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},eo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return xl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ri(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){xl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ri(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Si(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ec extends hn{constructor(){const e=De(ec.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new ZT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new In,this._repeatedEvents=new YT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Jl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),gt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(hn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new ri(this.context,this._swingTicks*2/3).toSeconds()*o}Op(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Op(!1)}schedule(e,n){const r=new eo(this,{callback:e,time:new ms(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){const i=new bd(this,{callback:e,duration:new zn(this.context,o).toTicks(),interval:new zn(this.context,n).toTicks(),time:new ms(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new eo(this,{callback:e,once:!0,time:new ms(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new ri(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return ze(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){qn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new zn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new zn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ri(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new ri(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){const r=this.now();let o=this.bpm,i=1/(60/o.getValueAtTime(r)/this.PPQ),a=[];if(e.units==="time"){const c=.015625/i,h=new qt(c),f=new Ed(-1),g=new qt(c);o.chain(h,f,g),o=g,i=1/i,a=[h,f,g]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const l=new qt(n);return o.connect(l),l.connect(e._param),a.push(l),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),ov(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Zs.mixin(ec);Yl(t=>{t.transport=new ec({context:t})});Xl(t=>{t.transport.dispose()});class wn extends Ke{constructor(e){super(e),this.input=void 0,this._state=new vd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Xe,this._syncedStop=Xe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ki({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,gt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,onstop:Xe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=An(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")je(Si(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const i=this._state.get(o);i&&(i.offset=this.toSeconds(di(n,0)),i.duration=r?this.toSeconds(r):void 0);const a=this.context.transport.schedule(l=>{this._start(l,n,r)},o);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Zy(this.context),this._start(o,n,r);return this}stop(e){let n=An(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ze(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Si(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const o=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Xe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class tc extends xi{constructor(){const e=De(tc.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Li(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ct({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new rt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(xi.getDefaults(),{url:new rt,loop:!1,loopEnd:0,loopStart:0,onload:Xe,onerror:Xe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){je(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,o),this.loop?n=di(n,this.loopStart):n=di(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const l=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),h=l-c;$u(a,l)&&(a=(a-c)%h+c),Bn(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,xl(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,a)),ze(r)){let l=this.toSeconds(r);l=Math.max(l,0),this.stop(i+l)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Do(t,e){return Ct(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new gd(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Nd extends xi{constructor(){const e=De(Nd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Li(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ct({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ct({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(xi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class St extends wn{constructor(){const e=De(St.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),gt(this,"frequency"),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),gt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(wn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Nd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return St._periodicWaveCache.find(n=>n.phase===this._phase&&MT(n.partials,this._partials));{const e=St._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ze(r)){const{partials:o,wave:i}=r;this._wave=i,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,i]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(o,i);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),St._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),St._periodicWaveCache.length>100&&St._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Jr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const o=new Float32Array(e);this._partials.forEach((i,a)=>o[a]=i),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,n){let o=2048;const i=new Float32Array(o),a=new Float32Array(o);let l=1;if(e==="custom"){if(l=this._partials.length+1,this._partialCount=this._partials.length,o=l,this._partials.length===0)return[i,a]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(l=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],l=Math.max(l,2),o=l):this._partialCount=0,this._partials=[]}for(let c=1;c<o;++c){const h=2/(c*Math.PI);let f;switch(e){case"sine":f=c<=l?1:0,this._partials[c-1]=f;break;case"square":f=c&1?2*h:0,this._partials[c-1]=f;break;case"sawtooth":f=h*(c&1?1:-1),this._partials[c-1]=f;break;case"triangle":c&1?f=2*(h*h)*(c-1>>1&1?-1:1):f=0,this._partials[c-1]=f;break;case"custom":f=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}f!==0?(i[c]=-f*Math.sin(n*c),a[c]=f*Math.cos(n*c)):(i[c]=0,a[c]=0)}return[i,a]}_inverseFFT(e,n,r){let o=0;const i=e.length;for(let a=0;a<i;a++)o+=e[a]*Math.cos(a*r)+n[a]*Math.sin(a*r);return o}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,i=32;for(let a=0;a<i;a++)r=Math.max(this._inverseFFT(e,n,a/i*o),r);return DT(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}St._periodicWaveCache=[];class JT extends Ci{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ea({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ti extends Pt{constructor(){const e=De(Ti.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new qt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Pt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class nc extends wn{constructor(){const e=De(nc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new JT({context:this.context}),this._modulationNode=new qt({context:this.context}),this._carrier=new St({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new St({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ti({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),gt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(St.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class rc extends wn{constructor(){const e=De(rc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new qt({context:this.context,gain:0}),this._carrier=new St({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new St({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ti({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ti({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),gt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(St.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ta extends wn{constructor(){const e=De(ta.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new qt({context:this.context,gain:0}),this._thresh=new ea({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Pt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new St({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),gt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(wn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class oc extends wn{constructor(){const e=De(oc.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(St.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(Jr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new St({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Xe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class ic extends wn{constructor(){const e=De(ic.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ti({context:this.context,value:2}),this._pulse=new ta({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new St({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),gt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(wn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ip={am:nc,fat:oc,fm:rc,oscillator:St,pulse:ta,pwm:ic};class Cl extends wn{constructor(){const e=De(Cl.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),gt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(St.getDefaults(),rc.getDefaults(),nc.getDefaults(),oc.getDefaults(),ta.getDefaults(),ic.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Ip[e],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Ip[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&No(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&No(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&kr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function lv(t,e=1/0){const n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Jr(i,t,e),n.set(this,i)}})}}function Er(t,e=1/0){const n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Jr(this.toSeconds(i),t,e),n.set(this,i)}})}}class sc extends wn{constructor(){const e=De(sc.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new rt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(wn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Xe,onerror:Xe,playbackRate:1,reverse:!1})}load(e){return Ct(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Xe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=di(n,this._loopStart):n=di(n,0);const o=this.toSeconds(n),i=r;r=di(r,Math.max(this._buffer.duration-o,0));let a=this.toSeconds(r);a=a/this._playbackRate,e=this.toSeconds(e);const l=new tc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&An(i)?l.start(e,o):l.start(e,o,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Jr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Jr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Yn([Er(0)],sc.prototype,"fadeIn",void 0);Yn([Er(0)],sc.prototype,"fadeOut",void 0);class lo extends Ke{constructor(){const e=De(lo.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Pt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ke.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(kr(e))return e;{let r;for(r in Ca)if(Ca[r][n]===e)return r;return e}}_setCurve(e,n,r){if(kr(r)&&Reflect.has(Ca,r)){const o=Ca[r];ko(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(qn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const l=1/o;o=(1-a)/l}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let l=this._attackCurve;for(let c=1;c<l.length;c++)if(l[c-1]<=a&&a<=l[c]){l=this._attackCurve.slice(c),l[0]=a;break}this._sig.setValueCurveAtTime(l,e,o,n)}if(i&&this.sustain<1){const l=n*this.sustain,c=e+o;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,i+c):this._sig.exponentialApproachValueAtTime(l,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(je(qn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return wd(this,e,n,r),this}asArray(){return Ct(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new gd(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),a=i*.1,l=i+a,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/l,decay:n*this.toSeconds(this.decay)/l,release:n*this.toSeconds(this.release)/l,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(o+a)/l,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Yn([Er(0)],lo.prototype,"attack",void 0);Yn([Er(0)],lo.prototype,"decay",void 0);Yn([lv(0,1)],lo.prototype,"sustain",void 0);Yn([Er(0)],lo.prototype,"release",void 0);const Ca=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const o=[],i=6.4;for(e=0;e<127;e++){n=e/127;const _=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;o[e]=_/10+n*.83}o[127]=1;const a=[],l=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*l)/l;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const h=[];for(e=0;e<128;e++){n=e/127;const _=Math.pow(n,3)*4+.2,N=Math.cos(_*Math.PI*2*n);h[e]=Math.abs(N*(1-n))}function f(_){const N=new Array(_.length);for(let E=0;E<_.length;E++)N[E]=1-_[E];return N}function g(_){return _.slice(0).reverse()}return{bounce:{In:f(h),Out:h},cosine:{In:r,Out:g(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:f(o)},sine:{In:c,Out:f(c)},step:{In:a,Out:f(a)}}})();class Ei extends Ke{constructor(){const e=De(Ei.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Ki({context:this.context,volume:e.volume}),this.volume=this._volume.volume,gt(this,"volume")}static getDefaults(){return Object.assign(Ke.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...o)=>{const i=o[n],a=this.context.transport.schedule(l=>{o[n]=l,r.apply(this,o)},i);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,o){const i=this.toSeconds(r),a=this.toSeconds(n);return this.triggerAttack(e,i,o),this.triggerRelease(i+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class bi extends Ei{constructor(){const e=De(bi.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ei.getDefaults(),{detune:0,onsilence:Xe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),o=e instanceof Nn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}}Yn([Er(0)],bi.prototype,"portamento",void 0);class Od extends lo{constructor(){super(De(Od.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new qt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Tl extends bi{constructor(){const e=De(Tl.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Cl(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Od(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),gt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(bi.getDefaults(),{envelope:Object.assign(Ap(lo.getDefaults(),Object.keys(Ke.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ap(Cl.getDefaults(),[...Object.keys(wn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ac extends Tl{constructor(){const e=De(ac.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,gt(this,["oscillator","envelope"])}static getDefaults(){return hi(bi.getDefaults(),Tl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),o=this.toFrequency(e instanceof Nn?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Yn([lv(0)],ac.prototype,"octaves",void 0);Yn([Er(0)],ac.prototype,"pitchDecay",void 0);const cv=new Set;function Ad(t){cv.add(t)}function uv(t,e){const n=`registerProcessor("${t}", ${e})`;cv.add(n)}const eE=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ad(eE);const tE=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ad(tE);const nE=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ad(nE);const rE="feedback-comb-filter",oE=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;uv(rE,oE);class na extends Ei{constructor(){const e=De(na.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const o=parseInt(r,10);if(je(xa(r)||No(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),xa(r)){const i=new Nn(this.context,r).toMidi();n[i]=e.urls[r]}else No(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new Td({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ei.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Xe,onerror:Xe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{const i=av(new Nn(this.context,o).toFrequency()),a=Math.round(i),l=i-a,c=this._findClosest(a),h=a-c,f=this._buffers.get(h),g=sv(c+l),_=new tc({url:f,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);_.start(n,0,f.duration/g,r),qn(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const N=this._activeSources.get(a),E=N.indexOf(_);E!==-1&&N.splice(E,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const o=new Nn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const i=this._activeSources.get(o);n=this.toSeconds(n),i.forEach(a=>{a.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,o),qn(n)?(je(qn(e),"notes must be an array when duration is array"),e.forEach((a,l)=>{const c=n[Math.min(l,n.length-1)];this.triggerRelease(a,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(je(xa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),xa(e)){const o=new Nn(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Yn([Er(0)],na.prototype,"attack",void 0);Yn([Er(0)],na.prototype,"release",void 0);class Id extends Ke{constructor(){const e=De(Id.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ct({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",gt(this,"pan")}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const iE="bit-crusher",sE=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;uv(iE,sE);class kt extends Ke{constructor(){const e=De(kt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new qt({context:this.context}),kt._allSolos.has(this.context)||kt._allSolos.set(this.context,new Set),kt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ke.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),kt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){kt._soloed.has(this.context)||kt._soloed.set(this.context,new Set),kt._soloed.get(this.context).add(this)}_removeSolo(){kt._soloed.has(this.context)&&kt._soloed.get(this.context).delete(this)}_isSoloed(){return kt._soloed.has(this.context)&&kt._soloed.get(this.context).has(this)}_noSolos(){return!kt._soloed.has(this.context)||kt._soloed.has(this.context)&&kt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),kt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}kt._allSolos=new Map;kt._soloed=new Map;class Md extends Ke{constructor(){const e=De(Md.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Id({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ki({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,gt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class oi extends Ke{constructor(){const e=De(oi.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new kt({solo:e.solo,context:this.context}),this._panVol=this.output=new Md({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),gt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return oi.buses.has(e)||oi.buses.set(e,new qt({context:this.context})),oi.buses.get(e)}send(e,n=0){const r=this._getBus(e),o=new qt({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}oi.buses=new Map;function aE(){return Zt().immediate()}Zt().transport;Zt().destination;Zt().destination;Zt().listener;Zt().draw;Zt();const lE="/layouts/assets/C2-jU7EKGGL.mp3",cE="/layouts/assets/Ds2-DnKp1gy3.mp3",uE="/layouts/assets/Fs2-9vY2UuIH.mp3",hE="/layouts/assets/A2-CQJ11jEF.mp3",dE="/layouts/assets/C3-Dn0rSXes.mp3",fE="/layouts/assets/Ds3-B9q8pZT4.mp3",pE="/layouts/assets/Fs3-DDdR4ek0.mp3",mE="/layouts/assets/A3-B899Ep8C.mp3",gE="/layouts/assets/C4-B2DzZQ9W.mp3",yE="/layouts/assets/Ds4-ZpjA_cOI.mp3",vE="/layouts/assets/Fs4-XuYqV_uK.mp3",_E="/layouts/assets/A4-DOvdn91G.mp3",wE="/layouts/assets/C5-C2EPYtUj.mp3",kE="/layouts/assets/Ds5-rz2hEMxW.mp3",SE="/layouts/assets/Fs5-bI3vcOCZ.mp3",xE="/layouts/assets/A5-CM9sZMm0.mp3";let Ba=!1,Ta=null;const to=new na({urls:{C2:lE,"D#2":cE,"F#2":uE,A2:hE,C3:dE,"D#3":fE,"F#3":pE,A3:mE,C4:gE,"D#4":yE,"F#4":vE,A4:_E,C5:wE,"D#5":kE,"F#5":SE,A5:xE},onload:()=>{console.log("Sampler loaded"),console.log("Audio Context State:",Zt().state),Ba=!0}}).toDestination(),CE=to.triggerAttack;to.triggerAttack=function(...t){return console.log("Audio Context State:",Zt().state),CE.apply(this,t)};const TE=to.triggerRelease;to.triggerRelease=function(...t){return console.log("Audio Context State:",Zt().state),TE.apply(this,t)};const EE=async()=>{if(!Ba){if(Ta)return Ta;Ta=new Promise(t=>{if(to.loaded){console.log("Sampler already loaded"),Ba=!0,t();return}const e=()=>{to.loaded?(console.log("Sampler loaded successfully"),Ba=!0,t()):setTimeout(e,100)};e()}),await Ta,await KT(),console.log("Audio context started")}};function bE({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Qu=Y.forwardRef(bE);function NE({title:t,titleId:e,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Y.createElement("title",{id:e},t):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const OE=Y.forwardRef(NE),En="/p2";var ra={};(function t(e,n,r,o){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var j=new OffscreenCanvas(1,1),O=j.getContext("2d");O.fillRect(0,0,1,1);var W=j.transferToImageBitmap();try{O.createPattern(W,"no-repeat")}catch{return!1}return!0}();function c(){}function h(j){var O=n.exports.Promise,W=O!==void 0?O:e.Promise;return typeof W=="function"?new W(j):(j(c,c),null)}var f=function(j,O){return{transform:function(W){if(j)return W;if(O.has(W))return O.get(W);var te=new OffscreenCanvas(W.width,W.height),ce=te.getContext("2d");return ce.drawImage(W,0,0),O.set(W,te),te},clear:function(){O.clear()}}}(l,new Map),g=function(){var j=Math.floor(16.666666666666668),O,W,te={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(O=function(ie){var y=Math.random();return te[y]=requestAnimationFrame(function v(s){ce===s||ce+j-1<s?(ce=s,delete te[y],ie()):te[y]=requestAnimationFrame(v)}),y},W=function(ie){te[ie]&&cancelAnimationFrame(te[ie])}):(O=function(ie){return setTimeout(ie,j)},W=function(ie){return clearTimeout(ie)}),{frame:O,cancel:W}}(),_=function(){var j,O,W={};function te(ce){function ie(y,v){ce.postMessage({options:y||{},callback:v})}ce.init=function(v){var s=v.transferControlToOffscreen();ce.postMessage({canvas:s},[s])},ce.fire=function(v,s,u){if(O)return ie(v,null),O;var d=Math.random().toString(36).slice(2);return O=h(function(p){function m(S){S.data.callback===d&&(delete W[d],ce.removeEventListener("message",m),O=null,f.clear(),u(),p())}ce.addEventListener("message",m),ie(v,d),W[d]=m.bind(null,{data:{callback:d}})}),O},ce.reset=function(){ce.postMessage({reset:!0});for(var v in W)W[v](),delete W[v]}}return function(){if(j)return j;if(!r&&i){var ce=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([ce])))}catch(ie){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ie),null}te(j)}return j}}(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function E(j,O){return O?O(j):j}function b(j){return j!=null}function I(j,O,W){return E(j&&b(j[O])?j[O]:N[O],W)}function w(j){return j<0?0:Math.floor(j)}function T(j,O){return Math.floor(Math.random()*(O-j))+j}function A(j){return parseInt(j,16)}function R(j){return j.map(M)}function M(j){var O=String(j).replace(/[^0-9a-f]/gi,"");return O.length<6&&(O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]),{r:A(O.substring(0,2)),g:A(O.substring(2,4)),b:A(O.substring(4,6))}}function L(j){var O=I(j,"origin",Object);return O.x=I(O,"x",Number),O.y=I(O,"y",Number),O}function z(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function V(j){var O=j.getBoundingClientRect();j.width=O.width,j.height=O.height}function J(j){var O=document.createElement("canvas");return O.style.position="fixed",O.style.top="0px",O.style.left="0px",O.style.pointerEvents="none",O.style.zIndex=j,O}function G(j,O,W,te,ce,ie,y,v,s){j.save(),j.translate(O,W),j.rotate(ie),j.scale(te,ce),j.arc(0,0,1,y,v,s),j.restore()}function Z(j){var O=j.angle*(Math.PI/180),W=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-O+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function ee(j,O){O.x+=Math.cos(O.angle2D)*O.velocity+O.drift,O.y+=Math.sin(O.angle2D)*O.velocity+O.gravity,O.velocity*=O.decay,O.flat?(O.wobble=0,O.wobbleX=O.x+10*O.scalar,O.wobbleY=O.y+10*O.scalar,O.tiltSin=0,O.tiltCos=0,O.random=1):(O.wobble+=O.wobbleSpeed,O.wobbleX=O.x+10*O.scalar*Math.cos(O.wobble),O.wobbleY=O.y+10*O.scalar*Math.sin(O.wobble),O.tiltAngle+=.1,O.tiltSin=Math.sin(O.tiltAngle),O.tiltCos=Math.cos(O.tiltAngle),O.random=Math.random()+2);var W=O.tick++/O.totalTicks,te=O.x+O.random*O.tiltCos,ce=O.y+O.random*O.tiltSin,ie=O.wobbleX+O.random*O.tiltCos,y=O.wobbleY+O.random*O.tiltSin;if(j.fillStyle="rgba("+O.color.r+", "+O.color.g+", "+O.color.b+", "+(1-W)+")",j.beginPath(),a&&O.shape.type==="path"&&typeof O.shape.path=="string"&&Array.isArray(O.shape.matrix))j.fill(ge(O.shape.path,O.shape.matrix,O.x,O.y,Math.abs(ie-te)*.1,Math.abs(y-ce)*.1,Math.PI/10*O.wobble));else if(O.shape.type==="bitmap"){var v=Math.PI/10*O.wobble,s=Math.abs(ie-te)*.1,u=Math.abs(y-ce)*.1,d=O.shape.bitmap.width*O.scalar,p=O.shape.bitmap.height*O.scalar,m=new DOMMatrix([Math.cos(v)*s,Math.sin(v)*s,-Math.sin(v)*u,Math.cos(v)*u,O.x,O.y]);m.multiplySelf(new DOMMatrix(O.shape.matrix));var S=j.createPattern(f.transform(O.shape.bitmap),"no-repeat");S.setTransform(m),j.globalAlpha=1-W,j.fillStyle=S,j.fillRect(O.x-d/2,O.y-p/2,d,p),j.globalAlpha=1}else if(O.shape==="circle")j.ellipse?j.ellipse(O.x,O.y,Math.abs(ie-te)*O.ovalScalar,Math.abs(y-ce)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI):G(j,O.x,O.y,Math.abs(ie-te)*O.ovalScalar,Math.abs(y-ce)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI);else if(O.shape==="star")for(var C=Math.PI/2*3,k=4*O.scalar,x=8*O.scalar,D=O.x,K=O.y,P=5,F=Math.PI/P;P--;)D=O.x+Math.cos(C)*x,K=O.y+Math.sin(C)*x,j.lineTo(D,K),C+=F,D=O.x+Math.cos(C)*k,K=O.y+Math.sin(C)*k,j.lineTo(D,K),C+=F;else j.moveTo(Math.floor(O.x),Math.floor(O.y)),j.lineTo(Math.floor(O.wobbleX),Math.floor(ce)),j.lineTo(Math.floor(ie),Math.floor(y)),j.lineTo(Math.floor(te),Math.floor(O.wobbleY));return j.closePath(),j.fill(),O.tick<O.totalTicks}function fe(j,O,W,te,ce){var ie=O.slice(),y=j.getContext("2d"),v,s,u=h(function(d){function p(){v=s=null,y.clearRect(0,0,te.width,te.height),f.clear(),ce(),d()}function m(){r&&!(te.width===o.width&&te.height===o.height)&&(te.width=j.width=o.width,te.height=j.height=o.height),!te.width&&!te.height&&(W(j),te.width=j.width,te.height=j.height),y.clearRect(0,0,te.width,te.height),ie=ie.filter(function(S){return ee(y,S)}),ie.length?v=g.frame(m):p()}v=g.frame(m),s=p});return{addFettis:function(d){return ie=ie.concat(d),u},canvas:j,promise:u,reset:function(){v&&g.cancel(v),s&&s()}}}function pe(j,O){var W=!j,te=!!I(O||{},"resize"),ce=!1,ie=I(O,"disableForReducedMotion",Boolean),y=i&&!!I(O||{},"useWorker"),v=y?_():null,s=W?z:V,u=j&&v?!!j.__confetti_initialized:!1,d=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,p;function m(C,k,x){for(var D=I(C,"particleCount",w),K=I(C,"angle",Number),P=I(C,"spread",Number),F=I(C,"startVelocity",Number),U=I(C,"decay",Number),B=I(C,"gravity",Number),q=I(C,"drift",Number),H=I(C,"colors",R),X=I(C,"ticks",Number),se=I(C,"shapes"),ne=I(C,"scalar"),ue=!!I(C,"flat"),ae=L(C),oe=D,me=[],ye=j.width*ae.x,le=j.height*ae.y;oe--;)me.push(Z({x:ye,y:le,angle:K,spread:P,startVelocity:F,color:H[oe%H.length],shape:se[T(0,se.length)],ticks:X,decay:U,gravity:B,drift:q,scalar:ne,flat:ue}));return p?p.addFettis(me):(p=fe(j,me,s,k,x),p.promise)}function S(C){var k=ie||I(C,"disableForReducedMotion",Boolean),x=I(C,"zIndex",Number);if(k&&d)return h(function(F){F()});W&&p?j=p.canvas:W&&!j&&(j=J(x),document.body.appendChild(j)),te&&!u&&s(j);var D={width:j.width,height:j.height};v&&!u&&v.init(j),u=!0,v&&(j.__confetti_initialized=!0);function K(){if(v){var F={getBoundingClientRect:function(){if(!W)return j.getBoundingClientRect()}};s(F),v.postMessage({resize:{width:F.width,height:F.height}});return}D.width=D.height=null}function P(){p=null,te&&(ce=!1,e.removeEventListener("resize",K)),W&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,u=!1)}return te&&!ce&&(ce=!0,e.addEventListener("resize",K,!1)),v?v.fire(C,D,P):m(C,D,P)}return S.reset=function(){v&&v.reset(),p&&p.reset()},S}var Se;function he(){return Se||(Se=pe(null,{useWorker:!0,resize:!0})),Se}function ge(j,O,W,te,ce,ie,y){var v=new Path2D(j),s=new Path2D;s.addPath(v,new DOMMatrix(O));var u=new Path2D;return u.addPath(s,new DOMMatrix([Math.cos(y)*ce,Math.sin(y)*ce,-Math.sin(y)*ie,Math.cos(y)*ie,W,te])),u}function Q(j){if(!a)throw new Error("path confetti are not supported in this browser");var O,W;typeof j=="string"?O=j:(O=j.path,W=j.matrix);var te=new Path2D(O),ce=document.createElement("canvas"),ie=ce.getContext("2d");if(!W){for(var y=1e3,v=y,s=y,u=0,d=0,p,m,S=0;S<y;S+=2)for(var C=0;C<y;C+=2)ie.isPointInPath(te,S,C,"nonzero")&&(v=Math.min(v,S),s=Math.min(s,C),u=Math.max(u,S),d=Math.max(d,C));p=u-v,m=d-s;var k=10,x=Math.min(k/p,k/m);W=[x,0,0,x,-Math.round(p/2+v)*x,-Math.round(m/2+s)*x]}return{type:"path",path:O,matrix:W}}function re(j){var O,W=1,te="#000000",ce='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?O=j:(O=j.text,W="scalar"in j?j.scalar:W,ce="fontFamily"in j?j.fontFamily:ce,te="color"in j?j.color:te);var ie=10*W,y=""+ie+"px "+ce,v=new OffscreenCanvas(ie,ie),s=v.getContext("2d");s.font=y;var u=s.measureText(O),d=Math.ceil(u.actualBoundingBoxRight+u.actualBoundingBoxLeft),p=Math.ceil(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent),m=2,S=u.actualBoundingBoxLeft+m,C=u.actualBoundingBoxAscent+m;d+=m+m,p+=m+m,v=new OffscreenCanvas(d,p),s=v.getContext("2d"),s.font=y,s.fillStyle=te,s.fillText(O,S,C);var k=1/W;return{type:"bitmap",bitmap:v.transferToImageBitmap(),matrix:[k,0,0,k,-d*k/2,-p*k/2]}}n.exports=function(){return he().apply(this,arguments)},n.exports.reset=function(){he().reset()},n.exports.create=pe,n.exports.shapeFromPath=Q,n.exports.shapeFromText=re})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ra,!1);const AE=ra.exports;ra.exports.create;const IE=({taskConfig:t,progress:e=0,status:n="active",isActive:r=!1,onActivate:o,previousTaskCompleted:i=!0,onSkip:a})=>{const{total:l,description:c}=t,h=n==="completed",f=Math.min(e/l*100,100);return po.useEffect(()=>{n==="active"&&e>=l&&AE({particleCount:1e3,spread:200,origin:{y:.8}})},[e,l,n]),!i&&!h&&!r?null:$.jsxs("div",{className:`my-4 p-4 bg-gray-800 rounded-lg transition-all duration-300 ${r?"ring-2 ring-blue-500 ring-opacity-50 shadow-lg shadow-blue-500/50":""} ${o?"cursor-pointer hover:bg-gray-700":""}`,onClick:o,children:[$.jsxs("div",{className:"flex justify-between items-center mb-2",children:[$.jsx("div",{className:"text-white",children:h?$.jsxs("span",{className:"flex items-center gap-2",children:[$.jsx("span",{className:"text-green-400",children:""}),c]}):c}),$.jsxs("div",{className:"flex items-center gap-4",children:[!h&&a&&$.jsx("button",{onClick:g=>{g.stopPropagation(),a(t.id)},className:"px-2 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded text-gray-300",children:"Skip"}),!h&&$.jsx("div",{className:"text-gray-400",children:`${e}/${l}`})]})]}),$.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:$.jsx("div",{className:`h-full transition-all duration-300 ease-out ${h?"bg-green-400":"bg-green-500"}`,style:{width:`${f}%`}})})]})};var hv={exports:{}};/*!
 * 
 *   react-simple-keyboard v3.8.22
 *   https://github.com/hodgef/react-simple-keyboard
 *
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */(function(t,e){(function(n,r){t.exports=r(Y)})(mv,function(n){return function(){var r={981:function(){typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(l){if("Element"in l){var c="classList",h="prototype",f=l.Element[h],g=Object,_=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},N=Array[h].indexOf||function(R){for(var M=0,L=this.length;M<L;M++)if(M in this&&this[M]===R)return M;return-1},E=function(R,M){this.name=R,this.code=DOMException[R],this.message=M},b=function(R,M){if(M==="")throw new E("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(M))throw new E("INVALID_CHARACTER_ERR","The token must not contain space characters.");return N.call(R,M)},I=function(R){for(var M=_.call(R.getAttribute("class")||""),L=M?M.split(/\s+/):[],z=0,V=L.length;z<V;z++)this.push(L[z]);this._updateClassName=function(){R.setAttribute("class",this.toString())}},w=I[h]=[],T=function(){return new I(this)};if(E[h]=Error[h],w.item=function(R){return this[R]||null},w.contains=function(R){return~b(this,R+"")},w.add=function(){var R,M=arguments,L=0,z=M.length,V=!1;do~b(this,R=M[L]+"")||(this.push(R),V=!0);while(++L<z);V&&this._updateClassName()},w.remove=function(){var R,M,L=arguments,z=0,V=L.length,J=!1;do for(M=b(this,R=L[z]+"");~M;)this.splice(M,1),J=!0,M=b(this,R);while(++z<V);J&&this._updateClassName()},w.toggle=function(R,M){var L=this.contains(R),z=L?M!==!0&&"remove":M!==!1&&"add";return z&&this[z](R),M===!0||M===!1?M:!L},w.replace=function(R,M){var L=b(R+"");~L&&(this.splice(L,1,M),this._updateClassName())},w.toString=function(){return this.join(" ")},g.defineProperty){var A={get:T,enumerable:!0,configurable:!0};try{g.defineProperty(f,c,A)}catch(R){R.number!==void 0&&R.number!==-2146823252||(A.enumerable=!1,g.defineProperty(f,c,A))}}else g[h].__defineGetter__&&f.__defineGetter__(c,T)}}(self),function(){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var c=function(f){var g=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(_){var N,E=arguments.length;for(N=0;N<E;N++)_=arguments[N],g.call(this,_)}};c("add"),c("remove")}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,g){return 1 in arguments&&!this.contains(f)==!g?g:h.call(this,f)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(f,g){var _=this.toString().split(" "),N=_.indexOf(f+"");~N&&(_=_.slice(N),this.remove.apply(this,_),this.add(g),this.add.apply(this,_.slice(1)))}),l=null}())},548:function(l){l.exports=function(){var c={9306:function(y,v,s){var u=s(4901),d=s(6823),p=TypeError;y.exports=function(m){if(u(m))return m;throw new p(d(m)+" is not a function")}},5548:function(y,v,s){var u=s(3517),d=s(6823),p=TypeError;y.exports=function(m){if(u(m))return m;throw new p(d(m)+" is not a constructor")}},3506:function(y,v,s){var u=s(3925),d=String,p=TypeError;y.exports=function(m){if(u(m))return m;throw new p("Can't set "+d(m)+" as a prototype")}},6469:function(y,v,s){var u=s(8227),d=s(2360),p=s(4913).f,m=u("unscopables"),S=Array.prototype;S[m]===void 0&&p(S,m,{configurable:!0,value:d(null)}),y.exports=function(C){S[m][C]=!0}},7829:function(y,v,s){var u=s(8183).charAt;y.exports=function(d,p,m){return p+(m?u(d,p).length:1)}},8551:function(y,v,s){var u=s(34),d=String,p=TypeError;y.exports=function(m){if(u(m))return m;throw new p(d(m)+" is not an object")}},235:function(y,v,s){var u=s(9213).forEach,d=s(4598)("forEach");y.exports=d?[].forEach:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}},7916:function(y,v,s){var u=s(6080),d=s(9565),p=s(8981),m=s(6319),S=s(4209),C=s(3517),k=s(6198),x=s(4659),D=s(81),K=s(851),P=Array;y.exports=function(F){var U=p(F),B=C(this),q=arguments.length,H=q>1?arguments[1]:void 0,X=H!==void 0;X&&(H=u(H,q>2?arguments[2]:void 0));var se,ne,ue,ae,oe,me,ye=K(U),le=0;if(!ye||this===P&&S(ye))for(se=k(U),ne=B?new this(se):P(se);se>le;le++)me=X?H(U[le],le):U[le],x(ne,le,me);else for(ne=B?new this:[],oe=(ae=D(U,ye)).next;!(ue=d(oe,ae)).done;le++)me=X?m(ae,H,[ue.value,le],!0):ue.value,x(ne,le,me);return ne.length=le,ne}},9617:function(y,v,s){var u=s(5397),d=s(5610),p=s(6198),m=function(S){return function(C,k,x){var D=u(C),K=p(D);if(K===0)return!S&&-1;var P,F=d(x,K);if(S&&k!=k){for(;K>F;)if((P=D[F++])!=P)return!0}else for(;K>F;F++)if((S||F in D)&&D[F]===k)return S||F||0;return!S&&-1}};y.exports={includes:m(!0),indexOf:m(!1)}},9213:function(y,v,s){var u=s(6080),d=s(9504),p=s(7055),m=s(8981),S=s(6198),C=s(1469),k=d([].push),x=function(D){var K=D===1,P=D===2,F=D===3,U=D===4,B=D===6,q=D===7,H=D===5||B;return function(X,se,ne,ue){for(var ae,oe,me=m(X),ye=p(me),le=S(ye),Te=u(se,ne),ve=0,xe=ue||C,Le=K?xe(X,le):P||q?xe(X,0):void 0;le>ve;ve++)if((H||ve in ye)&&(oe=Te(ae=ye[ve],ve,me),D))if(K)Le[ve]=oe;else if(oe)switch(D){case 3:return!0;case 5:return ae;case 6:return ve;case 2:k(Le,ae)}else switch(D){case 4:return!1;case 7:k(Le,ae)}return B?-1:F||U?U:Le}};y.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},597:function(y,v,s){var u=s(9039),d=s(8227),p=s(9519),m=d("species");y.exports=function(S){return p>=51||!u(function(){var C=[];return(C.constructor={})[m]=function(){return{foo:1}},C[S](Boolean).foo!==1})}},4598:function(y,v,s){var u=s(9039);y.exports=function(d,p){var m=[][d];return!!m&&u(function(){m.call(null,p||function(){return 1},1)})}},926:function(y,v,s){var u=s(9306),d=s(8981),p=s(7055),m=s(6198),S=TypeError,C="Reduce of empty array with no initial value",k=function(x){return function(D,K,P,F){var U=d(D),B=p(U),q=m(U);if(u(K),q===0&&P<2)throw new S(C);var H=x?q-1:0,X=x?-1:1;if(P<2)for(;;){if(H in B){F=B[H],H+=X;break}if(H+=X,x?H<0:q<=H)throw new S(C)}for(;x?H>=0:q>H;H+=X)H in B&&(F=K(F,B[H],H,U));return F}};y.exports={left:k(!1),right:k(!0)}},4527:function(y,v,s){var u=s(3724),d=s(4376),p=TypeError,m=Object.getOwnPropertyDescriptor,S=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(C){return C instanceof TypeError}}();y.exports=S?function(C,k){if(d(C)&&!m(C,"length").writable)throw new p("Cannot set read only .length");return C.length=k}:function(C,k){return C.length=k}},7680:function(y,v,s){var u=s(9504);y.exports=u([].slice)},4488:function(y,v,s){var u=s(7680),d=Math.floor,p=function(m,S){var C=m.length;if(C<8)for(var k,x,D=1;D<C;){for(x=D,k=m[D];x&&S(m[x-1],k)>0;)m[x]=m[--x];x!==D++&&(m[x]=k)}else for(var K=d(C/2),P=p(u(m,0,K),S),F=p(u(m,K),S),U=P.length,B=F.length,q=0,H=0;q<U||H<B;)m[q+H]=q<U&&H<B?S(P[q],F[H])<=0?P[q++]:F[H++]:q<U?P[q++]:F[H++];return m};y.exports=p},7433:function(y,v,s){var u=s(4376),d=s(3517),p=s(34),m=s(8227)("species"),S=Array;y.exports=function(C){var k;return u(C)&&(k=C.constructor,(d(k)&&(k===S||u(k.prototype))||p(k)&&(k=k[m])===null)&&(k=void 0)),k===void 0?S:k}},1469:function(y,v,s){var u=s(7433);y.exports=function(d,p){return new(u(d))(p===0?0:p)}},6319:function(y,v,s){var u=s(8551),d=s(9539);y.exports=function(p,m,S,C){try{return C?m(u(S)[0],S[1]):m(S)}catch(k){d(p,"throw",k)}}},4428:function(y,v,s){var u=s(8227)("iterator"),d=!1;try{var p=0,m={next:function(){return{done:!!p++}},return:function(){d=!0}};m[u]=function(){return this},Array.from(m,function(){throw 2})}catch{}y.exports=function(S,C){try{if(!C&&!d)return!1}catch{return!1}var k=!1;try{var x={};x[u]=function(){return{next:function(){return{done:k=!0}}}},S(x)}catch{}return k}},2195:function(y,v,s){var u=s(9504),d=u({}.toString),p=u("".slice);y.exports=function(m){return p(d(m),8,-1)}},6955:function(y,v,s){var u=s(2140),d=s(4901),p=s(2195),m=s(8227)("toStringTag"),S=Object,C=p(function(){return arguments}())==="Arguments";y.exports=u?p:function(k){var x,D,K;return k===void 0?"Undefined":k===null?"Null":typeof(D=function(P,F){try{return P[F]}catch{}}(x=S(k),m))=="string"?D:C?p(x):(K=p(x))==="Object"&&d(x.callee)?"Arguments":K}},7740:function(y,v,s){var u=s(9297),d=s(5031),p=s(7347),m=s(4913);y.exports=function(S,C,k){for(var x=d(C),D=m.f,K=p.f,P=0;P<x.length;P++){var F=x[P];u(S,F)||k&&u(k,F)||D(S,F,K(C,F))}}},1436:function(y,v,s){var u=s(8227)("match");y.exports=function(d){var p=/./;try{"/./"[d](p)}catch{try{return p[u]=!1,"/./"[d](p)}catch{}}return!1}},2211:function(y,v,s){var u=s(9039);y.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},2529:function(y){y.exports=function(v,s){return{value:v,done:s}}},6699:function(y,v,s){var u=s(3724),d=s(4913),p=s(6980);y.exports=u?function(m,S,C){return d.f(m,S,p(1,C))}:function(m,S,C){return m[S]=C,m}},6980:function(y){y.exports=function(v,s){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:s}}},4659:function(y,v,s){var u=s(3724),d=s(4913),p=s(6980);y.exports=function(m,S,C){u?d.f(m,S,p(0,C)):m[S]=C}},3640:function(y,v,s){var u=s(8551),d=s(4270),p=TypeError;y.exports=function(m){if(u(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new p("Incorrect hint");return d(this,m)}},2106:function(y,v,s){var u=s(283),d=s(4913);y.exports=function(p,m,S){return S.get&&u(S.get,m,{getter:!0}),S.set&&u(S.set,m,{setter:!0}),d.f(p,m,S)}},6840:function(y,v,s){var u=s(4901),d=s(4913),p=s(283),m=s(9433);y.exports=function(S,C,k,x){x||(x={});var D=x.enumerable,K=x.name!==void 0?x.name:C;if(u(k)&&p(k,K,x),x.global)D?S[C]=k:m(C,k);else{try{x.unsafe?S[C]&&(D=!0):delete S[C]}catch{}D?S[C]=k:d.f(S,C,{value:k,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return S}},9433:function(y,v,s){var u=s(4576),d=Object.defineProperty;y.exports=function(p,m){try{d(u,p,{value:m,configurable:!0,writable:!0})}catch{u[p]=m}return m}},4606:function(y,v,s){var u=s(6823),d=TypeError;y.exports=function(p,m){if(!delete p[m])throw new d("Cannot delete property "+u(m)+" of "+u(p))}},3724:function(y,v,s){var u=s(9039);y.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(y,v,s){var u=s(4576),d=s(34),p=u.document,m=d(p)&&d(p.createElement);y.exports=function(S){return m?p.createElement(S):{}}},6837:function(y){var v=TypeError;y.exports=function(s){if(s>9007199254740991)throw v("Maximum allowed index exceeded");return s}},7400:function(y){y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(y,v,s){var u=s(4055)("span").classList,d=u&&u.constructor&&u.constructor.prototype;y.exports=d===Object.prototype?void 0:d},8727:function(y){y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(y,v,s){var u=s(2839).match(/firefox\/(\d+)/i);y.exports=!!u&&+u[1]},3763:function(y,v,s){var u=s(2839);y.exports=/MSIE|Trident/.test(u)},6193:function(y,v,s){var u=s(4215);y.exports=u==="NODE"},2839:function(y,v,s){var u=s(4576).navigator,d=u&&u.userAgent;y.exports=d?String(d):""},9519:function(y,v,s){var u,d,p=s(4576),m=s(2839),S=p.process,C=p.Deno,k=S&&S.versions||C&&C.version,x=k&&k.v8;x&&(d=(u=x.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!d&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(d=+u[1]),y.exports=d},3607:function(y,v,s){var u=s(2839).match(/AppleWebKit\/(\d+)\./);y.exports=!!u&&+u[1]},4215:function(y,v,s){var u=s(4576),d=s(2839),p=s(2195),m=function(S){return d.slice(0,S.length)===S};y.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":p(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"},6518:function(y,v,s){var u=s(4576),d=s(7347).f,p=s(6699),m=s(6840),S=s(9433),C=s(7740),k=s(2796);y.exports=function(x,D){var K,P,F,U,B,q=x.target,H=x.global,X=x.stat;if(K=H?u:X?u[q]||S(q,{}):u[q]&&u[q].prototype)for(P in D){if(U=D[P],F=x.dontCallGetSet?(B=d(K,P))&&B.value:K[P],!k(H?P:q+(X?".":"#")+P,x.forced)&&F!==void 0){if(typeof U==typeof F)continue;C(U,F)}(x.sham||F&&F.sham)&&p(U,"sham",!0),m(K,P,U,x)}}},9039:function(y){y.exports=function(v){try{return!!v()}catch{return!0}}},9228:function(y,v,s){s(7495);var u=s(9565),d=s(6840),p=s(7323),m=s(9039),S=s(8227),C=s(6699),k=S("species"),x=RegExp.prototype;y.exports=function(D,K,P,F){var U=S(D),B=!m(function(){var se={};return se[U]=function(){return 7},""[D](se)!==7}),q=B&&!m(function(){var se=!1,ne=/a/;return D==="split"&&((ne={}).constructor={},ne.constructor[k]=function(){return ne},ne.flags="",ne[U]=/./[U]),ne.exec=function(){return se=!0,null},ne[U](""),!se});if(!B||!q||P){var H=/./[U],X=K(U,""[D],function(se,ne,ue,ae,oe){var me=ne.exec;return me===p||me===x.exec?B&&!oe?{done:!0,value:u(H,ne,ue,ae)}:{done:!0,value:u(se,ue,ne,ae)}:{done:!1}});d(String.prototype,D,X[0]),d(x,U,X[1])}F&&C(x[U],"sham",!0)}},8745:function(y,v,s){var u=s(616),d=Function.prototype,p=d.apply,m=d.call;y.exports=typeof Reflect=="object"&&Reflect.apply||(u?m.bind(p):function(){return m.apply(p,arguments)})},6080:function(y,v,s){var u=s(7476),d=s(9306),p=s(616),m=u(u.bind);y.exports=function(S,C){return d(S),C===void 0?S:p?m(S,C):function(){return S.apply(C,arguments)}}},616:function(y,v,s){var u=s(9039);y.exports=!u(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},9565:function(y,v,s){var u=s(616),d=Function.prototype.call;y.exports=u?d.bind(d):function(){return d.apply(d,arguments)}},350:function(y,v,s){var u=s(3724),d=s(9297),p=Function.prototype,m=u&&Object.getOwnPropertyDescriptor,S=d(p,"name"),C=S&&(function(){}).name==="something",k=S&&(!u||u&&m(p,"name").configurable);y.exports={EXISTS:S,PROPER:C,CONFIGURABLE:k}},6706:function(y,v,s){var u=s(9504),d=s(9306);y.exports=function(p,m,S){try{return u(d(Object.getOwnPropertyDescriptor(p,m)[S]))}catch{}}},7476:function(y,v,s){var u=s(2195),d=s(9504);y.exports=function(p){if(u(p)==="Function")return d(p)}},9504:function(y,v,s){var u=s(616),d=Function.prototype,p=d.call,m=u&&d.bind.bind(p,p);y.exports=u?m:function(S){return function(){return p.apply(S,arguments)}}},7751:function(y,v,s){var u=s(4576),d=s(4901);y.exports=function(p,m){return arguments.length<2?(S=u[p],d(S)?S:void 0):u[p]&&u[p][m];var S}},851:function(y,v,s){var u=s(6955),d=s(5966),p=s(4117),m=s(6269),S=s(8227)("iterator");y.exports=function(C){if(!p(C))return d(C,S)||d(C,"@@iterator")||m[u(C)]}},81:function(y,v,s){var u=s(9565),d=s(9306),p=s(8551),m=s(6823),S=s(851),C=TypeError;y.exports=function(k,x){var D=arguments.length<2?S(k):x;if(d(D))return p(u(D,k));throw new C(m(k)+" is not iterable")}},6933:function(y,v,s){var u=s(9504),d=s(4376),p=s(4901),m=s(2195),S=s(655),C=u([].push);y.exports=function(k){if(p(k))return k;if(d(k)){for(var x=k.length,D=[],K=0;K<x;K++){var P=k[K];typeof P=="string"?C(D,P):typeof P!="number"&&m(P)!=="Number"&&m(P)!=="String"||C(D,S(P))}var F=D.length,U=!0;return function(B,q){if(U)return U=!1,q;if(d(this))return q;for(var H=0;H<F;H++)if(D[H]===B)return q}}}},5966:function(y,v,s){var u=s(9306),d=s(4117);y.exports=function(p,m){var S=p[m];return d(S)?void 0:u(S)}},2478:function(y,v,s){var u=s(9504),d=s(8981),p=Math.floor,m=u("".charAt),S=u("".replace),C=u("".slice),k=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,x=/\$([$&'`]|\d{1,2})/g;y.exports=function(D,K,P,F,U,B){var q=P+D.length,H=F.length,X=x;return U!==void 0&&(U=d(U),X=k),S(B,X,function(se,ne){var ue;switch(m(ne,0)){case"$":return"$";case"&":return D;case"`":return C(K,0,P);case"'":return C(K,q);case"<":ue=U[C(ne,1,-1)];break;default:var ae=+ne;if(ae===0)return se;if(ae>H){var oe=p(ae/10);return oe===0?se:oe<=H?F[oe-1]===void 0?m(ne,1):F[oe-1]+m(ne,1):se}ue=F[ae-1]}return ue===void 0?"":ue})}},4576:function(y,v,s){var u=function(d){return d&&d.Math===Math&&d};y.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(y,v,s){var u=s(9504),d=s(8981),p=u({}.hasOwnProperty);y.exports=Object.hasOwn||function(m,S){return p(d(m),S)}},421:function(y){y.exports={}},397:function(y,v,s){var u=s(7751);y.exports=u("document","documentElement")},5917:function(y,v,s){var u=s(3724),d=s(9039),p=s(4055);y.exports=!u&&!d(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(y,v,s){var u=s(9504),d=s(9039),p=s(2195),m=Object,S=u("".split);y.exports=d(function(){return!m("z").propertyIsEnumerable(0)})?function(C){return p(C)==="String"?S(C,""):m(C)}:m},3167:function(y,v,s){var u=s(4901),d=s(34),p=s(2967);y.exports=function(m,S,C){var k,x;return p&&u(k=S.constructor)&&k!==C&&d(x=k.prototype)&&x!==C.prototype&&p(m,x),m}},3706:function(y,v,s){var u=s(9504),d=s(4901),p=s(7629),m=u(Function.toString);d(p.inspectSource)||(p.inspectSource=function(S){return m(S)}),y.exports=p.inspectSource},1181:function(y,v,s){var u,d,p,m=s(8622),S=s(4576),C=s(34),k=s(6699),x=s(9297),D=s(7629),K=s(6119),P=s(421),F="Object already initialized",U=S.TypeError,B=S.WeakMap;if(m||D.state){var q=D.state||(D.state=new B);q.get=q.get,q.has=q.has,q.set=q.set,u=function(X,se){if(q.has(X))throw new U(F);return se.facade=X,q.set(X,se),se},d=function(X){return q.get(X)||{}},p=function(X){return q.has(X)}}else{var H=K("state");P[H]=!0,u=function(X,se){if(x(X,H))throw new U(F);return se.facade=X,k(X,H,se),se},d=function(X){return x(X,H)?X[H]:{}},p=function(X){return x(X,H)}}y.exports={set:u,get:d,has:p,enforce:function(X){return p(X)?d(X):u(X,{})},getterFor:function(X){return function(se){var ne;if(!C(se)||(ne=d(se)).type!==X)throw new U("Incompatible receiver, "+X+" required");return ne}}}},4209:function(y,v,s){var u=s(8227),d=s(6269),p=u("iterator"),m=Array.prototype;y.exports=function(S){return S!==void 0&&(d.Array===S||m[p]===S)}},4376:function(y,v,s){var u=s(2195);y.exports=Array.isArray||function(d){return u(d)==="Array"}},4901:function(y){var v=typeof document=="object"&&document.all;y.exports=v===void 0&&v!==void 0?function(s){return typeof s=="function"||s===v}:function(s){return typeof s=="function"}},3517:function(y,v,s){var u=s(9504),d=s(9039),p=s(4901),m=s(6955),S=s(7751),C=s(3706),k=function(){},x=S("Reflect","construct"),D=/^\s*(?:class|function)\b/,K=u(D.exec),P=!D.test(k),F=function(B){if(!p(B))return!1;try{return x(k,[],B),!0}catch{return!1}},U=function(B){if(!p(B))return!1;switch(m(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return P||!!K(D,C(B))}catch{return!0}};U.sham=!0,y.exports=!x||d(function(){var B;return F(F.call)||!F(Object)||!F(function(){B=!0})||B})?U:F},2796:function(y,v,s){var u=s(9039),d=s(4901),p=/#|\.prototype\./,m=function(D,K){var P=C[S(D)];return P===x||P!==k&&(d(K)?u(K):!!K)},S=m.normalize=function(D){return String(D).replace(p,".").toLowerCase()},C=m.data={},k=m.NATIVE="N",x=m.POLYFILL="P";y.exports=m},2087:function(y,v,s){var u=s(34),d=Math.floor;y.exports=Number.isInteger||function(p){return!u(p)&&isFinite(p)&&d(p)===p}},4117:function(y){y.exports=function(v){return v==null}},34:function(y,v,s){var u=s(4901);y.exports=function(d){return typeof d=="object"?d!==null:u(d)}},3925:function(y,v,s){var u=s(34);y.exports=function(d){return u(d)||d===null}},6395:function(y){y.exports=!1},788:function(y,v,s){var u=s(34),d=s(2195),p=s(8227)("match");y.exports=function(m){var S;return u(m)&&((S=m[p])!==void 0?!!S:d(m)==="RegExp")}},757:function(y,v,s){var u=s(7751),d=s(4901),p=s(1625),m=s(7040),S=Object;y.exports=m?function(C){return typeof C=="symbol"}:function(C){var k=u("Symbol");return d(k)&&p(k.prototype,S(C))}},9539:function(y,v,s){var u=s(9565),d=s(8551),p=s(5966);y.exports=function(m,S,C){var k,x;d(m);try{if(!(k=p(m,"return"))){if(S==="throw")throw C;return C}k=u(k,m)}catch(D){x=!0,k=D}if(S==="throw")throw C;if(x)throw k;return d(k),C}},3994:function(y,v,s){var u=s(7657).IteratorPrototype,d=s(2360),p=s(6980),m=s(687),S=s(6269),C=function(){return this};y.exports=function(k,x,D,K){var P=x+" Iterator";return k.prototype=d(u,{next:p(+!K,D)}),m(k,P,!1,!0),S[P]=C,k}},1088:function(y,v,s){var u=s(6518),d=s(9565),p=s(6395),m=s(350),S=s(4901),C=s(3994),k=s(2787),x=s(2967),D=s(687),K=s(6699),P=s(6840),F=s(8227),U=s(6269),B=s(7657),q=m.PROPER,H=m.CONFIGURABLE,X=B.IteratorPrototype,se=B.BUGGY_SAFARI_ITERATORS,ne=F("iterator"),ue="keys",ae="values",oe="entries",me=function(){return this};y.exports=function(ye,le,Te,ve,xe,Le,Ie){C(Te,le,ve);var _e,Re,Ne,Fe=function(He){if(He===xe&&be)return be;if(!se&&He&&He in Ee)return Ee[He];switch(He){case ue:case ae:case oe:return function(){return new Te(this,He)}}return function(){return new Te(this)}},Ae=le+" Iterator",Pe=!1,Ee=ye.prototype,Ce=Ee[ne]||Ee["@@iterator"]||xe&&Ee[xe],be=!se&&Ce||Fe(xe),$e=le==="Array"&&Ee.entries||Ce;if($e&&(_e=k($e.call(new ye)))!==Object.prototype&&_e.next&&(p||k(_e)===X||(x?x(_e,X):S(_e[ne])||P(_e,ne,me)),D(_e,Ae,!0,!0),p&&(U[Ae]=me)),q&&xe===ae&&Ce&&Ce.name!==ae&&(!p&&H?K(Ee,"name",ae):(Pe=!0,be=function(){return d(Ce,this)})),xe)if(Re={values:Fe(ae),keys:Le?be:Fe(ue),entries:Fe(oe)},Ie)for(Ne in Re)(se||Pe||!(Ne in Ee))&&P(Ee,Ne,Re[Ne]);else u({target:le,proto:!0,forced:se||Pe},Re);return p&&!Ie||Ee[ne]===be||P(Ee,ne,be,{name:xe}),U[le]=be,Re}},7657:function(y,v,s){var u,d,p,m=s(9039),S=s(4901),C=s(34),k=s(2360),x=s(2787),D=s(6840),K=s(8227),P=s(6395),F=K("iterator"),U=!1;[].keys&&("next"in(p=[].keys())?(d=x(x(p)))!==Object.prototype&&(u=d):U=!0),!C(u)||m(function(){var B={};return u[F].call(B)!==B})?u={}:P&&(u=k(u)),S(u[F])||D(u,F,function(){return this}),y.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:U}},6269:function(y){y.exports={}},6198:function(y,v,s){var u=s(8014);y.exports=function(d){return u(d.length)}},283:function(y,v,s){var u=s(9504),d=s(9039),p=s(4901),m=s(9297),S=s(3724),C=s(350).CONFIGURABLE,k=s(3706),x=s(1181),D=x.enforce,K=x.get,P=String,F=Object.defineProperty,U=u("".slice),B=u("".replace),q=u([].join),H=S&&!d(function(){return F(function(){},"length",{value:8}).length!==8}),X=String(String).split("String"),se=y.exports=function(ne,ue,ae){U(P(ue),0,7)==="Symbol("&&(ue="["+B(P(ue),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ae&&ae.getter&&(ue="get "+ue),ae&&ae.setter&&(ue="set "+ue),(!m(ne,"name")||C&&ne.name!==ue)&&(S?F(ne,"name",{value:ue,configurable:!0}):ne.name=ue),H&&ae&&m(ae,"arity")&&ne.length!==ae.arity&&F(ne,"length",{value:ae.arity});try{ae&&m(ae,"constructor")&&ae.constructor?S&&F(ne,"prototype",{writable:!1}):ne.prototype&&(ne.prototype=void 0)}catch{}var oe=D(ne);return m(oe,"source")||(oe.source=q(X,typeof ue=="string"?ue:"")),ne};Function.prototype.toString=se(function(){return p(this)&&K(this).source||k(this)},"toString")},741:function(y){var v=Math.ceil,s=Math.floor;y.exports=Math.trunc||function(u){var d=+u;return(d>0?s:v)(d)}},5749:function(y,v,s){var u=s(788),d=TypeError;y.exports=function(p){if(u(p))throw new d("The method doesn't accept regular expressions");return p}},4213:function(y,v,s){var u=s(3724),d=s(9504),p=s(9565),m=s(9039),S=s(1072),C=s(3717),k=s(8773),x=s(8981),D=s(7055),K=Object.assign,P=Object.defineProperty,F=d([].concat);y.exports=!K||m(function(){if(u&&K({b:1},K(P({},"a",{enumerable:!0,get:function(){P(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},B={},q=Symbol("assign detection"),H="abcdefghijklmnopqrst";return U[q]=7,H.split("").forEach(function(X){B[X]=X}),K({},U)[q]!==7||S(K({},B)).join("")!==H})?function(U,B){for(var q=x(U),H=arguments.length,X=1,se=C.f,ne=k.f;H>X;)for(var ue,ae=D(arguments[X++]),oe=se?F(S(ae),se(ae)):S(ae),me=oe.length,ye=0;me>ye;)ue=oe[ye++],u&&!p(ne,ae,ue)||(q[ue]=ae[ue]);return q}:K},2360:function(y,v,s){var u,d=s(8551),p=s(6801),m=s(8727),S=s(421),C=s(397),k=s(4055),x=s(6119),D="prototype",K="script",P=x("IE_PROTO"),F=function(){},U=function(H){return"<"+K+">"+H+"</"+K+">"},B=function(H){H.write(U("")),H.close();var X=H.parentWindow.Object;return H=null,X},q=function(){try{u=new ActiveXObject("htmlfile")}catch{}var H,X,se;q=typeof document<"u"?document.domain&&u?B(u):(X=k("iframe"),se="java"+K+":",X.style.display="none",C.appendChild(X),X.src=String(se),(H=X.contentWindow.document).open(),H.write(U("document.F=Object")),H.close(),H.F):B(u);for(var ne=m.length;ne--;)delete q[D][m[ne]];return q()};S[P]=!0,y.exports=Object.create||function(H,X){var se;return H!==null?(F[D]=d(H),se=new F,F[D]=null,se[P]=H):se=q(),X===void 0?se:p.f(se,X)}},6801:function(y,v,s){var u=s(3724),d=s(8686),p=s(4913),m=s(8551),S=s(5397),C=s(1072);v.f=u&&!d?Object.defineProperties:function(k,x){m(k);for(var D,K=S(x),P=C(x),F=P.length,U=0;F>U;)p.f(k,D=P[U++],K[D]);return k}},4913:function(y,v,s){var u=s(3724),d=s(5917),p=s(8686),m=s(8551),S=s(6969),C=TypeError,k=Object.defineProperty,x=Object.getOwnPropertyDescriptor,D="enumerable",K="configurable",P="writable";v.f=u?p?function(F,U,B){if(m(F),U=S(U),m(B),typeof F=="function"&&U==="prototype"&&"value"in B&&P in B&&!B[P]){var q=x(F,U);q&&q[P]&&(F[U]=B.value,B={configurable:K in B?B[K]:q[K],enumerable:D in B?B[D]:q[D],writable:!1})}return k(F,U,B)}:k:function(F,U,B){if(m(F),U=S(U),m(B),d)try{return k(F,U,B)}catch{}if("get"in B||"set"in B)throw new C("Accessors not supported");return"value"in B&&(F[U]=B.value),F}},7347:function(y,v,s){var u=s(3724),d=s(9565),p=s(8773),m=s(6980),S=s(5397),C=s(6969),k=s(9297),x=s(5917),D=Object.getOwnPropertyDescriptor;v.f=u?D:function(K,P){if(K=S(K),P=C(P),x)try{return D(K,P)}catch{}if(k(K,P))return m(!d(p.f,K,P),K[P])}},298:function(y,v,s){var u=s(2195),d=s(5397),p=s(8480).f,m=s(7680),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];y.exports.f=function(C){return S&&u(C)==="Window"?function(k){try{return p(k)}catch{return m(S)}}(C):p(d(C))}},8480:function(y,v,s){var u=s(1828),d=s(8727).concat("length","prototype");v.f=Object.getOwnPropertyNames||function(p){return u(p,d)}},3717:function(y,v){v.f=Object.getOwnPropertySymbols},2787:function(y,v,s){var u=s(9297),d=s(4901),p=s(8981),m=s(6119),S=s(2211),C=m("IE_PROTO"),k=Object,x=k.prototype;y.exports=S?k.getPrototypeOf:function(D){var K=p(D);if(u(K,C))return K[C];var P=K.constructor;return d(P)&&K instanceof P?P.prototype:K instanceof k?x:null}},1625:function(y,v,s){var u=s(9504);y.exports=u({}.isPrototypeOf)},1828:function(y,v,s){var u=s(9504),d=s(9297),p=s(5397),m=s(9617).indexOf,S=s(421),C=u([].push);y.exports=function(k,x){var D,K=p(k),P=0,F=[];for(D in K)!d(S,D)&&d(K,D)&&C(F,D);for(;x.length>P;)d(K,D=x[P++])&&(~m(F,D)||C(F,D));return F}},1072:function(y,v,s){var u=s(1828),d=s(8727);y.exports=Object.keys||function(p){return u(p,d)}},8773:function(y,v){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!s.call({1:2},1);v.f=d?function(p){var m=u(this,p);return!!m&&m.enumerable}:s},2551:function(y,v,s){var u=s(6395),d=s(4576),p=s(9039),m=s(3607);y.exports=u||!p(function(){if(!(m&&m<535)){var S=Math.random();__defineSetter__.call(null,S,function(){}),delete d[S]}})},2967:function(y,v,s){var u=s(6706),d=s(34),p=s(7750),m=s(3506);y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var S,C=!1,k={};try{(S=u(Object.prototype,"__proto__","set"))(k,[]),C=k instanceof Array}catch{}return function(x,D){return p(x),m(D),d(x)&&(C?S(x,D):x.__proto__=D),x}}():void 0)},3179:function(y,v,s){var u=s(2140),d=s(6955);y.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},4270:function(y,v,s){var u=s(9565),d=s(4901),p=s(34),m=TypeError;y.exports=function(S,C){var k,x;if(C==="string"&&d(k=S.toString)&&!p(x=u(k,S))||d(k=S.valueOf)&&!p(x=u(k,S))||C!=="string"&&d(k=S.toString)&&!p(x=u(k,S)))return x;throw new m("Can't convert object to primitive value")}},5031:function(y,v,s){var u=s(7751),d=s(9504),p=s(8480),m=s(3717),S=s(8551),C=d([].concat);y.exports=u("Reflect","ownKeys")||function(k){var x=p.f(S(k)),D=m.f;return D?C(x,D(k)):x}},9167:function(y,v,s){var u=s(4576);y.exports=u},1056:function(y,v,s){var u=s(4913).f;y.exports=function(d,p,m){m in d||u(d,m,{configurable:!0,get:function(){return p[m]},set:function(S){p[m]=S}})}},6682:function(y,v,s){var u=s(9565),d=s(8551),p=s(4901),m=s(2195),S=s(7323),C=TypeError;y.exports=function(k,x){var D=k.exec;if(p(D)){var K=u(D,k,x);return K!==null&&d(K),K}if(m(k)==="RegExp")return u(S,k,x);throw new C("RegExp#exec called on incompatible receiver")}},7323:function(y,v,s){var u,d,p=s(9565),m=s(9504),S=s(655),C=s(7979),k=s(8429),x=s(5745),D=s(2360),K=s(1181).get,P=s(3635),F=s(8814),U=x("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,q=B,H=m("".charAt),X=m("".indexOf),se=m("".replace),ne=m("".slice),ue=(d=/b*/g,p(B,u=/a/,"a"),p(B,d,"a"),u.lastIndex!==0||d.lastIndex!==0),ae=k.BROKEN_CARET,oe=/()??/.exec("")[1]!==void 0;(ue||oe||ae||P||F)&&(q=function(me){var ye,le,Te,ve,xe,Le,Ie,_e=this,Re=K(_e),Ne=S(me),Fe=Re.raw;if(Fe)return Fe.lastIndex=_e.lastIndex,ye=p(q,Fe,Ne),_e.lastIndex=Fe.lastIndex,ye;var Ae=Re.groups,Pe=ae&&_e.sticky,Ee=p(C,_e),Ce=_e.source,be=0,$e=Ne;if(Pe&&(Ee=se(Ee,"y",""),X(Ee,"g")===-1&&(Ee+="g"),$e=ne(Ne,_e.lastIndex),_e.lastIndex>0&&(!_e.multiline||_e.multiline&&H(Ne,_e.lastIndex-1)!==`
`)&&(Ce="(?: "+Ce+")",$e=" "+$e,be++),le=new RegExp("^(?:"+Ce+")",Ee)),oe&&(le=new RegExp("^"+Ce+"$(?!\\s)",Ee)),ue&&(Te=_e.lastIndex),ve=p(B,Pe?le:_e,$e),Pe?ve?(ve.input=ne(ve.input,be),ve[0]=ne(ve[0],be),ve.index=_e.lastIndex,_e.lastIndex+=ve[0].length):_e.lastIndex=0:ue&&ve&&(_e.lastIndex=_e.global?ve.index+ve[0].length:Te),oe&&ve&&ve.length>1&&p(U,ve[0],le,function(){for(xe=1;xe<arguments.length-2;xe++)arguments[xe]===void 0&&(ve[xe]=void 0)}),ve&&Ae)for(ve.groups=Le=D(null),xe=0;xe<Ae.length;xe++)Le[(Ie=Ae[xe])[0]]=ve[Ie[1]];return ve}),y.exports=q},7979:function(y,v,s){var u=s(8551);y.exports=function(){var d=u(this),p="";return d.hasIndices&&(p+="d"),d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),d.dotAll&&(p+="s"),d.unicode&&(p+="u"),d.unicodeSets&&(p+="v"),d.sticky&&(p+="y"),p}},1034:function(y,v,s){var u=s(9565),d=s(9297),p=s(1625),m=s(7979),S=RegExp.prototype;y.exports=function(C){var k=C.flags;return k!==void 0||"flags"in S||d(C,"flags")||!p(S,C)?k:u(m,C)}},8429:function(y,v,s){var u=s(9039),d=s(4576).RegExp,p=u(function(){var C=d("a","y");return C.lastIndex=2,C.exec("abcd")!==null}),m=p||u(function(){return!d("a","y").sticky}),S=p||u(function(){var C=d("^r","gy");return C.lastIndex=2,C.exec("str")!==null});y.exports={BROKEN_CARET:S,MISSED_STICKY:m,UNSUPPORTED_Y:p}},3635:function(y,v,s){var u=s(9039),d=s(4576).RegExp;y.exports=u(function(){var p=d(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})},8814:function(y,v,s){var u=s(9039),d=s(4576).RegExp;y.exports=u(function(){var p=d("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})},7750:function(y,v,s){var u=s(4117),d=TypeError;y.exports=function(p){if(u(p))throw new d("Can't call method on "+p);return p}},7633:function(y,v,s){var u=s(7751),d=s(2106),p=s(8227),m=s(3724),S=p("species");y.exports=function(C){var k=u(C);m&&k&&!k[S]&&d(k,S,{configurable:!0,get:function(){return this}})}},687:function(y,v,s){var u=s(4913).f,d=s(9297),p=s(8227)("toStringTag");y.exports=function(m,S,C){m&&!C&&(m=m.prototype),m&&!d(m,p)&&u(m,p,{configurable:!0,value:S})}},6119:function(y,v,s){var u=s(5745),d=s(3392),p=u("keys");y.exports=function(m){return p[m]||(p[m]=d(m))}},7629:function(y,v,s){var u=s(6395),d=s(4576),p=s(9433),m="__core-js_shared__",S=y.exports=d[m]||p(m,{});(S.versions||(S.versions=[])).push({version:"3.39.0",mode:u?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(y,v,s){var u=s(7629);y.exports=function(d,p){return u[d]||(u[d]=p||{})}},2293:function(y,v,s){var u=s(8551),d=s(5548),p=s(4117),m=s(8227)("species");y.exports=function(S,C){var k,x=u(S).constructor;return x===void 0||p(k=u(x)[m])?C:d(k)}},8183:function(y,v,s){var u=s(9504),d=s(1291),p=s(655),m=s(7750),S=u("".charAt),C=u("".charCodeAt),k=u("".slice),x=function(D){return function(K,P){var F,U,B=p(m(K)),q=d(P),H=B.length;return q<0||q>=H?D?"":void 0:(F=C(B,q))<55296||F>56319||q+1===H||(U=C(B,q+1))<56320||U>57343?D?S(B,q):F:D?k(B,q,q+2):U-56320+(F-55296<<10)+65536}};y.exports={codeAt:x(!1),charAt:x(!0)}},706:function(y,v,s){var u=s(350).PROPER,d=s(9039),p=s(7452);y.exports=function(m){return d(function(){return!!p[m]()||""[m]()!==""||u&&p[m].name!==m})}},3802:function(y,v,s){var u=s(9504),d=s(7750),p=s(655),m=s(7452),S=u("".replace),C=RegExp("^["+m+"]+"),k=RegExp("(^|[^"+m+"])["+m+"]+$"),x=function(D){return function(K){var P=p(d(K));return 1&D&&(P=S(P,C,"")),2&D&&(P=S(P,k,"$1")),P}};y.exports={start:x(1),end:x(2),trim:x(3)}},4495:function(y,v,s){var u=s(9519),d=s(9039),p=s(4576).String;y.exports=!!Object.getOwnPropertySymbols&&!d(function(){var m=Symbol("symbol detection");return!p(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8242:function(y,v,s){var u=s(9565),d=s(7751),p=s(8227),m=s(6840);y.exports=function(){var S=d("Symbol"),C=S&&S.prototype,k=C&&C.valueOf,x=p("toPrimitive");C&&!C[x]&&m(C,x,function(D){return u(k,this)},{arity:1})}},1296:function(y,v,s){var u=s(4495);y.exports=u&&!!Symbol.for&&!!Symbol.keyFor},1240:function(y,v,s){var u=s(9504);y.exports=u(1 .valueOf)},5610:function(y,v,s){var u=s(1291),d=Math.max,p=Math.min;y.exports=function(m,S){var C=u(m);return C<0?d(C+S,0):p(C,S)}},5397:function(y,v,s){var u=s(7055),d=s(7750);y.exports=function(p){return u(d(p))}},1291:function(y,v,s){var u=s(741);y.exports=function(d){var p=+d;return p!=p||p===0?0:u(p)}},8014:function(y,v,s){var u=s(1291),d=Math.min;y.exports=function(p){var m=u(p);return m>0?d(m,9007199254740991):0}},8981:function(y,v,s){var u=s(7750),d=Object;y.exports=function(p){return d(u(p))}},2777:function(y,v,s){var u=s(9565),d=s(34),p=s(757),m=s(5966),S=s(4270),C=s(8227),k=TypeError,x=C("toPrimitive");y.exports=function(D,K){if(!d(D)||p(D))return D;var P,F=m(D,x);if(F){if(K===void 0&&(K="default"),P=u(F,D,K),!d(P)||p(P))return P;throw new k("Can't convert object to primitive value")}return K===void 0&&(K="number"),S(D,K)}},6969:function(y,v,s){var u=s(2777),d=s(757);y.exports=function(p){var m=u(p,"string");return d(m)?m:m+""}},2140:function(y,v,s){var u={};u[s(8227)("toStringTag")]="z",y.exports=String(u)==="[object z]"},655:function(y,v,s){var u=s(6955),d=String;y.exports=function(p){if(u(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(p)}},6823:function(y){var v=String;y.exports=function(s){try{return v(s)}catch{return"Object"}}},3392:function(y,v,s){var u=s(9504),d=0,p=Math.random(),m=u(1 .toString);y.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+m(++d+p,36)}},7040:function(y,v,s){var u=s(4495);y.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(y,v,s){var u=s(3724),d=s(9039);y.exports=u&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8622:function(y,v,s){var u=s(4576),d=s(4901),p=u.WeakMap;y.exports=d(p)&&/native code/.test(String(p))},511:function(y,v,s){var u=s(9167),d=s(9297),p=s(1951),m=s(4913).f;y.exports=function(S){var C=u.Symbol||(u.Symbol={});d(C,S)||m(C,S,{value:p.f(S)})}},1951:function(y,v,s){var u=s(8227);v.f=u},8227:function(y,v,s){var u=s(4576),d=s(5745),p=s(9297),m=s(3392),S=s(4495),C=s(7040),k=u.Symbol,x=d("wks"),D=C?k.for||k:k&&k.withoutSetter||m;y.exports=function(K){return p(x,K)||(x[K]=S&&p(k,K)?k[K]:D("Symbol."+K)),x[K]}},7452:function(y){y.exports=`	
\v\f\r \u2028\u2029\uFEFF`},8706:function(y,v,s){var u=s(6518),d=s(9039),p=s(4376),m=s(34),S=s(8981),C=s(6198),k=s(6837),x=s(4659),D=s(1469),K=s(597),P=s(8227),F=s(9519),U=P("isConcatSpreadable"),B=F>=51||!d(function(){var H=[];return H[U]=!1,H.concat()[0]!==H}),q=function(H){if(!m(H))return!1;var X=H[U];return X!==void 0?!!X:p(H)};u({target:"Array",proto:!0,arity:1,forced:!B||!K("concat")},{concat:function(H){var X,se,ne,ue,ae,oe=S(this),me=D(oe,0),ye=0;for(X=-1,ne=arguments.length;X<ne;X++)if(q(ae=X===-1?oe:arguments[X]))for(ue=C(ae),k(ye+ue),se=0;se<ue;se++,ye++)se in ae&&x(me,ye,ae[se]);else k(ye+1),x(me,ye++,ae);return me.length=ye,me}})},2008:function(y,v,s){var u=s(6518),d=s(9213).filter;u({target:"Array",proto:!0,forced:!s(597)("filter")},{filter:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}})},3418:function(y,v,s){var u=s(6518),d=s(7916);u({target:"Array",stat:!0,forced:!s(4428)(function(p){Array.from(p)})},{from:d})},4423:function(y,v,s){var u=s(6518),d=s(9617).includes,p=s(9039),m=s(6469);u({target:"Array",proto:!0,forced:p(function(){return!Array(1).includes()})},{includes:function(S){return d(this,S,arguments.length>1?arguments[1]:void 0)}}),m("includes")},5276:function(y,v,s){var u=s(6518),d=s(7476),p=s(9617).indexOf,m=s(4598),S=d([].indexOf),C=!!S&&1/S([1],1,-0)<0;u({target:"Array",proto:!0,forced:C||!m("indexOf")},{indexOf:function(k){var x=arguments.length>1?arguments[1]:void 0;return C?S(this,k,x)||0:p(this,k,x)}})},3792:function(y,v,s){var u=s(5397),d=s(6469),p=s(6269),m=s(1181),S=s(4913).f,C=s(1088),k=s(2529),x=s(6395),D=s(3724),K="Array Iterator",P=m.set,F=m.getterFor(K);y.exports=C(Array,"Array",function(B,q){P(this,{type:K,target:u(B),index:0,kind:q})},function(){var B=F(this),q=B.target,H=B.index++;if(!q||H>=q.length)return B.target=null,k(void 0,!0);switch(B.kind){case"keys":return k(H,!1);case"values":return k(q[H],!1)}return k([H,q[H]],!1)},"values");var U=p.Arguments=p.Array;if(d("keys"),d("values"),d("entries"),!x&&D&&U.name!=="values")try{S(U,"name",{value:"values"})}catch{}},8598:function(y,v,s){var u=s(6518),d=s(9504),p=s(7055),m=s(5397),S=s(4598),C=d([].join);u({target:"Array",proto:!0,forced:p!==Object||!S("join",",")},{join:function(k){return C(m(this),k===void 0?",":k)}})},2062:function(y,v,s){var u=s(6518),d=s(9213).map;u({target:"Array",proto:!0,forced:!s(597)("map")},{map:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}})},2712:function(y,v,s){var u=s(6518),d=s(926).left,p=s(4598),m=s(9519);u({target:"Array",proto:!0,forced:!s(6193)&&m>79&&m<83||!p("reduce")},{reduce:function(S){var C=arguments.length;return d(this,S,C,C>1?arguments[1]:void 0)}})},4782:function(y,v,s){var u=s(6518),d=s(4376),p=s(3517),m=s(34),S=s(5610),C=s(6198),k=s(5397),x=s(4659),D=s(8227),K=s(597),P=s(7680),F=K("slice"),U=D("species"),B=Array,q=Math.max;u({target:"Array",proto:!0,forced:!F},{slice:function(H,X){var se,ne,ue,ae=k(this),oe=C(ae),me=S(H,oe),ye=S(X===void 0?oe:X,oe);if(d(ae)&&(se=ae.constructor,(p(se)&&(se===B||d(se.prototype))||m(se)&&(se=se[U])===null)&&(se=void 0),se===B||se===void 0))return P(ae,me,ye);for(ne=new(se===void 0?B:se)(q(ye-me,0)),ue=0;me<ye;me++,ue++)me in ae&&x(ne,ue,ae[me]);return ne.length=ue,ne}})},6910:function(y,v,s){var u=s(6518),d=s(9504),p=s(9306),m=s(8981),S=s(6198),C=s(4606),k=s(655),x=s(9039),D=s(4488),K=s(4598),P=s(3709),F=s(3763),U=s(9519),B=s(3607),q=[],H=d(q.sort),X=d(q.push),se=x(function(){q.sort(void 0)}),ne=x(function(){q.sort(null)}),ue=K("sort"),ae=!x(function(){if(U)return U<70;if(!(P&&P>3)){if(F)return!0;if(B)return B<603;var oe,me,ye,le,Te="";for(oe=65;oe<76;oe++){switch(me=String.fromCharCode(oe),oe){case 66:case 69:case 70:case 72:ye=3;break;case 68:case 71:ye=4;break;default:ye=2}for(le=0;le<47;le++)q.push({k:me+le,v:ye})}for(q.sort(function(ve,xe){return xe.v-ve.v}),le=0;le<q.length;le++)me=q[le].k.charAt(0),Te.charAt(Te.length-1)!==me&&(Te+=me);return Te!=="DGBEFHACIJK"}});u({target:"Array",proto:!0,forced:se||!ne||!ue||!ae},{sort:function(oe){oe!==void 0&&p(oe);var me=m(this);if(ae)return oe===void 0?H(me):H(me,oe);var ye,le,Te=[],ve=S(me);for(le=0;le<ve;le++)le in me&&X(Te,me[le]);for(D(Te,function(xe){return function(Le,Ie){return Ie===void 0?-1:Le===void 0?1:xe!==void 0?+xe(Le,Ie)||0:k(Le)>k(Ie)?1:-1}}(oe)),ye=S(Te),le=0;le<ye;)me[le]=Te[le++];for(;le<ve;)C(me,le++);return me}})},4554:function(y,v,s){var u=s(6518),d=s(8981),p=s(5610),m=s(1291),S=s(6198),C=s(4527),k=s(6837),x=s(1469),D=s(4659),K=s(4606),P=s(597)("splice"),F=Math.max,U=Math.min;u({target:"Array",proto:!0,forced:!P},{splice:function(B,q){var H,X,se,ne,ue,ae,oe=d(this),me=S(oe),ye=p(B,me),le=arguments.length;for(le===0?H=X=0:le===1?(H=0,X=me-ye):(H=le-2,X=U(F(m(q),0),me-ye)),k(me+H-X),se=x(oe,X),ne=0;ne<X;ne++)(ue=ye+ne)in oe&&D(se,ne,oe[ue]);if(se.length=X,H<X){for(ne=ye;ne<me-X;ne++)ae=ne+H,(ue=ne+X)in oe?oe[ae]=oe[ue]:K(oe,ae);for(ne=me;ne>me-X+H;ne--)K(oe,ne-1)}else if(H>X)for(ne=me-X;ne>ye;ne--)ae=ne+H-1,(ue=ne+X-1)in oe?oe[ae]=oe[ue]:K(oe,ae);for(ne=0;ne<H;ne++)oe[ne+ye]=arguments[ne+2];return C(oe,me-X+H),se}})},739:function(y,v,s){var u=s(6518),d=s(9039),p=s(8981),m=s(2777);u({target:"Date",proto:!0,arity:1,forced:d(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(S){var C=p(this),k=m(C,"number");return typeof k!="number"||isFinite(k)?C.toISOString():null}})},9572:function(y,v,s){var u=s(9297),d=s(6840),p=s(3640),m=s(8227)("toPrimitive"),S=Date.prototype;u(S,m)||d(S,m,p)},2010:function(y,v,s){var u=s(3724),d=s(350).EXISTS,p=s(9504),m=s(2106),S=Function.prototype,C=p(S.toString),k=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,x=p(k.exec);u&&!d&&m(S,"name",{configurable:!0,get:function(){try{return x(k,C(this))[1]}catch{return""}}})},3110:function(y,v,s){var u=s(6518),d=s(7751),p=s(8745),m=s(9565),S=s(9504),C=s(9039),k=s(4901),x=s(757),D=s(7680),K=s(6933),P=s(4495),F=String,U=d("JSON","stringify"),B=S(/./.exec),q=S("".charAt),H=S("".charCodeAt),X=S("".replace),se=S(1 .toString),ne=/[\uD800-\uDFFF]/g,ue=/^[\uD800-\uDBFF]$/,ae=/^[\uDC00-\uDFFF]$/,oe=!P||C(function(){var Te=d("Symbol")("stringify detection");return U([Te])!=="[null]"||U({a:Te})!=="{}"||U(Object(Te))!=="{}"}),me=C(function(){return U("\uDF06\uD834")!=='"\\udf06\\ud834"'||U("\uDEAD")!=='"\\udead"'}),ye=function(Te,ve){var xe=D(arguments),Le=K(ve);if(k(Le)||Te!==void 0&&!x(Te))return xe[1]=function(Ie,_e){if(k(Le)&&(_e=m(Le,this,F(Ie),_e)),!x(_e))return _e},p(U,null,xe)},le=function(Te,ve,xe){var Le=q(xe,ve-1),Ie=q(xe,ve+1);return B(ue,Te)&&!B(ae,Ie)||B(ae,Te)&&!B(ue,Le)?"\\u"+se(H(Te,0),16):Te};U&&u({target:"JSON",stat:!0,arity:3,forced:oe||me},{stringify:function(Te,ve,xe){var Le=D(arguments),Ie=p(oe?ye:U,null,Le);return me&&typeof Ie=="string"?X(Ie,ne,le):Ie}})},2892:function(y,v,s){var u=s(6518),d=s(6395),p=s(3724),m=s(4576),S=s(9167),C=s(9504),k=s(2796),x=s(9297),D=s(3167),K=s(1625),P=s(757),F=s(2777),U=s(9039),B=s(8480).f,q=s(7347).f,H=s(4913).f,X=s(1240),se=s(3802).trim,ne="Number",ue=m[ne],ae=S[ne],oe=ue.prototype,me=m.TypeError,ye=C("".slice),le=C("".charCodeAt),Te=function(Ie){var _e,Re,Ne,Fe,Ae,Pe,Ee,Ce,be=F(Ie,"number");if(P(be))throw new me("Cannot convert a Symbol value to a number");if(typeof be=="string"&&be.length>2){if(be=se(be),(_e=le(be,0))===43||_e===45){if((Re=le(be,2))===88||Re===120)return NaN}else if(_e===48){switch(le(be,1)){case 66:case 98:Ne=2,Fe=49;break;case 79:case 111:Ne=8,Fe=55;break;default:return+be}for(Pe=(Ae=ye(be,2)).length,Ee=0;Ee<Pe;Ee++)if((Ce=le(Ae,Ee))<48||Ce>Fe)return NaN;return parseInt(Ae,Ne)}}return+be},ve=k(ne,!ue(" 0o1")||!ue("0b1")||ue("+0x1")),xe=function(Ie){var _e,Re=arguments.length<1?0:ue(function(Ne){var Fe=F(Ne,"number");return typeof Fe=="bigint"?Fe:Te(Fe)}(Ie));return K(oe,_e=this)&&U(function(){X(_e)})?D(Object(Re),this,xe):Re};xe.prototype=oe,ve&&!d&&(oe.constructor=xe),u({global:!0,constructor:!0,wrap:!0,forced:ve},{Number:xe});var Le=function(Ie,_e){for(var Re,Ne=p?B(_e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Fe=0;Ne.length>Fe;Fe++)x(_e,Re=Ne[Fe])&&!x(Ie,Re)&&H(Ie,Re,q(_e,Re))};d&&ae&&Le(S[ne],ae),(ve||d)&&Le(S[ne],ue)},2637:function(y,v,s){s(6518)({target:"Number",stat:!0},{isInteger:s(2087)})},9085:function(y,v,s){var u=s(6518),d=s(4213);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})},7427:function(y,v,s){var u=s(6518),d=s(3724),p=s(2551),m=s(9306),S=s(8981),C=s(4913);d&&u({target:"Object",proto:!0,forced:p},{__defineGetter__:function(k,x){C.f(S(this),k,{get:m(x),enumerable:!0,configurable:!0})}})},3851:function(y,v,s){var u=s(6518),d=s(9039),p=s(5397),m=s(7347).f,S=s(3724);u({target:"Object",stat:!0,forced:!S||d(function(){m(1)}),sham:!S},{getOwnPropertyDescriptor:function(C,k){return m(p(C),k)}})},1278:function(y,v,s){var u=s(6518),d=s(3724),p=s(5031),m=s(5397),S=s(7347),C=s(4659);u({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(k){for(var x,D,K=m(k),P=S.f,F=p(K),U={},B=0;F.length>B;)(D=P(K,x=F[B++]))!==void 0&&C(U,x,D);return U}})},1480:function(y,v,s){var u=s(6518),d=s(9039),p=s(298).f;u({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},9773:function(y,v,s){var u=s(6518),d=s(4495),p=s(9039),m=s(3717),S=s(8981);u({target:"Object",stat:!0,forced:!d||p(function(){m.f(1)})},{getOwnPropertySymbols:function(C){var k=m.f;return k?k(S(C)):[]}})},9432:function(y,v,s){var u=s(6518),d=s(8981),p=s(1072);u({target:"Object",stat:!0,forced:s(9039)(function(){p(1)})},{keys:function(m){return p(d(m))}})},6099:function(y,v,s){var u=s(2140),d=s(6840),p=s(3179);u||d(Object.prototype,"toString",p,{unsafe:!0})},4864:function(y,v,s){var u=s(3724),d=s(4576),p=s(9504),m=s(2796),S=s(3167),C=s(6699),k=s(2360),x=s(8480).f,D=s(1625),K=s(788),P=s(655),F=s(1034),U=s(8429),B=s(1056),q=s(6840),H=s(9039),X=s(9297),se=s(1181).enforce,ne=s(7633),ue=s(8227),ae=s(3635),oe=s(8814),me=ue("match"),ye=d.RegExp,le=ye.prototype,Te=d.SyntaxError,ve=p(le.exec),xe=p("".charAt),Le=p("".replace),Ie=p("".indexOf),_e=p("".slice),Re=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ne=/a/g,Fe=/a/g,Ae=new ye(Ne)!==Ne,Pe=U.MISSED_STICKY,Ee=U.UNSUPPORTED_Y;if(m("RegExp",u&&(!Ae||Pe||ae||oe||H(function(){return Fe[me]=!1,ye(Ne)!==Ne||ye(Fe)===Fe||String(ye(Ne,"i"))!=="/a/i"})))){for(var Ce=function(He,Je){var Tt,Gt,xn,Dn,Xn,fn,ar=D(le,this),pn=K(He),Vi=Je===void 0,Ro=[],br=He;if(!ar&&pn&&Vi&&He.constructor===Ce)return He;if((pn||D(le,He))&&(He=He.source,Vi&&(Je=F(br))),He=He===void 0?"":P(He),Je=Je===void 0?"":P(Je),br=He,ae&&"dotAll"in Ne&&(Gt=!!Je&&Ie(Je,"s")>-1)&&(Je=Le(Je,/s/g,"")),Tt=Je,Pe&&"sticky"in Ne&&(xn=!!Je&&Ie(Je,"y")>-1)&&Ee&&(Je=Le(Je,/y/g,"")),oe&&(Dn=function(wt){for(var ft,Bi=wt.length,Dt=0,Rn="",jn=[],jo=k(null),Nr=!1,Or=!1,Fo=0,lr="";Dt<=Bi;Dt++){if((ft=xe(wt,Dt))==="\\")ft+=xe(wt,++Dt);else if(ft==="]")Nr=!1;else if(!Nr)switch(!0){case ft==="[":Nr=!0;break;case ft==="(":if(Rn+=ft,_e(wt,Dt+1,Dt+3)==="?:")continue;ve(Re,_e(wt,Dt+1))&&(Dt+=2,Or=!0),Fo++;continue;case(ft===">"&&Or):if(lr===""||X(jo,lr))throw new Te("Invalid capture group name");jo[lr]=!0,jn[jn.length]=[lr,Fo],Or=!1,lr="";continue}Or?lr+=ft:Rn+=ft}return[Rn,jn]}(He),He=Dn[0],Ro=Dn[1]),Xn=S(ye(He,Je),ar?this:le,Ce),(Gt||xn||Ro.length)&&(fn=se(Xn),Gt&&(fn.dotAll=!0,fn.raw=Ce(function(wt){for(var ft,Bi=wt.length,Dt=0,Rn="",jn=!1;Dt<=Bi;Dt++)(ft=xe(wt,Dt))!=="\\"?jn||ft!=="."?(ft==="["?jn=!0:ft==="]"&&(jn=!1),Rn+=ft):Rn+="[\\s\\S]":Rn+=ft+xe(wt,++Dt);return Rn}(He),Tt)),xn&&(fn.sticky=!0),Ro.length&&(fn.groups=Ro)),He!==br)try{C(Xn,"source",br===""?"(?:)":br)}catch{}return Xn},be=x(ye),$e=0;be.length>$e;)B(Ce,ye,be[$e++]);le.constructor=Ce,Ce.prototype=le,q(d,"RegExp",Ce,{constructor:!0})}ne("RegExp")},7495:function(y,v,s){var u=s(6518),d=s(7323);u({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},8781:function(y,v,s){var u=s(350).PROPER,d=s(6840),p=s(8551),m=s(655),S=s(9039),C=s(1034),k="toString",x=RegExp.prototype,D=x[k],K=S(function(){return D.call({source:"a",flags:"b"})!=="/a/b"}),P=u&&D.name!==k;(K||P)&&d(x,k,function(){var F=p(this);return"/"+m(F.source)+"/"+m(C(F))},{unsafe:!0})},1699:function(y,v,s){var u=s(6518),d=s(9504),p=s(5749),m=s(7750),S=s(655),C=s(1436),k=d("".indexOf);u({target:"String",proto:!0,forced:!C("includes")},{includes:function(x){return!!~k(S(m(this)),S(p(x)),arguments.length>1?arguments[1]:void 0)}})},7764:function(y,v,s){var u=s(8183).charAt,d=s(655),p=s(1181),m=s(1088),S=s(2529),C="String Iterator",k=p.set,x=p.getterFor(C);m(String,"String",function(D){k(this,{type:C,string:d(D),index:0})},function(){var D,K=x(this),P=K.string,F=K.index;return F>=P.length?S(void 0,!0):(D=u(P,F),K.index+=D.length,S(D,!1))})},8543:function(y,v,s){var u=s(6518),d=s(9565),p=s(7476),m=s(3994),S=s(2529),C=s(7750),k=s(8014),x=s(655),D=s(8551),K=s(4117),P=s(2195),F=s(788),U=s(1034),B=s(5966),q=s(6840),H=s(9039),X=s(8227),se=s(2293),ne=s(7829),ue=s(6682),ae=s(1181),oe=s(6395),me=X("matchAll"),ye="RegExp String",le=ye+" Iterator",Te=ae.set,ve=ae.getterFor(le),xe=RegExp.prototype,Le=TypeError,Ie=p("".indexOf),_e=p("".matchAll),Re=!!_e&&!H(function(){_e("a",/./)}),Ne=m(function(Ae,Pe,Ee,Ce){Te(this,{type:le,regexp:Ae,string:Pe,global:Ee,unicode:Ce,done:!1})},ye,function(){var Ae=ve(this);if(Ae.done)return S(void 0,!0);var Pe=Ae.regexp,Ee=Ae.string,Ce=ue(Pe,Ee);return Ce===null?(Ae.done=!0,S(void 0,!0)):Ae.global?(x(Ce[0])===""&&(Pe.lastIndex=ne(Ee,k(Pe.lastIndex),Ae.unicode)),S(Ce,!1)):(Ae.done=!0,S(Ce,!1))}),Fe=function(Ae){var Pe,Ee,Ce,be=D(this),$e=x(Ae),He=se(be,RegExp),Je=x(U(be));return Pe=new He(He===RegExp?be.source:be,Je),Ee=!!~Ie(Je,"g"),Ce=!!~Ie(Je,"u"),Pe.lastIndex=k(be.lastIndex),new Ne(Pe,$e,Ee,Ce)};u({target:"String",proto:!0,forced:Re},{matchAll:function(Ae){var Pe,Ee,Ce,be,$e=C(this);if(K(Ae)){if(Re)return _e($e,Ae)}else{if(F(Ae)&&(Pe=x(C(U(Ae))),!~Ie(Pe,"g")))throw new Le("`.matchAll` does not allow non-global regexes");if(Re)return _e($e,Ae);if((Ce=B(Ae,me))===void 0&&oe&&P(Ae)==="RegExp"&&(Ce=Fe),Ce)return d(Ce,Ae,$e)}return Ee=x($e),be=new RegExp(Ae,"g"),oe?d(Fe,be,Ee):be[me](Ee)}}),oe||me in xe||q(xe,me,Fe)},1761:function(y,v,s){var u=s(9565),d=s(9228),p=s(8551),m=s(4117),S=s(8014),C=s(655),k=s(7750),x=s(5966),D=s(7829),K=s(6682);d("match",function(P,F,U){return[function(B){var q=k(this),H=m(B)?void 0:x(B,P);return H?u(H,B,q):new RegExp(B)[P](C(q))},function(B){var q=p(this),H=C(B),X=U(F,q,H);if(X.done)return X.value;if(!q.global)return K(q,H);var se=q.unicode;q.lastIndex=0;for(var ne,ue=[],ae=0;(ne=K(q,H))!==null;){var oe=C(ne[0]);ue[ae]=oe,oe===""&&(q.lastIndex=D(H,S(q.lastIndex),se)),ae++}return ae===0?null:ue}]})},5440:function(y,v,s){var u=s(8745),d=s(9565),p=s(9504),m=s(9228),S=s(9039),C=s(8551),k=s(4901),x=s(4117),D=s(1291),K=s(8014),P=s(655),F=s(7750),U=s(7829),B=s(5966),q=s(2478),H=s(6682),X=s(8227)("replace"),se=Math.max,ne=Math.min,ue=p([].concat),ae=p([].push),oe=p("".indexOf),me=p("".slice),ye="a".replace(/./,"$0")==="$0",le=!!/./[X]&&/./[X]("a","$0")==="";m("replace",function(Te,ve,xe){var Le=le?"$":"$0";return[function(Ie,_e){var Re=F(this),Ne=x(Ie)?void 0:B(Ie,X);return Ne?d(Ne,Ie,Re,_e):d(ve,P(Re),Ie,_e)},function(Ie,_e){var Re=C(this),Ne=P(Ie);if(typeof _e=="string"&&oe(_e,Le)===-1&&oe(_e,"$<")===-1){var Fe=xe(ve,Re,Ne,_e);if(Fe.done)return Fe.value}var Ae=k(_e);Ae||(_e=P(_e));var Pe,Ee=Re.global;Ee&&(Pe=Re.unicode,Re.lastIndex=0);for(var Ce,be=[];(Ce=H(Re,Ne))!==null&&(ae(be,Ce),Ee);)P(Ce[0])===""&&(Re.lastIndex=U(Ne,K(Re.lastIndex),Pe));for(var $e,He="",Je=0,Tt=0;Tt<be.length;Tt++){for(var Gt,xn=P((Ce=be[Tt])[0]),Dn=se(ne(D(Ce.index),Ne.length),0),Xn=[],fn=1;fn<Ce.length;fn++)ae(Xn,($e=Ce[fn])===void 0?$e:String($e));var ar=Ce.groups;if(Ae){var pn=ue([xn],Xn,Dn,Ne);ar!==void 0&&ae(pn,ar),Gt=P(u(_e,void 0,pn))}else Gt=q(xn,Ne,Dn,Xn,ar,_e);Dn>=Je&&(He+=me(Ne,Je,Dn)+Gt,Je=Dn+xn.length)}return He+me(Ne,Je)}]},!!S(function(){var Te=/./;return Te.exec=function(){var ve=[];return ve.groups={a:"7"},ve},"".replace(Te,"$<a>")!=="7"})||!ye||le)},744:function(y,v,s){var u=s(9565),d=s(9504),p=s(9228),m=s(8551),S=s(4117),C=s(7750),k=s(2293),x=s(7829),D=s(8014),K=s(655),P=s(5966),F=s(6682),U=s(8429),B=s(9039),q=U.UNSUPPORTED_Y,H=Math.min,X=d([].push),se=d("".slice),ne=!B(function(){var ae=/(?:)/,oe=ae.exec;ae.exec=function(){return oe.apply(this,arguments)};var me="ab".split(ae);return me.length!==2||me[0]!=="a"||me[1]!=="b"}),ue="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(ae,oe,me){var ye="0".split(void 0,0).length?function(le,Te){return le===void 0&&Te===0?[]:u(oe,this,le,Te)}:oe;return[function(le,Te){var ve=C(this),xe=S(le)?void 0:P(le,ae);return xe?u(xe,le,ve,Te):u(ye,K(ve),le,Te)},function(le,Te){var ve=m(this),xe=K(le);if(!ue){var Le=me(ye,ve,xe,Te,ye!==oe);if(Le.done)return Le.value}var Ie=k(ve,RegExp),_e=ve.unicode,Re=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+(q?"g":"y"),Ne=new Ie(q?"^(?:"+ve.source+")":ve,Re),Fe=Te===void 0?4294967295:Te>>>0;if(Fe===0)return[];if(xe.length===0)return F(Ne,xe)===null?[xe]:[];for(var Ae=0,Pe=0,Ee=[];Pe<xe.length;){Ne.lastIndex=q?0:Pe;var Ce,be=F(Ne,q?se(xe,Pe):xe);if(be===null||(Ce=H(D(Ne.lastIndex+(q?Pe:0)),xe.length))===Ae)Pe=x(xe,Pe,_e);else{if(X(Ee,se(xe,Ae,Pe)),Ee.length===Fe)return Ee;for(var $e=1;$e<=be.length-1;$e++)if(X(Ee,be[$e]),Ee.length===Fe)return Ee;Pe=Ae=Ce}}return X(Ee,se(xe,Ae)),Ee}]},ue||!ne,q)},2762:function(y,v,s){var u=s(6518),d=s(3802).trim;u({target:"String",proto:!0,forced:s(706)("trim")},{trim:function(){return d(this)}})},6761:function(y,v,s){var u=s(6518),d=s(4576),p=s(9565),m=s(9504),S=s(6395),C=s(3724),k=s(4495),x=s(9039),D=s(9297),K=s(1625),P=s(8551),F=s(5397),U=s(6969),B=s(655),q=s(6980),H=s(2360),X=s(1072),se=s(8480),ne=s(298),ue=s(3717),ae=s(7347),oe=s(4913),me=s(6801),ye=s(8773),le=s(6840),Te=s(2106),ve=s(5745),xe=s(6119),Le=s(421),Ie=s(3392),_e=s(8227),Re=s(1951),Ne=s(511),Fe=s(8242),Ae=s(687),Pe=s(1181),Ee=s(9213).forEach,Ce=xe("hidden"),be="Symbol",$e="prototype",He=Pe.set,Je=Pe.getterFor(be),Tt=Object[$e],Gt=d.Symbol,xn=Gt&&Gt[$e],Dn=d.RangeError,Xn=d.TypeError,fn=d.QObject,ar=ae.f,pn=oe.f,Vi=ne.f,Ro=ye.f,br=m([].push),wt=ve("symbols"),ft=ve("op-symbols"),Bi=ve("wks"),Dt=!fn||!fn[$e]||!fn[$e].findChild,Rn=function(Me,Be,Ue){var Ye=ar(Tt,Be);Ye&&delete Tt[Be],pn(Me,Be,Ue),Ye&&Me!==Tt&&pn(Tt,Be,Ye)},jn=C&&x(function(){return H(pn({},"a",{get:function(){return pn(this,"a",{value:7}).a}})).a!==7})?Rn:pn,jo=function(Me,Be){var Ue=wt[Me]=H(xn);return He(Ue,{type:be,tag:Me,description:Be}),C||(Ue.description=Be),Ue},Nr=function(Me,Be,Ue){Me===Tt&&Nr(ft,Be,Ue),P(Me);var Ye=U(Be);return P(Ue),D(wt,Ye)?(Ue.enumerable?(D(Me,Ce)&&Me[Ce][Ye]&&(Me[Ce][Ye]=!1),Ue=H(Ue,{enumerable:q(0,!1)})):(D(Me,Ce)||pn(Me,Ce,q(1,H(null))),Me[Ce][Ye]=!0),jn(Me,Ye,Ue)):pn(Me,Ye,Ue)},Or=function(Me,Be){P(Me);var Ue=F(Be),Ye=X(Ue).concat(Dd(Ue));return Ee(Ye,function(Ot){C&&!p(Fo,Ue,Ot)||Nr(Me,Ot,Ue[Ot])}),Me},Fo=function(Me){var Be=U(Me),Ue=p(Ro,this,Be);return!(this===Tt&&D(wt,Be)&&!D(ft,Be))&&(!(Ue||!D(this,Be)||!D(wt,Be)||D(this,Ce)&&this[Ce][Be])||Ue)},lr=function(Me,Be){var Ue=F(Me),Ye=U(Be);if(Ue!==Tt||!D(wt,Ye)||D(ft,Ye)){var Ot=ar(Ue,Ye);return!Ot||!D(wt,Ye)||D(Ue,Ce)&&Ue[Ce][Ye]||(Ot.enumerable=!0),Ot}},Pd=function(Me){var Be=Vi(F(Me)),Ue=[];return Ee(Be,function(Ye){D(wt,Ye)||D(Le,Ye)||br(Ue,Ye)}),Ue},Dd=function(Me){var Be=Me===Tt,Ue=Vi(Be?ft:F(Me)),Ye=[];return Ee(Ue,function(Ot){!D(wt,Ot)||Be&&!D(Tt,Ot)||br(Ye,wt[Ot])}),Ye};k||(Gt=function(){if(K(xn,this))throw new Xn("Symbol is not a constructor");var Me=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,Be=Ie(Me),Ue=function(Ye){var Ot=this===void 0?d:this;Ot===Tt&&p(Ue,ft,Ye),D(Ot,Ce)&&D(Ot[Ce],Be)&&(Ot[Ce][Be]=!1);var Rd=q(1,Ye);try{jn(Ot,Be,Rd)}catch(jd){if(!(jd instanceof Dn))throw jd;Rn(Ot,Be,Rd)}};return C&&Dt&&jn(Tt,Be,{configurable:!0,set:Ue}),jo(Be,Me)},le(xn=Gt[$e],"toString",function(){return Je(this).tag}),le(Gt,"withoutSetter",function(Me){return jo(Ie(Me),Me)}),ye.f=Fo,oe.f=Nr,me.f=Or,ae.f=lr,se.f=ne.f=Pd,ue.f=Dd,Re.f=function(Me){return jo(_e(Me),Me)},C&&(Te(xn,"description",{configurable:!0,get:function(){return Je(this).description}}),S||le(Tt,"propertyIsEnumerable",Fo,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!k,sham:!k},{Symbol:Gt}),Ee(X(Bi),function(Me){Ne(Me)}),u({target:be,stat:!0,forced:!k},{useSetter:function(){Dt=!0},useSimple:function(){Dt=!1}}),u({target:"Object",stat:!0,forced:!k,sham:!C},{create:function(Me,Be){return Be===void 0?H(Me):Or(H(Me),Be)},defineProperty:Nr,defineProperties:Or,getOwnPropertyDescriptor:lr}),u({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:Pd}),Fe(),Ae(Gt,be),Le[Ce]=!0},9463:function(y,v,s){var u=s(6518),d=s(3724),p=s(4576),m=s(9504),S=s(9297),C=s(4901),k=s(1625),x=s(655),D=s(2106),K=s(7740),P=p.Symbol,F=P&&P.prototype;if(d&&C(P)&&(!("description"in F)||P().description!==void 0)){var U={},B=function(){var ae=arguments.length<1||arguments[0]===void 0?void 0:x(arguments[0]),oe=k(F,this)?new P(ae):ae===void 0?P():P(ae);return ae===""&&(U[oe]=!0),oe};K(B,P),B.prototype=F,F.constructor=B;var q=String(P("description detection"))==="Symbol(description detection)",H=m(F.valueOf),X=m(F.toString),se=/^Symbol\((.*)\)[^)]+$/,ne=m("".replace),ue=m("".slice);D(F,"description",{configurable:!0,get:function(){var ae=H(this);if(S(U,ae))return"";var oe=X(ae),me=q?ue(oe,7,-1):ne(oe,se,"$1");return me===""?void 0:me}}),u({global:!0,constructor:!0,forced:!0},{Symbol:B})}},1510:function(y,v,s){var u=s(6518),d=s(7751),p=s(9297),m=s(655),S=s(5745),C=s(1296),k=S("string-to-symbol-registry"),x=S("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!C},{for:function(D){var K=m(D);if(p(k,K))return k[K];var P=d("Symbol")(K);return k[K]=P,x[P]=K,P}})},2259:function(y,v,s){s(511)("iterator")},2675:function(y,v,s){s(6761),s(1510),s(7812),s(3110),s(9773)},7812:function(y,v,s){var u=s(6518),d=s(9297),p=s(757),m=s(6823),S=s(5745),C=s(1296),k=S("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!C},{keyFor:function(x){if(!p(x))throw new TypeError(m(x)+" is not a symbol");if(d(k,x))return k[x]}})},5700:function(y,v,s){var u=s(511),d=s(8242);u("toPrimitive"),d()},8344:function(y,v,s){s(8543)},3500:function(y,v,s){var u=s(4576),d=s(7400),p=s(9296),m=s(235),S=s(6699),C=function(x){if(x&&x.forEach!==m)try{S(x,"forEach",m)}catch{x.forEach=m}};for(var k in d)d[k]&&C(u[k]&&u[k].prototype);C(p)},2953:function(y,v,s){var u=s(4576),d=s(7400),p=s(9296),m=s(3792),S=s(6699),C=s(687),k=s(8227)("iterator"),x=m.values,D=function(P,F){if(P){if(P[k]!==x)try{S(P,k,x)}catch{P[k]=x}if(C(P,F,!0),d[F]){for(var U in m)if(P[U]!==m[U])try{S(P,U,m[U])}catch{P[U]=m[U]}}}};for(var K in d)D(u[K]&&u[K].prototype,K);D(p,"DOMTokenList")}},h={};function f(y){var v=h[y];if(v!==void 0)return v.exports;var s=h[y]={exports:{}};return c[y].call(s.exports,s,s.exports,f),s.exports}f.d=function(y,v){for(var s in v)f.o(v,s)&&!f.o(y,s)&&Object.defineProperty(y,s,{enumerable:!0,get:v[s]})},f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),f.o=function(y,v){return Object.prototype.hasOwnProperty.call(y,v)},f.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var g={};function _(y){return function(v){if(Array.isArray(v))return E(v)}(y)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||N(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N(y,v){if(y){if(typeof y=="string")return E(y,v);var s={}.toString.call(y).slice(8,-1);return s==="Object"&&y.constructor&&(s=y.constructor.name),s==="Map"||s==="Set"?Array.from(y):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?E(y,v):void 0}}function E(y,v){(v==null||v>y.length)&&(v=y.length);for(var s=0,u=Array(v);s<v;s++)u[s]=y[s];return u}function b(y){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},b(y)}function I(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,T(u.key),u)}}function w(y,v,s){return(v=T(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function T(y){var v=function(s,u){if(b(s)!="object"||!s)return s;var d=s[Symbol.toPrimitive];if(d!==void 0){var p=d.call(s,u||"default");if(b(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(s)}(y,"string");return b(v)=="symbol"?v:v+""}f.r(g),f.d(g,{SimpleKeyboard:function(){return ce},default:function(){return ie}}),f(5276),f(8598),f(4782),f(4554),f(2010),f(7427),f(6099),f(7495),f(8781),f(5440),f(744),f(2762),typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(y){if("Element"in y){var v="classList",s="prototype",u=y.Element[s],d=Object,p=String[s].trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array[s].indexOf||function(P){for(var F=0,U=this.length;F<U;F++)if(F in this&&this[F]===P)return F;return-1},S=function(P,F){this.name=P,this.code=DOMException[P],this.message=F},C=function(P,F){if(F==="")throw new S("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(F))throw new S("INVALID_CHARACTER_ERR","The token must not contain space characters.");return m.call(P,F)},k=function(P){for(var F=p.call(P.getAttribute("class")||""),U=F?F.split(/\s+/):[],B=0,q=U.length;B<q;B++)this.push(U[B]);this._updateClassName=function(){P.setAttribute("class",this.toString())}},x=k[s]=[],D=function(){return new k(this)};if(S[s]=Error[s],x.item=function(P){return this[P]||null},x.contains=function(P){return~C(this,P+"")},x.add=function(){var P,F=arguments,U=0,B=F.length,q=!1;do~C(this,P=F[U]+"")||(this.push(P),q=!0);while(++U<B);q&&this._updateClassName()},x.remove=function(){var P,F,U=arguments,B=0,q=U.length,H=!1;do for(F=C(this,P=U[B]+"");~F;)this.splice(F,1),H=!0,F=C(this,P);while(++B<q);H&&this._updateClassName()},x.toggle=function(P,F){var U=this.contains(P),B=U?F!==!0&&"remove":F!==!1&&"add";return B&&this[B](P),F===!0||F===!1?F:!U},x.replace=function(P,F){var U=C(P+"");~U&&(this.splice(U,1,F),this._updateClassName())},x.toString=function(){return this.join(" ")},d.defineProperty){var K={get:D,enumerable:!0,configurable:!0};try{d.defineProperty(u,v,K)}catch(P){P.number!==void 0&&P.number!==-2146823252||(K.enumerable=!1,d.defineProperty(u,v,K))}}else d[s].__defineGetter__&&u.__defineGetter__(v,D)}}(self),function(){var y=document.createElement("_");if(y.classList.add("c1","c2"),!y.classList.contains("c2")){var v=function(u){var d=DOMTokenList.prototype[u];DOMTokenList.prototype[u]=function(p){var m,S=arguments.length;for(m=0;m<S;m++)p=arguments[m],d.call(this,p)}};v("add"),v("remove")}if(y.classList.toggle("c3",!1),y.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,d){return 1 in arguments&&!this.contains(u)==!d?d:s.call(this,u)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(u,d){var p=this.toString().split(" "),m=p.indexOf(u+"");~m&&(p=p.slice(m),this.remove.apply(this,p),this.add(d),this.add.apply(this,p.slice(1)))}),y=null}()),f(2675),f(9463),f(2259),f(5700),f(8706),f(2008),f(3418),f(4423),f(3792),f(2062),f(6910),f(739),f(9572),f(2892),f(9085),f(3851),f(1278),f(9432),f(4864),f(1699),f(7764),f(8344),f(3500),f(2953),f(2712),f(2637),f(1480),f(1761);var A=function(){return y=function u(d){var p=d.getOptions,m=d.getCaretPosition,S=d.getCaretPositionEnd,C=d.dispatch;(function(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")})(this,u),w(this,"getOptions",void 0),w(this,"getCaretPosition",void 0),w(this,"getCaretPositionEnd",void 0),w(this,"dispatch",void 0),w(this,"maxLengthReached",void 0),w(this,"isStandardButton",function(k){return k&&!(k[0]==="{"&&k[k.length-1]==="}")}),this.getOptions=p,this.getCaretPosition=m,this.getCaretPositionEnd=S,this.dispatch=C,u.bindMethods(u,this)},v=[{key:"getButtonType",value:function(u){return u.includes("{")&&u.includes("}")&&u!=="{//}"?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(u){var d=this.getButtonType(u),p=u.replace("{","").replace("}",""),m="";return d!=="standardBtn"&&(m=" hg-button-".concat(p)),"hg-".concat(d).concat(m)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"","{arrowleft}":"","{arrowdown}":"","{arrowright}":"","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(u,d){return(d=arguments.length>2&&arguments[2]!==void 0&&arguments[2]?Object.assign({},this.getDefaultDiplay(),d):d||this.getDefaultDiplay())[u]||u}},{key:"getUpdatedInput",value:function(u,d,p){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,S=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=this.getOptions(),k=[p,m,S],x=d;return(u==="{bksp}"||u==="{backspace}")&&x.length>0?x=this.removeAt.apply(this,[x].concat(k)):(u==="{delete}"||u==="{forwarddelete}")&&x.length>0?x=this.removeForwardsAt.apply(this,[x].concat(k)):u==="{space}"?x=this.addStringAt.apply(this,[x," "].concat(k)):u!=="{tab}"||typeof C.tabCharOnTab=="boolean"&&C.tabCharOnTab===!1?u!=="{enter}"&&u!=="{numpadenter}"||!C.newLineOnEnter?u.includes("numpad")&&Number.isInteger(Number(u[u.length-2]))?x=this.addStringAt.apply(this,[x,u[u.length-2]].concat(k)):u==="{numpaddivide}"?x=this.addStringAt.apply(this,[x,"/"].concat(k)):u==="{numpadmultiply}"?x=this.addStringAt.apply(this,[x,"*"].concat(k)):u==="{numpadsubtract}"?x=this.addStringAt.apply(this,[x,"-"].concat(k)):u==="{numpadadd}"?x=this.addStringAt.apply(this,[x,"+"].concat(k)):u==="{numpaddecimal}"?x=this.addStringAt.apply(this,[x,"."].concat(k)):u==="{"||u==="}"?x=this.addStringAt.apply(this,[x,u].concat(k)):u.includes("{")||u.includes("}")||(x=this.addStringAt.apply(this,[x,u].concat(k))):x=this.addStringAt.apply(this,[x,`
`].concat(k)):x=this.addStringAt.apply(this,[x,"	"].concat(k)),C.debug&&console.log("Input will be: "+x),x}},{key:"updateCaretPos",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.updateCaretPosAction(u,d);this.dispatch(function(m){m.setCaretPosition(p)})}},{key:"updateCaretPosAction",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.getOptions(),m=this.getCaretPosition();return m!=null&&(d?m>0&&(m-=u):m+=u),p.debug&&console.log("Caret at:",m),m}},{key:"addStringAt",value:function(u,d){var p,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u.length,C=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return m||m===0?(p=[u.slice(0,m),d,u.slice(S)].join(""),this.isMaxLengthReached()||C&&this.updateCaretPos(d.length)):p=u+d,p}},{key:"removeAt",value:function(u){var d,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,S=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p===0&&m===0)return u;if(p===m){var C=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;p&&p>=0?u.substring(p-2,p).match(C)?(d=u.substr(0,p-2)+u.substr(p),S&&this.updateCaretPos(2,!0)):(d=u.substr(0,p-1)+u.substr(p),S&&this.updateCaretPos(1,!0)):u.slice(-2).match(C)?(d=u.slice(0,-2),S&&this.updateCaretPos(2,!0)):(d=u.slice(0,-1),S&&this.updateCaretPos(1,!0))}else d=u.slice(0,p)+u.slice(m),S&&this.dispatch(function(k){k.setCaretPosition(p)});return d}},{key:"removeForwardsAt",value:function(u){var d,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,S=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return u!=null&&u.length&&p!==null?(p===m?d=u.substring(p,p+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?u.substr(0,p)+u.substr(p+2):u.substr(0,p)+u.substr(p+1):(d=u.slice(0,p)+u.slice(m),S&&this.dispatch(function(C){C.setCaretPosition(p)})),d):u}},{key:"handleMaxLength",value:function(u,d){var p=this.getOptions(),m=p.maxLength,S=u[p.inputName||"default"],C=d.length-1>=m;if(d.length<=S.length)return!1;if(Number.isInteger(m))return p.debug&&console.log("maxLength (num) reached:",C),C?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if(b(m)==="object"){var k=d.length-1>=m[p.inputName||"default"];return p.debug&&console.log("maxLength (obj) reached:",k),k?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(u){return u?u.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(d,p){return p.length?d+p[0].toUpperCase()+p.slice(1):d}):""}},{key:"chunkArray",value:function(u,d){return _(Array(Math.ceil(u.length/d))).map(function(p,m){return u.slice(d*m,d+d*m)})}},{key:"escapeRegex",value:function(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(u,d){var p=u,m=d.indexOf("");return m<u&&m!=-1&&p--,d.indexOf("")<u&&m!=-1&&p--,p<0?0:p}}],s=[{key:"bindMethods",value:function(u,d){var p,m=function(C,k){var x=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!x){if(Array.isArray(C)||(x=N(C))||k){x&&(C=x);var D=0,K=function(){};return{s:K,n:function(){return D>=C.length?{done:!0}:{done:!1,value:C[D++]}},e:function(B){throw B},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,F=!0,U=!1;return{s:function(){x=x.call(C)},n:function(){var B=x.next();return F=B.done,B},e:function(B){U=!0,P=B},f:function(){try{F||x.return==null||x.return()}finally{if(U)throw P}}}}(Object.getOwnPropertyNames(u.prototype));try{for(m.s();!(p=m.n()).done;){var S=p.value;S==="constructor"||S==="bindMethods"||(d[S]=d[S].bind(d))}}catch(C){m.e(C)}finally{m.f()}}}],v&&I(y.prototype,v),s&&I(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}();w(A,"noop",function(){});var R=A;function M(y){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},M(y)}function L(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,V(u.key),u)}}function z(y,v,s){return(v=V(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function V(y){var v=function(s,u){if(M(s)!="object"||!s)return s;var d=s[Symbol.toPrimitive];if(d!==void 0){var p=d.call(s,u);if(M(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(y,"string");return M(v)=="symbol"?v:v+""}var J=function(){return y=function u(d){var p=this,m=d.dispatch,S=d.getOptions;(function(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")})(this,u),z(this,"getOptions",void 0),z(this,"dispatch",void 0),z(this,"isModifierKey",function(C){return C.altKey||C.ctrlKey||C.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(C.code||C.key||p.keyCodeToKey(C==null?void 0:C.keyCode))}),this.dispatch=m,this.getOptions=S,R.bindMethods(u,this)},v=[{key:"handleHighlightKeyDown",value:function(u){var d=this.getOptions();d.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(u)&&(u.preventDefault(),u.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(u);this.dispatch(function(m){var S,C,k=m.getButtonElement(p),x=m.getButtonElement("{".concat(p,"}"));if(k)S=k,C=p;else{if(!x)return;S=x,C="{".concat(p,"}")}var D,K,P,F,U=function(q){q.style.background=d.physicalKeyboardHighlightBgColor||"#dadce4",q.style.color=d.physicalKeyboardHighlightTextColor||"black"};if(S)if(Array.isArray(S)){if(S.forEach(function(q){return U(q)}),d.physicalKeyboardHighlightPress)if(d.physicalKeyboardHighlightPressUsePointerEvents)(D=S[0])===null||D===void 0||(K=D.onpointerdown)===null||K===void 0||K.call(D,u);else if(d.physicalKeyboardHighlightPressUseClick){var B;(B=S[0])===null||B===void 0||B.click()}else m.handleButtonClicked(C,u)}else U(S),d.physicalKeyboardHighlightPress&&(d.physicalKeyboardHighlightPressUsePointerEvents?(P=S)===null||P===void 0||(F=P.onpointerdown)===null||F===void 0||F.call(P,u):d.physicalKeyboardHighlightPressUseClick?S.click():m.handleButtonClicked(C,u))})}},{key:"handleHighlightKeyUp",value:function(u){var d=this.getOptions();d.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(u)&&(u.preventDefault(),u.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(u);this.dispatch(function(m){var S,C,k,x=m.getButtonElement(p)||m.getButtonElement("{".concat(p,"}")),D=function(K){K.removeAttribute&&K.removeAttribute("style")};x&&(Array.isArray(x)?(x.forEach(function(K){return D(K)}),d.physicalKeyboardHighlightPressUsePointerEvents&&((S=x[0])===null||S===void 0||(C=S.onpointerup)===null||C===void 0||C.call(S,u))):(D(x),d.physicalKeyboardHighlightPressUsePointerEvents&&(x==null||(k=x.onpointerup)===null||k===void 0||k.call(x,u))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(u){var d,p="",m=u.code||u.key||this.keyCodeToKey(u==null?void 0:u.keyCode);return(p=m!=null&&m.includes("Numpad")||m!=null&&m.includes("Shift")||m!=null&&m.includes("Space")||m!=null&&m.includes("Backspace")||m!=null&&m.includes("Control")||m!=null&&m.includes("Alt")||m!=null&&m.includes("Meta")?u.code||"":u.key||this.keyCodeToKey(u==null?void 0:u.keyCode)||"").length>1?(d=p)===null||d===void 0?void 0:d.toLowerCase():p}},{key:"keyCodeToKey",value:function(u){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[u]||""}}],v&&L(y.prototype,v),s&&L(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}();function G(y){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},G(y)}function Z(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,fe(u.key),u)}}function ee(y,v,s){return(v=fe(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function fe(y){var v=function(s,u){if(G(s)!="object"||!s)return s;var d=s[Symbol.toPrimitive];if(d!==void 0){var p=d.call(s,u);if(G(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(y,"string");return G(v)=="symbol"?v:v+""}var pe=function(){return y=function u(d){var p=d.utilities,m=d.options;(function(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")})(this,u),ee(this,"utilities",void 0),ee(this,"options",void 0),ee(this,"candidateBoxElement",void 0),ee(this,"pageIndex",0),ee(this,"pageSize",void 0),this.utilities=p,this.options=m,R.bindMethods(u,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},v=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(u){var d=this,p=u.candidateValue,m=u.targetElement,S=u.onSelect;if(p&&p.length){var C=this.utilities.chunkArray(p.split(" "),this.pageSize);this.renderPage({candidateListPages:C,targetElement:m,pageIndex:this.pageIndex,nbPages:C.length,onItemSelected:function(k,x){S(k,x),d.destroy()}})}}},{key:"renderPage",value:function(u){var d,p=this,m=u.candidateListPages,S=u.targetElement,C=u.pageIndex,k=u.nbPages,x=u.onItemSelected;(d=this.candidateBoxElement)===null||d===void 0||d.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var D=document.createElement("ul");D.className="hg-candidate-box-list",m[C].forEach(function(H){var X,se=document.createElement("li"),ne=function(){var ue=new(p.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(ue,"target",{value:se}),ue};se.className="hg-candidate-box-list-item",se.innerHTML=((X=p.options.display)===null||X===void 0?void 0:X[H])||H,p.options.useTouchEvents?se.ontouchstart=function(ue){return x(H,ue||ne())}:se.onclick=function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne();return x(H,ue)},D.appendChild(se)});var K=C>0,P=document.createElement("div");P.classList.add("hg-candidate-box-prev"),K&&P.classList.add("hg-candidate-box-btn-active");var F=function(){K&&p.renderPage({candidateListPages:m,targetElement:S,pageIndex:C-1,nbPages:k,onItemSelected:x})};this.options.useTouchEvents?P.ontouchstart=F:P.onclick=F,this.candidateBoxElement.appendChild(P),this.candidateBoxElement.appendChild(D);var U=C<k-1,B=document.createElement("div");B.classList.add("hg-candidate-box-next"),U&&B.classList.add("hg-candidate-box-btn-active");var q=function(){U&&p.renderPage({candidateListPages:m,targetElement:S,pageIndex:C+1,nbPages:k,onItemSelected:x})};this.options.useTouchEvents?B.ontouchstart=q:B.onclick=q,this.candidateBoxElement.appendChild(B),S.prepend(this.candidateBoxElement)}}],v&&Z(y.prototype,v),s&&Z(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}(),Se=pe;function he(y){return function(v){if(Array.isArray(v))return ge(v)}(y)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||function(v,s){if(v){if(typeof v=="string")return ge(v,s);var u={}.toString.call(v).slice(8,-1);return u==="Object"&&v.constructor&&(u=v.constructor.name),u==="Map"||u==="Set"?Array.from(v):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?ge(v,s):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ge(y,v){(v==null||v>y.length)&&(v=y.length);for(var s=0,u=Array(v);s<v;s++)u[s]=y[s];return u}function Q(y){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Q(y)}function re(y,v){var s=Object.keys(y);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(y);v&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(y,d).enumerable})),s.push.apply(s,u)}return s}function j(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,W(u.key),u)}}function O(y,v,s){return(v=W(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function W(y){var v=function(s,u){if(Q(s)!="object"||!s)return s;var d=s[Symbol.toPrimitive];if(d!==void 0){var p=d.call(s,u);if(Q(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(y,"string");return Q(v)=="symbol"?v:v+""}var te=function(){return y=function u(d,p){var m=this;if(function(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}(this,u),O(this,"input",void 0),O(this,"options",void 0),O(this,"utilities",void 0),O(this,"caretPosition",void 0),O(this,"caretPositionEnd",void 0),O(this,"keyboardDOM",void 0),O(this,"keyboardPluginClasses",void 0),O(this,"keyboardDOMClass",void 0),O(this,"buttonElements",void 0),O(this,"currentInstanceName",void 0),O(this,"allKeyboardInstances",void 0),O(this,"keyboardInstanceNames",void 0),O(this,"isFirstKeyboardInstance",void 0),O(this,"physicalKeyboard",void 0),O(this,"modules",void 0),O(this,"activeButtonClass",void 0),O(this,"holdInteractionTimeout",void 0),O(this,"holdTimeout",void 0),O(this,"isMouseHold",void 0),O(this,"initialized",void 0),O(this,"candidateBox",void 0),O(this,"keyboardRowsDOM",void 0),O(this,"defaultName","default"),O(this,"activeInputElement",null),O(this,"handleParams",function(F,U){var B,q,H;if(typeof F=="string")B=F.split(".").join(""),q=document.querySelector(".".concat(B)),H=U;else if(F instanceof HTMLDivElement){if(!F.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");B=F.className.split(" ")[0],q=F,H=U}else B="simple-keyboard",q=document.querySelector(".".concat(B)),H=F;return{keyboardDOMClass:B,keyboardDOM:q,options:H}}),O(this,"getOptions",function(){return m.options}),O(this,"getCaretPosition",function(){return m.caretPosition}),O(this,"getCaretPositionEnd",function(){return m.caretPositionEnd}),O(this,"registerModule",function(F,U){m.modules[F]||(m.modules[F]={}),U(m.modules[F])}),O(this,"getKeyboardClassString",function(){for(var F=arguments.length,U=new Array(F),B=0;B<F;B++)U[B]=arguments[B];return[m.keyboardDOMClass].concat(U).filter(function(q){return!!q}).join(" ")}),typeof window<"u"){var S=this.handleParams(d,p),C=S.keyboardDOMClass,k=S.keyboardDOM,x=S.options,D=x===void 0?{}:x;this.utilities=new R({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=k,this.options=function(F){for(var U=1;U<arguments.length;U++){var B=arguments[U]!=null?arguments[U]:{};U%2?re(Object(B),!0).forEach(function(q){O(F,q,B[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(B)):re(Object(B)).forEach(function(q){Object.defineProperty(F,q,Object.getOwnPropertyDescriptor(B,q))})}return F}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},D),this.keyboardPluginClasses="",R.bindMethods(u,this);var K=this.options.inputName,P=K===void 0?this.defaultName:K;if(this.input={},this.input[P]="",this.keyboardDOMClass=C,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new J({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new Se({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(C,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},v=[{key:"setCaretPosition",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;this.caretPosition=u,this.caretPositionEnd=d}},{key:"getInputCandidates",value:function(u){var d=this,p=this.options,m=p.layoutCandidates,S=p.layoutCandidatesCaseSensitiveMatch;if(!m||Q(m)!=="object")return{};var C=Object.keys(m).filter(function(D){var K=u.substring(0,d.getCaretPositionEnd()||0)||u,P=new RegExp("".concat(d.utilities.escapeRegex(D),"$"),S?"g":"gi");return!!he(K.matchAll(P)).length});if(C.length>1){var k=C.sort(function(D,K){return K.length-D.length})[0];return{candidateKey:k,candidateValue:m[k]}}if(C.length){var x=C[0];return{candidateKey:x,candidateValue:m[x]}}return{}}},{key:"showCandidatesBox",value:function(u,d,p){var m=this;this.candidateBox&&this.candidateBox.show({candidateValue:d,targetElement:p,onSelect:function(S,C){var k=m.options,x=k.layoutCandidatesCaseSensitiveMatch,D=k.disableCandidateNormalization,K=k.enableLayoutCandidatesKeyPress,P=S;D||(P=S.normalize("NFD")),typeof m.options.beforeInputUpdate=="function"&&m.options.beforeInputUpdate(m);var F=m.getInput(m.options.inputName,!0),U=m.getCaretPositionEnd()||0,B=F.substring(0,U||0)||F,q=new RegExp("".concat(m.utilities.escapeRegex(u),"$"),x?"g":"gi"),H=B.replace(q,P),X=F.replace(B,H),se=H.length-B.length,ne=(U||F.length)+se;ne<0&&(ne=0),m.setInput(X,m.options.inputName,!0),m.setCaretPosition(ne),K&&typeof m.options.onKeyPress=="function"&&m.options.onKeyPress(S,C),typeof m.options.onChange=="function"&&m.options.onChange(m.getInput(m.options.inputName,!0),C),typeof m.options.onChangeAll=="function"&&m.options.onChangeAll(m.getAllInputs(),C)}})}},{key:"handleButtonClicked",value:function(u,d){var p=this.options,m=p.inputName,S=m===void 0?this.defaultName:m,C=p.debug;if(u!=="{//}"){this.input[S]||(this.input[S]=""),typeof this.options.beforeInputUpdate=="function"&&this.options.beforeInputUpdate(this);var k=this.utilities.getUpdatedInput(u,this.input[S],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(u)&&this.activeInputElement&&this.input[S]&&this.input[S]===k&&this.caretPosition===0&&this.caretPositionEnd===k.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(u,d);if(typeof this.options.onKeyPress=="function"&&this.options.onKeyPress(u,d),this.input[S]!==k&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(k))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,k))return;var x=this.utilities.getUpdatedInput(u,this.input[S],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(x,this.options.inputName,!0),C&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),d==null?void 0:d.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),typeof this.options.onChange=="function"&&this.options.onChange(this.getInput(this.options.inputName,!0),d),typeof this.options.onChangeAll=="function"&&this.options.onChangeAll(this.getAllInputs(),d),d!=null&&d.target&&this.options.enableLayoutCandidates){var D,K=this.getInputCandidates(k),P=K.candidateKey,F=K.candidateValue;P&&F?this.showCandidatesBox(P,F,this.keyboardDOM):(D=this.candidateBox)===null||D===void 0||D.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),C&&console.log("Key pressed:",u)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(u){this.options.syncInstanceInputs?this.dispatch(function(d){d.isMouseHold=u}):this.isMouseHold=u}},{key:"handleButtonMouseDown",value:function(u,d){var p=this;d&&(this.options.preventMouseDownDefault&&d.preventDefault(),this.options.stopMouseDownPropagation&&d.stopPropagation(),d.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(p.getMouseHold()&&(!u.includes("{")&&!u.includes("}")||u==="{delete}"||u==="{backspace}"||u==="{bksp}"||u==="{space}"||u==="{tab}")||u==="{arrowright}"||u==="{arrowleft}"||u==="{arrowup}"||u==="{arrowdown}")&&(p.options.debug&&console.log("Button held:",u),p.handleButtonHold(u)),clearTimeout(p.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(u,d){var p=this;d&&(this.options.preventMouseUpDefault&&d.preventDefault&&d.preventDefault(),this.options.stopMouseUpPropagation&&d.stopPropagation&&d.stopPropagation(),!(d.target===this.keyboardDOM||d.target&&this.keyboardDOM.contains(d.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(d.target===this.candidateBox.candidateBoxElement||d.target&&this.candidateBox.candidateBoxElement.contains(d.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(m){m.classList.remove(p.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),u&&typeof this.options.onKeyReleased=="function"&&this.options.onKeyReleased(u,d)}},{key:"handleKeyboardContainerMouseDown",value:function(u){this.options.preventMouseDownDefault&&u.preventDefault()}},{key:"handleButtonHold",value:function(u){var d=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){d.getMouseHold()?(d.handleButtonClicked(u),d.handleButtonHold(u)):clearTimeout(d.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var u=this;this.dispatch(function(d){d.replaceInput(u.input),d.setCaretPosition(u.caretPosition,u.caretPositionEnd)})}},{key:"clearInput",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName;this.input[u]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName,d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.options.syncInstanceInputs&&!d&&this.syncInstanceInputs(),this.options.rtl?""+this.input[u].replace("","").replace("","")+"":this.input[u]}},{key:"getAllInputs",value:function(){var u=this,d={};return Object.keys(this.input).forEach(function(p){d[p]=u.getInput(p,!0)}),d}},{key:"setInput",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.inputName||this.defaultName,p=arguments.length>2?arguments[2]:void 0;this.input[d]=u,!p&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(u){this.input=u}},{key:"setOptions",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=this.changedOptions(u);this.options=Object.assign(this.options,u),d.length&&(this.options.debug&&console.log("changedOptions",d),this.onSetOptions(d),this.render())}},{key:"changedOptions",value:function(u){var d=this;return Object.keys(u).filter(function(p){return JSON.stringify(u[p])!==JSON.stringify(d.options[p])})}},{key:"onSetOptions",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(u.includes("layoutCandidatesPageSize")||u.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new Se({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(u){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(d){u(window.SimpleKeyboardInstances[d],d)})}},{key:"addButtonTheme",value:function(u,d){var p=this;d&&u&&(u.split(" ").forEach(function(m){d.split(" ").forEach(function(S){p.options.buttonTheme||(p.options.buttonTheme=[]);var C=!1;p.options.buttonTheme.map(function(k){if(k!=null&&k.class.split(" ").includes(S)){C=!0;var x=k.buttons.split(" ");x.includes(m)||(C=!0,x.push(m),k.buttons=x.join(" "))}return k}),C||p.options.buttonTheme.push({class:S,buttons:u})})}),this.render())}},{key:"removeButtonTheme",value:function(u,d){var p=this;if(!u&&!d)return this.options.buttonTheme=[],void this.render();u&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(u.split(" ").forEach(function(m){var S;(S=p.options)===null||S===void 0||(S=S.buttonTheme)===null||S===void 0||S.map(function(C,k){if(C&&d&&d.includes(C.class)||!d){var x,D,K=(x=C)===null||x===void 0?void 0:x.buttons.split(" ").filter(function(P){return P!==m});C&&K!=null&&K.length?C.buttons=K.join(" "):((D=p.options.buttonTheme)===null||D===void 0||D.splice(k,1),C=null)}return C})}),this.render())}},{key:"getButtonElement",value:function(u){var d,p=this.buttonElements[u];return p&&(d=p.length>1?p:p[0]),d}},{key:"inputPatternIsValid",value:function(u){var d,p=this.options.inputPattern;if((d=p instanceof RegExp?p:p[this.options.inputName||this.defaultName])&&u){var m=d.test(u);return this.options.debug&&console.log('inputPattern ("'.concat(d,'"): ').concat(m?"passed":"did not pass!")),m}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var u=this.options.physicalKeyboardHighlightPreventDefault,d=u!==void 0&&u;document.addEventListener("keyup",this.handleKeyUp,d),document.addEventListener("keydown",this.handleKeyDown,d),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(u){this.caretEventHandler(u),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(u)}},{key:"handleKeyDown",value:function(u){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(u)}},{key:"handleMouseUp",value:function(u){this.caretEventHandler(u)}},{key:"handleTouchEnd",value:function(u){this.caretEventHandler(u)}},{key:"handleSelect",value:function(u){this.caretEventHandler(u)}},{key:"handleSelectionChange",value:function(u){navigator.userAgent.includes("Firefox")||this.caretEventHandler(u)}},{key:"caretEventHandler",value:function(u){var d,p=this;u.target.tagName&&(d=u.target.tagName.toLowerCase()),this.dispatch(function(m){var S=u.target===m.keyboardDOM||u.target&&m.keyboardDOM.contains(u.target);if(p.options.syncInstanceInputs&&Array.isArray(u.path)&&(S=u.path.some(function(x){var D;return x==null||(D=x.hasAttribute)===null||D===void 0?void 0:D.call(x,"data-skInstance")})),(d==="textarea"||d==="input"&&["text","search","url","tel","password"].includes(u.target.type))&&!m.options.disableCaretPositioning){var C=u.target.selectionStart,k=u.target.selectionEnd;m.options.rtl&&(C=m.utilities.getRtlOffset(C,m.getInput()),k=m.utilities.getRtlOffset(k,m.getInput())),m.setCaretPosition(C,k),m.activeInputElement=u.target,m.options.debug&&console.log("Caret at: ",m.getCaretPosition(),m.getCaretPositionEnd(),u&&u.target.tagName.toLowerCase(),"(".concat(m.keyboardDOMClass,")"),u==null?void 0:u.type)}else!m.options.disableCaretPositioning&&S||(u==null?void 0:u.type)==="selectionchange"||(m.setCaretPosition(null),m.activeInputElement=null,m.options.debug&&console.log('Caret position reset due to "'.concat(u==null?void 0:u.type,'" event'),u))})}},{key:"recurseButtons",value:function(u){var d=this;u&&Object.keys(this.buttonElements).forEach(function(p){return d.buttonElements[p].forEach(u)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var u=this.options.physicalKeyboardHighlightPreventDefault,d=u!==void 0&&u;document.removeEventListener("keyup",this.handleKeyUp,d),document.removeEventListener("keydown",this.handleKeyDown,d),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(p){p&&(p.onpointerdown=null,p.onpointerup=null,p.onpointercancel=null,p.ontouchstart=null,p.ontouchend=null,p.ontouchcancel=null,p.onclick=null,p.onmousedown=null,p.onmouseup=null,p.remove(),p=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(u){var d=this.options.buttonTheme,p=[];return Array.isArray(d)&&d.forEach(function(m){if(m&&m.class&&typeof m.class=="string"&&m.buttons&&typeof m.buttons=="string"){var S=m.class.split(" ");m.buttons.split(" ").includes(u)&&(p=[].concat(he(p),he(S)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',m)}),p}},{key:"setDOMButtonAttributes",value:function(u,d){var p=this.options.buttonAttributes;Array.isArray(p)&&p.forEach(function(m){m.attribute&&typeof m.attribute=="string"&&m.value&&typeof m.value=="string"&&m.buttons&&typeof m.buttons=="string"?m.buttons.split(" ").includes(u)&&d(m.attribute,m.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',m)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(u){if(u.target.classList.contains("hg-button"))return u.preventDefault(),u.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),typeof this.options.onInit=="function"&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),typeof this.options.beforeFirstRender=="function"&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){typeof this.options.beforeRender=="function"&&this.options.beforeRender(this)}},{key:"onRender",value:function(){typeof this.options.onRender=="function"&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){typeof this.options.onModulesLoaded=="function"&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var u=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(d){var p=new d(u);p.init&&p.init(u)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(u,d){return!!this.modules[u]&&this.modules[u][d]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(u,d,p,m){var S=this,C=Array.from(u.children),k=0;return C.length&&p.forEach(function(x,D){var K=m[D];if(!(K&&K>x))return!1;var P=x-k,F=K-k,U=document.createElement("div");U.className+="hg-button-container";var B="".concat(S.options.layoutName,"-r").concat(d,"c").concat(D);U.setAttribute("data-skUID",B);var q=C.splice(P,F-P+1);k=F-P,q.forEach(function(H){return U.appendChild(H)}),C.splice(P,0,U),u.innerHTML="",C.forEach(function(H){return u.appendChild(H)}),S.options.debug&&console.log("rowDOMContainer",q,P,F,k+1)}),u}},{key:"render",value:function(){var u=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var d="hg-layout-".concat(this.options.layoutName),p=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},m=this.options.useTouchEvents||!1,S=m?"hg-touch-events":"",C=this.options.useMouseEvents||!1,k=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,d,this.keyboardPluginClasses,S),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",p[this.options.layoutName||this.defaultName].forEach(function(x,D){var K=x.split(" ");u.options.excludeFromLayout&&u.options.excludeFromLayout[u.options.layoutName||u.defaultName]&&(K=K.filter(function(B){return u.options.excludeFromLayout&&!u.options.excludeFromLayout[u.options.layoutName||u.defaultName].includes(B)}));var P=document.createElement("div");P.className+="hg-row";var F=[],U=[];K.forEach(function(B,q){var H,X=!k&&typeof B=="string"&&B.length>1&&B.indexOf("[")===0,se=!k&&typeof B=="string"&&B.length>1&&B.indexOf("]")===B.length-1;X&&(F.push(q),B=B.replace(/\[/g,"")),se&&(U.push(q),B=B.replace(/\]/g,""));var ne=u.utilities.getButtonClass(B),ue=u.utilities.getButtonDisplayName(B,u.options.display,u.options.mergeDisplay),ae=u.options.useButtonTag?"button":"div",oe=document.createElement(ae);oe.className+="hg-button ".concat(ne),(H=oe.classList).add.apply(H,he(u.getButtonThemeClasses(B))),u.setDOMButtonAttributes(B,function(le,Te){oe.setAttribute(le,Te)}),u.activeButtonClass="hg-activeButton",!u.utilities.pointerEventsSupported()||m||C?m?(oe.ontouchstart=function(le){u.handleButtonClicked(B,le),u.handleButtonMouseDown(B,le)},oe.ontouchend=function(le){u.handleButtonMouseUp(B,le)},oe.ontouchcancel=function(le){u.handleButtonMouseUp(B,le)}):(oe.onclick=function(le){u.setMouseHold(!1),typeof u.options.onKeyReleased!="function"&&u.handleButtonClicked(B,le)},oe.onmousedown=function(le){typeof u.options.onKeyReleased!="function"||u.isMouseHold||u.handleButtonClicked(B,le),u.handleButtonMouseDown(B,le)},oe.onmouseup=function(le){u.handleButtonMouseUp(B,le)}):(oe.onpointerdown=function(le){u.handleButtonClicked(B,le),u.handleButtonMouseDown(B,le)},oe.onpointerup=function(le){u.handleButtonMouseUp(B,le)},oe.onpointercancel=function(le){u.handleButtonMouseUp(B,le)}),oe.setAttribute("data-skBtn",B);var me="".concat(u.options.layoutName,"-r").concat(D,"b").concat(q);oe.setAttribute("data-skBtnUID",me);var ye=document.createElement("span");ye.innerHTML=ue,oe.appendChild(ye),u.buttonElements[B]||(u.buttonElements[B]=[]),u.buttonElements[B].push(oe),P.appendChild(oe)}),P=u.parseRowDOMContainers(P,D,F,U),u.keyboardRowsDOM.appendChild(P)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||m||C?m?(document.ontouchend=function(x){return u.handleButtonMouseUp(void 0,x)},document.ontouchcancel=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.ontouchstart=function(x){return u.handleKeyboardContainerMouseDown(x)}):m||(document.onmouseup=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onmousedown=function(x){return u.handleKeyboardContainerMouseDown(x)}):(document.onpointerup=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onpointerdown=function(x){return u.handleKeyboardContainerMouseDown(x)}),this.onInit())}}],v&&j(y.prototype,v),s&&j(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}(),ce=te,ie=ce;return g}()},442:function(l){l.exports=n}},o={};function i(l){var c=o[l];if(c!==void 0)return c.exports;var h=o[l]={exports:{}};return r[l].call(h.exports,h,h.exports,i),h.exports}i.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(c,{a:c}),c},i.d=function(l,c){for(var h in c)i.o(c,h)&&!i.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:c[h]})},i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a={};return function(){i.r(a),i.d(a,{KeyboardReact:function(){return b},default:function(){return I}}),i(981);var l=i(442),c=i(548),h=i.n(c);function f(w){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},f(w)}function g(w,T){var A=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);T&&(R=R.filter(function(M){return Object.getOwnPropertyDescriptor(w,M).enumerable})),A.push.apply(A,R)}return A}function _(w){for(var T=1;T<arguments.length;T++){var A=arguments[T]!=null?arguments[T]:{};T%2?g(Object(A),!0).forEach(function(R){N(w,R,A[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(A)):g(Object(A)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(A,R))})}return w}function N(w,T,A){return(T=function(R){var M=function(L,z){if(f(L)!="object"||!L)return L;var V=L[Symbol.toPrimitive];if(V!==void 0){var J=V.call(L,z||"default");if(f(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(L)}(R,"string");return f(M)=="symbol"?M:M+""}(T))in w?Object.defineProperty(w,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[T]=A,w}var E=function(w){return _(_({},w),{},{keyboardRef:null})},b=function(w){var T=w.baseClass||"react-simple-keyboard",A=l.useRef(null),R=l.useRef(null),M=l.useRef(null),L=l.useRef(w);return l.useEffect(function(){return function(){M.current&&M.current.destroy(),A.current=!1}},[]),l.useEffect(function(){var z=function(ee){return _(_({},ee),{},{theme:"simple-keyboard ".concat(ee.theme||"hg-theme-default")})}(w);if(!A.current){A.current=!0,z.debug&&console.log("ReactSimpleKeyboard: Init");var V=R.current,J=".".concat(T);M.current=new(h())(V||J,z),z.keyboardRef&&z.keyboardRef(M.current)}var G=function(ee,fe){var pe=E(fe),Se=E(ee);return Object.keys(pe).filter(function(he){return pe[he]!==Se[he]})}(L.current,z);if(G.length){var Z=M.current;L.current=z,Z==null||Z.setOptions(z),z.debug&&console.log("ReactSimpleKeyboard - setOptions called due to updated props:",G)}},[A,T,L,w]),l.createElement("div",{className:T,ref:R})},I=b}(),a}()})})(hv);var ME=hv.exports;const PE=Dp(ME),DE={default:["1 2 3 4 5 6 7 8 9 0 - =","q w e r t y u i o p [ ]","a s d f g h j k l ; '","z x c v b n m , . /"]},dv=({keyboardState:t})=>{const e=Y.useRef(null),n=Y.useRef(null),r=Y.useCallback(a=>{n.current||(n.current=document.createElement("style"),n.current.id="piano-keyboard-styles",document.head.appendChild(n.current));const l=Qh(0,"chromatic");let c="";Object.entries(a).forEach(([h,{note:f}])=>{const g=l[f],_=ry(f);c+=`
        .simple-keyboard-base .hg-button.${h}-mapped {
          background: ${g} !important;
          color: ${_} !important;
        }
      `}),Object.keys(Ru).forEach(h=>{a[h]||(c+=`
          .simple-keyboard-base .hg-button.${h}-mapped {
            background: #444 !important;
            color: rgba(255, 255, 255, 0.3) !important;
          }
        `)}),n.current.textContent=c,console.log("Applied keyboard styles:",{mappingSize:Object.keys(a).length,cssLength:c.length,sampleStyle:c.split("}")[0]+"}"})},[]);Y.useEffect(()=>(t.taskKeyboardMapping&&r(t.taskKeyboardMapping),()=>{n.current&&(n.current.remove(),n.current=null)}),[t.taskKeyboardMapping,r]);const o=Y.useCallback(()=>t.taskKeyboardMapping?Object.entries(Ru).map(([l,c])=>({class:`${l}-mapped`,buttons:c.toLowerCase()})):[],[t.taskKeyboardMapping]),i=Y.useCallback(()=>{const a="1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./",l={};return a.split("").forEach(c=>{l[c]=c}),l},[]);return $.jsx("div",{className:"w-[290px]",ref:e,children:$.jsx(PE,{layout:DE,display:i(),buttonTheme:o(),mergeDisplay:!0,physicalKeyboardHighlight:!1,physicalKeyboardHighlightPress:!1,useButtonTag:!0,disableButtonHold:!0,preventMouseDownDefault:!0,baseClass:"simple-keyboard-base",theme:"hg-theme-default custom-theme"})})},RE=po.memo(IE),jE=po.memo(({currentLessonId:t,onLessonChange:e,taskProgress:n,activeTaskId:r,onSkipTask:o,keyboardState:i})=>{const[a,l]=Y.useState(!1),c=Ft.findIndex(b=>b.id===t),h=Ft[c],f=c>0?Ft[c-1]:null,g=c<Ft.length-1?Ft[c+1]:null,_=h==null?void 0:h.taskIds.every(b=>n.some(I=>I.taskId===b&&I.status==="completed"));Y.useEffect(()=>{const b=I=>{I.key==="ArrowLeft"&&f?e(f.id):I.key==="ArrowRight"&&g&&e(g.id)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[f,g,e]),Y.useEffect(()=>{const b=I=>{I.key==="Escape"&&a&&l(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[a]);const N=Y.useCallback((b,I,w)=>{if(!po.isValidElement(b))return b;if(b.props.children){const T=po.Children.map(b.props.children,A=>N(A,I,w));return po.cloneElement(b,{},T)}return b},[]),E=Y.useRef(null);return Y.useEffect(()=>{if(r&&E.current){const b=E.current.querySelector(`[data-task-id="${r}"]`);if(b){const I=E.current.getBoundingClientRect(),w=b.getBoundingClientRect(),T=200;(w.bottom>I.bottom-T||w.top>I.bottom-T)&&b.scrollIntoView({behavior:"smooth",block:"center"})}}},[r]),$.jsxs("div",{className:"fixed top-0 left-0 w-[600px] h-screen bg-gray-900 text-white flex flex-col",children:[$.jsx("div",{className:"bg-gray-900 p-4 border-b border-gray-800",children:$.jsx("div",{className:"w-full flex justify-end",children:$.jsx(dv,{keyboardState:i})})}),$.jsxs("div",{className:"bg-gray-900 z-20 p-8 pb-4 border-b border-gray-800",children:[$.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[$.jsxs("div",{className:"flex gap-2",children:[$.jsx("button",{onClick:()=>l(!a),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700 relative z-20 pointer-events-auto",children:$.jsx(Qu,{className:"w-6 h-6"})}),$.jsx(os,{to:`${En}/mappings`,className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700 relative z-20 pointer-events-auto",children:$.jsx(OE,{className:"w-6 h-6"})})]}),$.jsxs("div",{className:"flex-1 flex gap-2",children:[$.jsx("div",{className:`flex-1 ${g?"w-1/2":"w-full"}`,children:f&&$.jsxs(os,{to:`${En}/${f.id}`,onClick:()=>e(f.id),className:"block w-full p-2 bg-gray-800 rounded border border-gray-700 text-gray-400 hover:bg-gray-700 text-left select-none",children:[" ",c,". ",f.title]})}),$.jsx("div",{className:`flex-1 ${f?"w-1/2":"w-full"}`,children:g&&$.jsxs(os,{to:`${En}/${g.id}`,onClick:()=>e(g.id),className:`block w-full p-2 rounded border text-right select-none transition-all duration-300 ${_?"bg-blue-600 hover:bg-blue-500 border-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[c+2,". ",g.title," "]})})]})]}),$.jsxs("div",{className:"w-full text-white font-semibold text-[28px]",children:[c+1,". ",h.title]})]}),a&&$.jsx("div",{className:"absolute inset-0 bg-gray-900 z-30 overflow-y-auto",children:$.jsxs("div",{className:"p-8",children:[$.jsx("div",{className:"flex items-center gap-2 mb-4",children:$.jsx("button",{onClick:()=>l(!1),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700",children:$.jsx(Qu,{className:"w-6 h-6"})})}),$.jsx("div",{className:"flex flex-col gap-2",children:Ft.map((b,I)=>$.jsxs(os,{to:`${En}/${b.id}`,onClick:()=>{e(b.id),l(!1)},className:`mt-2 text-left cursor-pointer hover:text-white ${b.id===t?"text-white":"text-gray-400"}`,children:[$.jsxs("span",{children:[I+1,". "]}),b.title]},b.id))})]})}),$.jsx("div",{className:"flex-1 overflow-y-auto",children:$.jsxs("div",{className:"relative min-h-[calc(100vh-400px)]",children:[$.jsx("div",{ref:E,className:"p-8 pt-4",children:h&&$.jsxs("div",{className:"prose prose-invert",children:[N(h.content,n,h),h.taskIds.map((b,I)=>{var w,T;return $.jsx(RE,{taskConfig:rn[b],"data-task-id":b,progress:((w=n.find(A=>A.taskId===b))==null?void 0:w.progress)??0,status:((T=n.find(A=>A.taskId===b))==null?void 0:T.status)??"active",previousTaskCompleted:I===0?!0:n.some(A=>A.taskId===h.taskIds[I-1]&&A.status==="completed"),isActive:b===r,onSkip:o},b)}),h.finalText&&h.taskIds.every(b=>n.some(I=>I.taskId===b&&I.status==="completed"))&&$.jsx("p",{className:"mt-6 text-gray-400 italic",children:h.finalText})]})}),$.jsx("div",{className:"pointer-events-none sticky bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]})})]})}),Mp=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],FE=t=>{const e=Ft.find(n=>n.id===t);return!e||!e.taskIds.length?null:e.taskIds[e.taskIds.length-1]},Pp=(t,e)=>{var a;console.log("[getActiveTaskId] Called with:",{taskProgress:t.taskProgress,currentLessonId:e,pendingNextTask:t.pendingNextTask});const n=Ft.find(l=>l.id===e);if(!n)return console.log("No lesson found for id:",e),null;if(n.taskIds.length===0)return null;const r=t.taskProgress.find(l=>l.status==="completing");if(r)return console.log("Found completing task:",r.taskId),r.taskId;if(n.taskIds.every(l=>t.taskProgress.some(c=>c.taskId===l&&c.status==="completed")))return console.log("All tasks completed in lesson:",e),FE(e);if(t.pendingNextTask){if(t.activeKeysSize>0){const l=((a=t.taskProgress.find(c=>c.status==="active"))==null?void 0:a.taskId)??null;return console.log("Waiting for key releases before activating:",t.pendingNextTask),console.log("Staying with current task:",l),l}return console.log("Activating pending task:",t.pendingNextTask),t.pendingNextTask}const i=t.taskProgress.find(l=>l.status==="active");if(i&&n.taskIds.includes(i.taskId))return console.log("Found existing active task:",i.taskId),i.taskId;for(const l of n.taskIds){console.log("Checking task:",l);const c=t.taskProgress.find(h=>h.taskId===l);if(console.log("Task state:",c),(!c||c.status!=="completed")&&lw(l,t.taskProgress,e))return console.log(`Activating task: ${l}`),l}return console.log("No active task found - all completed"),null},LE=()=>{var Q,re,j;const[t,e]=Y.useState(0),[n,r]=Y.useState("single"),[o,i]=Y.useState("chromatic"),[a,l]=Y.useState([]),[c,h]=Y.useState(1),[f,g]=Y.useState([]),[_,N]=Y.useState(null),E=Gh(),{lessonId:b}=y_(),[I,w]=Y.useState({taskProgress:[],pendingNextTask:null,activeKeysSize:0,sequenceIndices:{},taskPlayedNotes:{}}),[T,A]=Y.useState(()=>Ft.reduce((W,te)=>[...W,...te.taskIds],[]).reduce((W,te)=>({...W,[te]:new Set}),{})),[R,M]=Y.useState(new Set),[L,z]=Y.useState(!1),[V,J]=Y.useState(new Set),G=Y.useCallback(O=>{console.log("[resetTaskState] Resetting state for task:",O),w(W=>({...W,sequenceIndices:{...W.sequenceIndices,[O]:0}})),A(W=>({...W,[O]:new Set}))},[]);Y.useEffect(()=>{const O=parseInt(b||"1");console.log("[lessonChange] Changing to lesson:",O,{currentLessonId:c,lessonId:b});const W=Ft.find(ce=>ce.id===O),te=W==null?void 0:W.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:W,firstTaskId:te,hasTaskIds:W==null?void 0:W.taskIds.length}),!isNaN(O)&&Ft.some(ce=>ce.id===O)?(h(O),w(ce=>{console.log("[lessonChange] Previous state:",{taskProgress:ce.taskProgress,pendingNextTask:ce.pendingNextTask});const ie=te?[{taskId:te,progress:0,status:"active"}]:[];return console.log("[lessonChange] Setting new state:",{newTaskProgress:ie,firstTaskId:te}),{...ce,taskProgress:ie,pendingNextTask:null}}),W&&A(ce=>{const ie={...ce};return W.taskIds.forEach(y=>{ie[y]=new Set}),console.log("[lessonChange] Reset task played notes:",ie),ie})):(console.log("[lessonChange] Invalid lesson ID, redirecting to lesson 1"),O!==1&&E(`${En}/1`,{replace:!0}))},[b,E]),Y.useEffect(()=>{w(O=>({...O,activeKeysSize:R.size}))},[R.size]);const Z=Y.useCallback((O,W,te)=>{const ce=rn[O];if(!ce)return;const ie=ce.checker,y=I.sequenceIndices[O]||0,v=I.taskPlayedNotes[O]||new Set;if(!(ie.type==="sequence"?ie.checkNote(W,te,y):ie.checkNote(W,te,v)))return;const d=(ie.type==="sequence"?ie.getState(y):ie.getState(v)).progress+1;w(p=>({...p,sequenceIndices:ie.type==="sequence"?{...p.sequenceIndices,[O]:y+1}:p.sequenceIndices,taskPlayedNotes:ie.type==="set"?{...p.taskPlayedNotes,[O]:new Set([...v,`${W}-${te}`])}:p.taskPlayedNotes,taskProgress:p.taskProgress.map(m=>m.taskId===O?{...m,progress:d,status:d>=ce.total?"completing":"active"}:m)}))},[I]);Y.useEffect(()=>{(async()=>{await EE(),z(!0)})()},[]);const ee=Y.useCallback(async(O,W)=>{if(!L)return[];const te=Pp(I,c);te&&Z(te,O,W),console.log("[playNotes] Called with:",{note:O,octave:W,tonic:t}),console.log("[playNotes] Current state:",{taskProgress:I.taskProgress,activeKeys:Array.from(R),currentLessonId:c,sequenceIndices:I.sequenceIndices,taskPlayedNotes:T});const ce=(O-t+12)%12;console.log("Calculated relative note:",ce);const ie=ju[n].getNotes(ce,W);console.log("Notes to play:",ie);const y=ie.map(({note:v,octave:s})=>{const u=(v+t)%12,d=`${Mp[u]}${s}`;to.triggerAttack(d,aE());const p={id:`${u}-${s}-${Date.now()}`,note:u,octave:s,startTime:Date.now(),endTime:null};return l(m=>[...m,p]),{note:u,octave:s}});return M(v=>new Set([...v,`${O}-${W}`])),y},[L,t,n,I.sequenceIndices,I.taskProgress,c,R,T,Z]),fe=Y.useCallback((O,W)=>{const te=`${O}-${W}`;console.log(`[releaseNotes] Releasing ${te}, active keys: ${R.size}`),M(y=>{const v=new Set(y);return v.delete(`${O}-${W}`),v});const ce=(O-t+12)%12;return ju[n].getNotes(ce,W).map(({note:y,octave:v})=>{const s=(y+t)%12,u=`${Mp[s]}${v}`;return to.triggerRelease(u),l(d=>d.map(p=>p.note===s&&p.octave===v&&!p.endTime?{...p,endTime:Date.now()}:p)),{note:s,octave:v}})},[t,n]),pe=Y.useCallback(()=>{console.log("stopProgression called, current ID:",_),N(null);const O=a.filter(W=>!W.endTime).map(({note:W,octave:te})=>({note:W,octave:te}));console.log("Releasing notes:",O),O.forEach(({note:W,octave:te})=>{fe(W,te)}),f.forEach(W=>clearTimeout(W)),g([])},[f,a,fe]),Se=Y.useCallback(O=>{console.log("[lessonChange] Changing to lesson:",O,{currentLessonId:c,lessonId:O});const W=Ft.find(v=>v.id===O);if(!W)return;const te=W.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:W,firstTaskId:te,hasTaskIds:W.taskIds.length});const ce=W.taskIds.map(v=>({taskId:v,progress:0,status:"active"})),ie={},y={};W.taskIds.forEach(v=>{const s=rn[v];s&&(s.checker.type==="sequence"&&(ie[v]=0),y[v]=new Set)}),w(v=>({...v,taskProgress:ce,sequenceIndices:ie,pendingNextTask:null})),A(y),h(O),E(`${En}/${O}`),console.log("[lessonChange] Reset states:",{newTaskProgress:ce,newSequenceIndices:ie,newTaskPlayedNotes:y})},[c,E]);Y.useEffect(()=>{const O=W=>{W.code==="Space"&&_&&!["INPUT","TEXTAREA"].includes(W.target.tagName)&&(W.preventDefault(),pe())};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[_,pe]),Y.useEffect(()=>{I.pendingNextTask&&R.size===0&&(console.log("All keys released, finalizing task transition to:",I.pendingNextTask),w(O=>({...O,pendingNextTask:null})))},[I.pendingNextTask,R.size]),Y.useEffect(()=>{I.pendingNextTask&&w(O=>!O.taskProgress.some(te=>te.taskId===I.pendingNextTask)&&I.pendingNextTask?(G(I.pendingNextTask),{...O,taskProgress:[...O.taskProgress,{taskId:I.pendingNextTask,progress:0,status:"active"}]}):O)},[I.pendingNextTask]);const he=Pp(I,c);Y.useEffect(()=>{console.log("[taskPlayedNotes] Resetting for lesson:",c);const O=Ft.find(W=>W.id===c);O&&A(W=>{const te={...W};return O.taskIds.forEach(ce=>{te[ce]=new Set}),te})},[c]),Y.useEffect(()=>{var O;if(console.log("[activeKeys effect] Size changed:",{size:R.size,completingTask:(O=I.taskProgress.find(W=>W.status==="completing"))==null?void 0:O.taskId}),R.size===0){const W=I.taskProgress.find(te=>te.status==="completing");W&&(console.log("[activeKeys effect] Completing task:",W.taskId),w(te=>{const ce=ap(W.taskId);return{...te,taskProgress:te.taskProgress.map(ie=>ie.taskId===W.taskId?{...ie,status:"completed"}:ie),pendingNextTask:ce}}))}},[R.size]);const ge=Y.useCallback(O=>{w(W=>{const te=ap(O);return{...W,taskProgress:W.taskProgress.map(ce=>ce.taskId===O?{...ce,status:"completed",progress:rn[O].total}:ce),pendingNextTask:te}})},[]);return Y.useEffect(()=>{if(console.log("[sequenceCheckers] Initializing for active task:",he),he){const O=rn[he];(O==null?void 0:O.checker.type)==="sequence"&&w(W=>typeof W.sequenceIndices[he]>"u"?(console.log("[sequenceCheckers] Initializing new sequence checker for:",he),{...W,sequenceIndices:{...W.sequenceIndices,[he]:0}}):W)}},[he]),$.jsxs($.Fragment,{children:[$.jsx(jE,{currentLessonId:c,onLessonChange:Se,taskProgress:I.taskProgress,activeTaskId:he,onSkipTask:ge,keyboardState:{activeKeyCodes:V,taskKeyboardMapping:he?(Q=rn[he])==null?void 0:Q.keyboardMapping:void 0}}),L?$.jsx(pw,{tonic:t,setTonic:e,colorMode:he&&((re=rn[he])==null?void 0:re.colorMode)||o,onColorModeChange:i,currentVoicing:n,onVoicingChange:r,playNotes:ee,releaseNotes:fe,fallingNotes:a,currentlyPlayingId:_,onStopPlaying:pe,taskKeyboardMapping:he?(j=rn[he])==null?void 0:j.keyboardMapping:void 0,activeTaskId:he,taskProgress:I.taskProgress,taskPlayedNotes:I.taskPlayedNotes,state:I,setActiveKeyCodes:J}):$.jsx("div",{className:"fixed top-0 left-[600px] right-0 bottom-0 bg-black flex items-center justify-center text-white",children:"Loading piano sounds..."})]})},KE=()=>{const e=Ft.filter(n=>n.taskIds.length>0).map(n=>{const r=n.taskIds[n.taskIds.length-1],o=rn[r];return o!=null&&o.keyboardMapping?{lessonTitle:n.title,taskId:r,taskConfig:o}:null}).filter(n=>n!==null)[2];return $.jsxs("div",{className:"fixed top-0 left-0 w-[600px] h-screen bg-gray-900 text-white flex flex-col",children:[$.jsx("div",{className:"bg-gray-900 z-20 p-8 pb-4 border-b border-gray-800",children:$.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[$.jsx(os,{to:`${En}/1`,className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700",children:$.jsx(Qu,{className:"w-6 h-6"})}),$.jsx("h1",{className:"text-2xl font-bold",children:"Final Keyboard Mappings"})]})}),$.jsx("div",{className:"flex-1 overflow-y-auto",children:$.jsx("div",{className:"p-8",children:e&&$.jsxs("div",{className:"mb-8",children:[$.jsx("h2",{className:"text-lg font-semibold mb-2",children:e.lessonTitle}),$.jsx("p",{className:"text-gray-400 mb-4",children:e.taskConfig.description}),$.jsx("div",{className:"bg-gray-800 p-4 rounded",children:$.jsx(dv,{keyboardState:{activeKeyCodes:new Set,taskKeyboardMapping:e.taskConfig.keyboardMapping}})})]},e.taskId)})})]})};function VE(){return $.jsx(V_,{children:$.jsxs(P_,{children:[$.jsx(rs,{path:`${En}/:lessonId`,element:$.jsx(LE,{})}),$.jsx(rs,{path:`${En}/mappings`,element:$.jsx(KE,{})}),$.jsx(rs,{path:En,element:$.jsx(ep,{to:`${En}/1`,replace:!0})}),$.jsx(rs,{path:"*",element:$.jsx(ep,{to:`${En}/1`,replace:!0})})]})})}Hg(document.getElementById("root")).render($.jsx(Y.StrictMode,{children:$.jsx(VE,{})}))});export default BE();
